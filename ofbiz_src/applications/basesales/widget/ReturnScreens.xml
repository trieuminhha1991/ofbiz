<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../framework/widget/dtd/widget-screen.xsd">
	<screen name="OrderCommonDecorator">
		<section>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
                    	<decorator-section-include name="body"/>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ListReturnOrder">
		<section>
			<actions>
				<set field="selectedMenuItem" value="returnOrder"/>
                <set field="selectedSubMenuItem" value="returnOrderList"/>
				<set field="titleProperty" value="BSListReturnOrder" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="OrderCommonDecorator">
					<decorator-section name="body">
						<section>
							<condition>
								<or>
									<if-olbius-has-permission/>
									<if-olbius-entity-permission entity="DIS_RETURNORDER" permission="VIEW"/>
								</or>
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basesales/webapp/basesales/return/returnOrderList.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
	<screen name="listReturnOrderBySalesman">
		<section>
			<actions>
				<set field="selectedMenuItem" value="returnOrderRetailOutletBySalesman"/>
				<set field="selectedSubMenuItem" value="returnOrderListBySalesman"/>
				<set field="titleProperty" value="BSListReturnOrder" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="OrderCommonDecorator">
					<decorator-section name="body">
						<section>
							<condition>
								<or>
									<if-olbius-has-permission/>
									<if-olbius-entity-permission entity="SALESMAN_RETURNORDER" permission="VIEW"/>
								</or>
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basesales/webapp/basesales/return/returnOrderList.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="NewReturnOrder">
		<section>
			<actions>
				<set field="selectedMenuItem" value="returnOrder"/>
                <set field="selectedSubMenuItem" value="newReturnOrder"/>
				<set field="titleProperty" value="BSCreateNewReturnOrder" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="OrderCommonDecorator">
					<decorator-section name="body">
						<section>
							<condition>
								<or>
									<if-olbius-has-permission/>
									<if-olbius-entity-permission entity="DIS_RETURNORDER" permission="CREATE"/>
								</or>
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basesales/webapp/basesales/return/returnOrderNewTotal.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotCreatePermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
	<screen name="NewReturnOrderBySalesman">
		<section>
			<actions>
				<set field="selectedMenuItem" value="returnOrderRetailOutletBySalesman"/>
				<set field="selectedSubMenuItem" value="newReturnOrderBySalesman"/>
				<set field="titleProperty" value="BSCreateNewReturnOrder" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="OrderCommonDecorator">
					<decorator-section name="body">
						<section>
							<condition>
								<or>
									<if-olbius-has-permission/>
									<if-olbius-entity-permission entity="SALESMAN_RETURNORDER" permission="CREATE"/>
								</or>
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basesales/webapp/basesales/return/returnOrderNewTotal.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotCreatePermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
    <screen name="LoadReturnItemsAjax">
		<section>
			<actions>
				<property-map map-name="uiLabelMap" resource="CommonUiLabels" global="true"/>
				<property-map map-name="uiLabelMap" resource="OrderUiLabels" global="true"/>
				<property-map map-name="uiLabelMap" resource="WidgetUiLabels" global="true"/>
				<property-map map-name="uiLabelMap" resource="BaseSalesUiLabels" global="true"/>
				<property-map map-name="uiLabelMap" resource="BaseSalesErrorUiLabels" global="true"/>
				<set field="selectedMenuItem" value="returnOrder"/>
                <set field="selectedSubMenuItem" value="newReturnOrder"/>
				<set field="titleProperty" value="BSCreateNewReturnOrder" global="true"/>
				<script location="component://basesales/webapp/basesales/WEB-INF/actions/return/LoadReturnItems.groovy"/>
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
<!-- 							<html><html-template location="component://basesales/webapp/basesales/return/returnOrderNewItemTotal.ftl"/></html> -->
							<html><html-template location="component://basesales/webapp/basesales/return/returnOrderNewItemJQ.ftl"/></html>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
    </screen>
    
    <screen name="ReturnTitle">
		<section>
			<condition>
				<not><if-empty field="parameters.returnId"/></not>
			</condition>
			<widgets>
				<label style="ibefore-icon-angle-right" text=" ${uiLabelMap.ReturnId}: "></label>
				<link url-mode="plain" target="viewReturnOrder?returnId=${parameters.returnId}" text="${parameters.returnId}"></link>
			</widgets>
		</section>
	</screen>
	
    <screen name="ViewReturnOrder">
    	<section>
			<actions>
				<entity-one value-field="returnHeader" entity-name="ReturnHeader">
                	<field-map field-name="returnId" from-field="parameters.returnId"/>
                </entity-one>
				<script location="component://basesales/webapp/basesales/WEB-INF/actions/return/navMenu.groovy"/>
				<set field="selectedMenuItem" default-value="returnOrder" from-field="selectedMenuItem"/>
                <set field="selectedSubMenuItem" default-value="returnOrderList" from-field="selectedSubMenuItem"/>
				<set field="titleProperty" value="BSViewReturnOrder" global="true"/>
			 	<set field="titleHeaderValue" value="ReturnTitle" global="true"/>
				<set field="titleHeaderLocation" value="component://basesales/widget/ReturnScreens.xml" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="OrderCommonDecorator">
					<decorator-section name="body">
						<section>
							<condition>
								<or>
									<if-olbius-has-permission/>
									<if-olbius-entity-permission entity="DIS_RETURNORDER" permission="CREATE"/>
									<if-olbius-entity-permission entity="SALESMAN_RETURNORDER" permission="CREATE"/>
								</or>
							</condition>
							<actions>
								<script location="component://basesales/webapp/basesales/WEB-INF/actions/return/ReturnOrderViewGeneral.groovy"/>
							</actions>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basesales/webapp/basesales/return/returnOrderViewOpen.ftl"/>
										<html-template location="component://basesales/webapp/basesales/return/returnOrderViewGeneral.ftl"/>
										<html-template location="component://basesales/webapp/basesales/return/returnOrderViewClose.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
    
    <screen name="NewReturnWithoutOrder">
		<section>
			<actions>
				<set field="selectedMenuItem" value="returnOrder"/>
                <set field="selectedSubMenuItem" value="newReturnWithoutOrder"/>
				<set field="titleProperty" value="BSCreateNewReturnWithoutOrder" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="OrderCommonDecorator">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<screenlet title="${uiLabelMap[titleProperty]}">
									<platform-specific>
										<html>
											<html-template location="component://basesales/webapp/basesales/return/returnWithoutOrderNewTotal.ftl"/>
										</html>
									</platform-specific>
								</screenlet>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotCreatePermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
	<screen name="NewReturnWithoutOrderBySalesman">
		<section>
			<actions>
				<set field="selectedMenuItem" value="returnOrderRetailOutletBySalesman"/>
				<set field="selectedSubMenuItem" value="newReturnWithoutOrderBySalesman"/>
				<set field="titleProperty" value="BSCreateNewReturnWithoutOrder" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="OrderCommonDecorator">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<screenlet title="${uiLabelMap[titleProperty]}">
									<platform-specific>
										<html>
											<html-template location="component://basesales/webapp/basesales/return/returnWithoutOrderNewTotalBySalesman.ftl"/>
										</html>
									</platform-specific>
								</screenlet>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotCreatePermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
</screens>