<?xml version="1.0" encoding="UTF-8"?>
<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../framework/service/dtd/services.xsd">
    <description>Loyalty Point Services</description>
    <vendor></vendor>
    <version>1.0</version>
	
	<!-- loyalty point services -->
	<service name="JQListLoyalty" engine="java" invoke="jqGetListLoyalty" location="com.olbius.basesales.loyalty.LoyaltyServices">
   		<implements service="jqxGetListInterface"/>
   	</service>
   	
   	<service name="createLoyaltyCustom" engine="simple" default-entity-name="Loyalty"
    	location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyCustom" auth="true">
		<auto-attributes include="pk" mode="OUT" optional="true"/><!-- false -->
		<attribute name="roleTypeIds" mode="IN" type="java.util.List" optional="true"></attribute>
		<attribute name="productStoreIds" mode="IN" type="java.util.List" optional="true"></attribute>
        <auto-attributes include="nonpk" mode="IN" optional="true">
            <exclude field-name="createdDate"/>
            <exclude field-name="createdByUserLogin"/>
        </auto-attributes>
        <override name="loyaltyId" mode="INOUT" optional="true"/>
        <override name="loyaltyName" optional="true" allow-html="safe"/>
        <override name="loyaltyText" optional="true" allow-html="safe"/>
    </service>
    
    <service name="createLoyaltyRuleCustom" default-entity-name="LoyaltyRule" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyRule" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="loyaltyRuleId" mode="OUT" optional="true"/>
    </service>
    
    <service name="createLoyaltyRule" default-entity-name="LoyaltyRule" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyRule" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="false"/>
        <override name="loyaltyRuleId" mode="OUT"/>
    </service>
    
    <service name="createLoyaltyCondCustom" default-entity-name="LoyaltyCondition" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyCond" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <auto-attributes mode="IN" include="nonpk" entity-name="LoyaltyCategory" optional="true"></auto-attributes>
        <attribute name="carrierShipmentMethod" type="String" mode="IN" optional="true"/>
        <attribute name="productCatIdListCond" mode="IN" type="java.util.List" optional="true"></attribute>
        <attribute name="productIdListCond" mode="IN" type="java.util.List" optional="true"></attribute>
        <override name="loyaltyCondSeqId" mode="OUT" optional="true"/>
    </service>
    
    <service name="createLoyaltyCond" default-entity-name="LoyaltyCondition" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyCondCore" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute name="carrierShipmentMethod" type="String" mode="IN" optional="true"/>
        <override name="loyaltyCondSeqId" mode="OUT"/>
    </service>
    
    <service name="createLoyaltyCategory" default-entity-name="LoyaltyCategory" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyCategory" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    
    <service name="createLoyaltyProduct" default-entity-name="LoyaltyProduct" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyProduct" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    
    <service name="createLoyaltyActionCustom" default-entity-name="LoyaltyAction" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyAction" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <auto-attributes mode="IN" include="nonpk" entity-name="LoyaltyCategory" optional="true"></auto-attributes>
        <!-- <attribute name="productCatIdListAction" mode="IN" type="java.util.List" optional="true"></attribute>
        <attribute name="productIdListAction" mode="IN" type="java.util.List" optional="true"></attribute> -->
        <override name="loyaltyActionSeqId" mode="OUT" optional="true"/>
        <override name="loyaltyActionEnumId" optional="false"/>
    </service>
    
    <service name="createLoyaltyAction" default-entity-name="LoyaltyAction" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyActionCore" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="loyaltyActionSeqId" mode="OUT"/>
        <override name="loyaltyActionEnumId" optional="false"/>
    </service>
    
    <service name="createLoyaltyRoleCustom" engine="simple" default-entity-name="LoyaltyRoleTypeAppl"
    	location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createLoyaltyRole">
    	<auto-attributes mode="IN" include="pk" optional="false"></auto-attributes>
    	<auto-attributes mode="IN" include="nonpk" optional="true"></auto-attributes>
    </service>
    
    <service name="createProductStoreLoyaltyAppl" default-entity-name="ProductStoreLoyaltyAppl" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="createProductStoreLoyaltyAppl" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <override name="fromDate" optional="true"/>
    </service>
    
    <service name="deleteLoyaltyCustom" default-entity-name="Loyalty" engine="simple"
        location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="deleteLoyalty" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
    
    <service name="updateLoyaltyThruDate" engine="simple" 
    	location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="updateLoyaltyThruDate" auth="true">
    	<attribute name="loyaltyId" mode="INOUT" type="String" optional="true"/>
    	<attribute name="thruDate" mode="IN" type="Timestamp" optional="true"/>
    </service>
    
    <service name="updateLoyaltyStatus" engine="simple" default-entity-name="Loyalty" auth="true"
    	location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="updateLoyaltyStatus">
    	<auto-attributes mode="IN" include="pk" optional="false"></auto-attributes>
    	<auto-attributes mode="IN" include="nonpk" optional="true"></auto-attributes>
    	<attribute name="changeReason" type="String" mode="IN" optional="true"/>
    	<override name="loyaltyStatusId" optional="false"></override>
    </service>
    
    <service name="updateLoyalty" default-entity-name="Loyalty" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="updateLoyalty" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true">
            <exclude field-name="createdDate"/>
            <exclude field-name="createdByUserLogin"/>
        </auto-attributes>
        <override name="loyaltyName" allow-html="safe"/>
        <override name="loyaltyText" allow-html="safe"/>
    </service>
    
    <service name="deleteLoyaltyRule" default-entity-name="LoyaltyRule" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="deleteLoyaltyRule" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
    
    <service name="updateLoyaltyRule" default-entity-name="LoyaltyRule" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="updateLoyaltyRule" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="false"/>
    </service>
    
    <service name="deleteLoyaltyCond" default-entity-name="LoyaltyCondition" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="deleteLoyaltyCond" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
    
    <service name="updateLoyaltyCond" default-entity-name="LoyaltyCondition" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="updateLoyaltyCond" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute name="carrierShipmentMethod" type="String" mode="IN" optional="true"/>
    </service>
    
    <service name="deleteLoyaltyAction" default-entity-name="LoyaltyAction" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="deleteLoyaltyAction" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
    </service>
    
    <service name="updateLoyaltyAction" default-entity-name="LoyaltyAction" engine="simple"
                location="component://basesales/script/com/olbius/loyalty/LoyaltyServices.xml" invoke="updateLoyaltyAction" auth="true">
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
    </service>
    
    <service name="processLoyaltyPoint" engine="java" location="com.olbius.basesales.loyalty.LoyaltyServices" invoke="processLoyaltyPoint">
    	<attribute name="isReturnOrder" mode="IN" type="String" optional="false"></attribute>
    	<attribute name="orderId" mode="IN" type="String" optional="true"></attribute>
    	<attribute name="returnId" mode="IN" type="String" optional="true"></attribute>
    </service>
    
    <service name="getLoyaltyPointCustomer" engine="java" location="com.olbius.basesales.loyalty.LoyaltyServices" invoke="getLoyaltyPointCustomer">
    	<attribute name="cart" mode="IN" type="org.ofbiz.order.shoppingcart.ShoppingCart" optional="false"></attribute>
    	<attribute name="totalPointOrder" mode="OUT" type="BigDecimal" optional="false"></attribute>
    	<attribute name="totalPointCustomer" mode="OUT" type="BigDecimal" optional="false"></attribute>
    </service>
    
   	<!-- end loyalty point services -->
   	
   	<!-- party classification -->
	<service name="JQListPartyClassificationGroup" engine="java" invoke="jqGetListPartyClassificationGroup" location="com.olbius.basesales.party.PartyClassificationServices">
   		<implements service="jqxGetListInterface"/>
   	</service>
   	
	<service name="JQListPartyClassificationGroupParties" engine="java" invoke="jqGetListPartyClassificationGroupParties" location="com.olbius.basesales.party.PartyClassificationServices">
   		<implements service="jqxGetListInterface"/>
   	</service>
   	
   	<!-- TODOCHANGE delete, replace by "JQListPartyFullName" -->
	<service name="JQListParty" engine="java" invoke="jqGetListParty" location="com.olbius.basesales.party.PartyClassificationServices">
   		<implements service="jqxGetListInterface"/>
   	</service> 
   	
	<service name="JQListLoyaltyCustomer" engine="java" invoke="jqGetListLoyaltyCustomer" location="com.olbius.basesales.party.PartyClassificationServices">
   		<implements service="jqxGetListInterface"/>
   	</service> 
   	
	<service name="JQListLoyaltyCustomerDetail" engine="java" invoke="jqGetListLoyaltyCustomerDetail" location="com.olbius.basesales.party.PartyClassificationServices">
   		<implements service="jqxGetListInterface"/>
   	</service> 
   	
   	<service name="updatePartyClassificationCore" engine="java" default-entity-name="PartyClassification"
   		 location="com.olbius.basesales.party.PartyClassificationServices" invoke="updatePartyClassification">
        <description>Update PartyClassification</description>
        <required-permissions join-type="AND">
        	<olbius-permission/>
        </required-permissions>
        <auto-attributes mode="IN" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
    </service>
	<!-- end party classification -->

</services>