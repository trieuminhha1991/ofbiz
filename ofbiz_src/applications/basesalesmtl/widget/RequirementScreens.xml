<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../framework/widget/dtd/widget-screen.xsd">
	<screen name="RequirementCommonDecorator">
		<section>
			<actions>
				<set field="selectedMenuItem" value="reqDelivery" global="true"/>
				<set field="selectedSubMenuItem" value="reqDeliveryOrderList" global="true"/>
				<script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/navigator/nav_reqDelOrderList.groovy"/>
			</actions>
			<widgets>
				<section>
					<condition>
						<if-olbius-has-permission/>
					</condition>
					<widgets>
						<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
							<decorator-section name="body">
								<decorator-section-include name="body"/>
							</decorator-section>
						</decorator-screen>
					</widgets>
					<fail-widgets>
						<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
							<decorator-section name="body">
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</decorator-section>
						</decorator-screen>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="ReqDeliveryOrderList">
		<section>
			<actions>
				<set field="selectedMenuItem" value="reqDelivery"/>
				<set field="selectedSubMenuItem" value="reqDeliveryOrderList"/>
				<set field="titleProperty" value="BSListRequirementDeliveryOrder"/>
			</actions>
			<widgets>
				<decorator-screen name="RequirementCommonDecorator">
					<decorator-section name="body">
						<platform-specific>
							<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/requirement/reqDeliveryOrderList.ftl"/></html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ReqDeliveryOrderNew">
		<section>
			<actions>
				<set field="selectedMenuItem" value="reqDelivery"/>
				<set field="selectedSubMenuItem" value="newReqDeliveryOrder"/>
				<set field="titleProperty" value="BSCreateNewRequirementDeliveryOrder"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<platform-specific>
									<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/requirement/reqDeliveryOrderNewTotal.ftl"/></html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotCreatePermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ReqDeliveryOrderNewOnMap">
		<section>
			<actions>
				<set field="selectedMenuItem" value="reqDelivery"/>
				<set field="selectedSubMenuItem" value="newReqDeliveryOrderOnMap"/>
				<set field="titleProperty" value="BSCreateNewRequirementDeliveryOrder"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<platform-specific>
									<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/requirement/reqDeliveryOrderNewTotalOnMap.ftl"/></html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotCreatePermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="requirementTitle">
		<section>
			<condition>
				<not><if-empty field="requirement"/></not>
			</condition>
			<widgets>
				<label style="ibefore-icon-angle-right" text="${uiLabelMap.BSId}: "></label>
				<link url-mode="plain" target="viewReqDeliveryOrder?requirementId=${requirement.requirementId}" text="${requirement.requirementId}"></link>
			</widgets>
		</section>
	</screen>
	<screen name="ReqDeliveryOrderView">
		<section>
			<actions>
				<set field="titleProperty" value="BSViewReqDeliveryOrder"/>
				<set field="recordId" value="${parameters.requirementId}"/>
				<entity-one value-field="requirement" entity-name="Requirement">
					<field-map field-name="requirementId" value="${parameters.requirementId}"/>
				</entity-one>
			</actions>
			<widgets>
				<section>
					<condition>
						<and>
							<not><if-empty field="requirement"/></not>
							<if-compare field="requirement.requirementTypeId" operator="equals" value="DELIVERY_ORDER_REQ"/>
						</and>
					</condition>
					<actions>
						<set field="titleHeaderValue" value="requirementTitle" global="true"/>
						<set field="titleHeaderLocation" value="component://basesalesmtl/widget/RequirementScreens.xml" global="true"/>
						<set field="currentStatusId" from-field="requirement.statusId" global="true"/>
					</actions>
					<widgets>
						<decorator-screen name="RequirementCommonDecorator">
							<decorator-section name="body">
								<screenlet title="${uiLabelMap.BSViewReqDeliveryOrder}" navigation-menu-name="RequirementDeliverySubTabBar">
									<include-menu location="component://appbasemtl/widget/AppBaseMtlMenus.xml" name="RequirementDeliverySubTabBar"/>
									<platform-specific>
										<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/requirement/reqDeliveryOrderView.ftl"/></html>
									</platform-specific>
								</screenlet>
							</decorator-section>
						</decorator-screen>
					</widgets>
					<fail-widgets>
						<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
							<decorator-section name="body">
								<container style="alert alert-info">
				               		<label text="${uiLabelMap.BSRecordHasIdIsNotFound}"></label>
				               	</container>
			               	</decorator-section>
		               	</decorator-screen>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	<screen name="ReqSalesTransferNewInfo">
		<section>
			<widgets>
				<platform-specific>
					<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/requirement/reqSalesTransferNewInfo.ftl"/></html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="ReqSalesTransferNew">
		<section>
			<actions>
				<set field="selectedMenuItem" value="requirement"/>
				<set field="selectedSubMenuItem" value="newReqSalesTransfer"/>
				<set field="titleProperty" value="BSCreateNewRequirement"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<actions>
								<set field="isSalesReqTransfer" value="true" type="Boolean"/>
							</actions>
							<widgets>
								<platform-specific>
									<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/requirement/reqSalesTransferNewTotal.ftl"/></html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotCreatePermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ReqSalesTransferView">
		<section>
			<actions>
				<set field="selectedMenuItem" value="requirement"/>
				<set field="selectedSubMenuItem" value="reqSalesTransferList"/>
				<set field="parameters.selectedMenuItem" from-field="selectedMenuItem"/>
				<set field="parameters.selectedSubMenuItem" from-field="selectedSubMenuItem"/>
				<set field="titleProperty" value="BSViewRequirement"/>
			</actions>
			<widgets>
				<section>
					<condition>
						<if-olbius-has-permission/>
					</condition>
                    <actions>
                        <set field="isShowExpireDate" value="true" type="Boolean"/>
                    </actions>
					<widgets>
						<include-screen name="RequirementDetail" location="component://baselogistics/widget/RequirementScreens.xml"/>
					</widgets>
					<fail-widgets>
						<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
							<decorator-section name="body">
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</decorator-section>
						</decorator-screen>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="ReqSalesTransferList">
		<section>
			<actions>
				<set field="selectedMenuItem" value="requirement"/>
				<set field="selectedSubMenuItem" value="reqSalesTransferList"/>
				<set field="titleProperty" value="BSViewRequirementList"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<platform-specific>
									<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/requirement/reqSalesTransferList.ftl"/></html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
</screens>
