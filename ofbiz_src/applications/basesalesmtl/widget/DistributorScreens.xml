<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../framework/widget/dtd/widget-screen.xsd">

    <screen name="QuotationList">
		<section>
			<actions>
				<set field="selectedMenuItem" value="QuotationList"/>
				<set field="titleProperty" value="DAQuotationDSList" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<platform-specific>
									<html><html-template location="component://basesales/webapp/basesales/quotation/quotationList.ftl"/></html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="DistributorCommonDecorator">
		<section>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
                    	<decorator-section-include name="body"/>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
    <screen name="ListReturnOrderCom">
    	<section>
			<actions>
				<set field="selectedMenuItem" value="returnProductTC"/>
            	<set field="selectedSubMenuItem" value="listReturnOrderCom"/>
                <set field="titleProperty" value="DAAbbListReturnOrder"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
                    		<condition>
                    			<if-has-permission permission="RETURNORD_ROLE" action="_VIEW"/>
                    		</condition>
                    		<widgets>
                    			<platform-specific>
	                            	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/listReturnOrderComJQ.ftl"/></html>
	                            </platform-specific>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
                    	</section>
                    </decorator-section>
                </decorator-screen>
			</widgets>
		</section>
    </screen>
    
    <screen name="ListReturnProductReqCom">
    	<section>
			<actions>
				<!-- <set field="selectedMenuItem" value="returnProductTC"/>
            	<set field="selectedSubMenuItem" value="returnReqToCompany"/> -->
                <set field="selectedMenuItem" value="requirement"/>
            	<set field="selectedSubMenuItem" value="returnReqToCompany"/>
                <set field="titleProperty" value="BSRequirementReturnToSupplierList"/>
                <set field="tabButtonItem" value="ListRequireReturn"/>
                <!-- <script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/distributor/return/checkRolePermissionPerson.groovy"/> -->
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
                    		<condition>
                    			<if-has-permission permission="REREQCOM_ROLE" action="_VIEW"/>
                    		</condition>
                    		<widgets>
                    			<platform-specific>
	                            	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/listReturnProductReqComJQ.ftl"/></html>
	                            </platform-specific>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
                    	</section>
                    </decorator-section>
                </decorator-screen>
			</widgets>
		</section>
    </screen>
    
    <!-- <screen name="ListReturnOrder">
    	<section>
			<actions>
				<set field="selectedMenuItem" value="returnProduct"/>
            	<set field="selectedSubMenuItem" value="listReturnOrder"/>
                <set field="titleProperty" value="DAAbbListReturnOrder"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
                    		<condition>
                    			<if-has-permission permission="REREQCOM_ROLE" action="_VIEW"/>
                    		</condition>
                    		<widgets>
                    			<platform-specific>
	                            	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/listReturnOrderJQ.ftl"/></html>
	                            </platform-specific>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
                    	</section>
                    </decorator-section>
                </decorator-screen>
			</widgets>
		</section>
    </screen> -->
    
    <screen name="viewReturnOrderTitle">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/title/viewReturnOrderTitle.ftl"/>
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
    <screen name="ViewReturnOrderGeneral">
    	<section>
    		<actions>
				<set field="selectedMenuItem" value="returnProduct"/>
            	<set field="selectedSubMenuItem" value="listReturnOrder"/>
                <set field="titleProperty" value="DAViewRequirementReturnFromMarket"/>
                <entity-one value-field="returnHeader" entity-name="ReturnHeader">
                	<field-map field-name="returnId" from-field="parameters.returnId"/>
                </entity-one>
			</actions>
			<widgets>
            	<section>
               		<condition>
                		<not><if-empty field="returnHeader"/></not>
             		</condition>
                	<actions>
                   		<set field="titleHeaderValue" value="viewReturnOrderTitle" global="true"/>
						<set field="titleHeaderLocation" value="component://basesalesmtl/widget/DistributorScreens.xml" global="true"/>
						<set field="companyId" value="${groovy: org.ofbiz.entity.util.EntityUtilProperties.getPropertyValue('general.properties', 'ORGANIZATION_PARTY', delegator)}"/>
                  	</actions>
                 	<widgets>
                 		<section>
                 			<condition>
				    			<and>
				    				<not><if-empty field="returnHeader"/></not>
				    				<not><if-empty field="companyId"/></not>
				   					<if-compare field="returnHeader.toPartyId" operator="equals" value="${companyId}"/>
				    			</and>
				    		</condition>
				    		<actions>
				    			<set field="selectedMenuItem" value="returnProductTC"/>
            					<set field="selectedSubMenuItem" value="listReturnOrderCom"/>
				    		</actions>
				    		<widgets></widgets>
                 		</section>
                   		<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                  	 		<decorator-section name="body">
                  	 			<screenlet title="${uiLabelMap.DAViewReturnOrder}: ${returnHeader.returnId}" navigation-menu-name="ViewReturnOrderSubTabBar">
									<include-menu name="ViewReturnOrderSubTabBar" location="component://delys/widget/sales/SalesMenus.xml"/>
									<platform-specific>
			                 			<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/viewReturnOrderGeneralJQ.ftl"/></html>
			               			</platform-specific>
								</screenlet>
		           			</decorator-section>
            			</decorator-screen>
                 	</widgets>
                   	<fail-widgets>
                   		<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                  	 		<decorator-section name="body">
		                   		<container style="alert alert-info">
		                   			<label text="${uiLabelMap.DAThisReturnOrderNotAvaiable}"/>
		                   		</container>
		                   	</decorator-section>
            			</decorator-screen>
                	</fail-widgets>
              	</section>
			</widgets>
    	</section>
    </screen>
    <screen name="ReceiveReturnAjax">
        <section>
            <actions>
            	<property-map resource="BaseSalesMtlOldUiLabels" map-name="uiLabelMap" global="true"/>
            	<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
            	<property-map resource="ProductUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="ProductReceiveReturn"/>
                <set field="headerItem" value="facility"/>
                <set field="tabButtonItem" value="ReceiveReturn"/>
                <set field="companyId" value="${groovy: org.ofbiz.entity.util.EntityUtilProperties.getPropertyValue('general.properties', 'ORGANIZATION_PARTY', delegator)}"/>
                <entity-condition list="listFacilityManager" entity-name="Facility" distinct="true">
                	<condition-list>
                		<condition-expr field-name="ownerPartyId" from-field="companyId"/>
                	</condition-list>
                	<select-field field-name="facilityId"/>
                </entity-condition>
                <entity-one value-field="returnHeader" entity-name="ReturnHeader">
                	<field-map field-name="returnId" from-field="parameters.returnId"/>
                </entity-one>
            </actions>
            <widgets>
            	<section>
            		<condition>
            			<not><if-empty field="listFacilityManager"/></not>
            		</condition>
            		<actions>
            			<script location="component://product/webapp/facility/WEB-INF/actions/returns/ReceiveReturn.groovy"/>
            		</actions>
            		<widgets>
            			<platform-specific>
			                <html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/receiveReturn.ftl"/></html>
			            </platform-specific>
            		</widgets>
            		<fail-widgets>
            			<platform-specific>
			                <html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/receiveReturn.ftl"/></html>
			            </platform-specific>
            		</fail-widgets>
            	</section>
            </widgets>
        </section>
    </screen>
	<screen name="ReceiveReturnDisAjax">
        <section>
            <actions>
            	<property-map resource="BaseSalesMtlOldUiLabels" map-name="uiLabelMap" global="true"/>
            	<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
            	<property-map resource="ProductUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="ProductReceiveReturn"/>
                <set field="headerItem" value="facility"/>
                <set field="tabButtonItem" value="ReceiveReturn"/>
                <entity-condition list="listFacilityManager" entity-name="FacilityParty" filter-by-date="true">
                	<condition-list>
                		<condition-expr field-name="partyId" from-field="userLogin.partyId"/>
                		<condition-expr field-name="roleTypeId" value="MANAGER"/>
                	</condition-list>
                </entity-condition>
                <entity-one value-field="returnHeader" entity-name="ReturnHeader">
                	<field-map field-name="returnId" from-field="parameters.returnId"/>
                </entity-one>
            </actions>
            <widgets>
            	<section>
            		<condition>
            			<not><if-empty field="listFacilityManager"/></not>
            		</condition>
            		<actions>
            			<script location="component://product/webapp/facility/WEB-INF/actions/returns/ReceiveReturn.groovy"/>
            		</actions>
            		<widgets>
            			<platform-specific>
			                <html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/receiveReturnDis.ftl"/></html>
			            </platform-specific>
            		</widgets>
            		<fail-widgets>
            			<platform-specific>
			                <html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/receiveReturnDis.ftl"/></html>
			            </platform-specific>
            		</fail-widgets>
            	</section>
            </widgets>
        </section>
    </screen>
    
    <screen name="ListReturnProductRequirement">
    	<section>
			<actions>
				<!-- <set field="selectedMenuItem" value="returnProduct"/>
            	<set field="selectedSubMenuItem" value="returnFromMarket"/>
                <set field="titleProperty" value="DASynthesisRequirementReturnFromMarket"/> -->
                <set field="selectedMenuItem" value="requirement"/>
            	<set field="selectedSubMenuItem" value="returnFromMarket"/>
                <set field="titleProperty" value="BSRequirementReturnProductRetriveFromMarketList"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
                    		<condition>
                    			<if-has-permission permission="REREQCOM_ROLE" action="_VIEW"/>
                    		</condition>
                    		<widgets>
                    			<platform-specific>
	                            	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/return/listReturnProductReqJQ.ftl"/></html>
	                            </platform-specific>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
                    	</section>
                    </decorator-section>
                </decorator-screen>
			</widgets>
		</section>
    </screen>
    
    
    
    <screen name="ProductStoreDis">
   		<section>
   			<actions>
   				<set field="selectedMenuItem" value="findProductStoreDis"/>
                <set field="selectedSubMenuItem" value=""/>
                <set field="titleProperty" value="DAListProductStore"/>
   				<entity-condition list="listProductStore" entity-name="ProductStoreRoleDetail" filter-by-date="true">
   					<condition-list>
   						<condition-expr field-name="partyId" from-field="userLogin.partyId"/>
   						<condition-expr field-name="roleTypeId" value="OWNER"/>
   					</condition-list>
   				</entity-condition>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
			    			<platform-specific>
			                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/productStoreList.ftl"/></html>
			                </platform-specific>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   		</section>
   	</screen>
   	
   	<screen name="CommonFacilityDecorator">
    	<section>
    		<condition>
    			<not>
    				<if-empty field="parameters.facilityId"/>
    			</not>
    		</condition>
    		<actions>
    			<set field="tabBarName" value="FacilityTabBar" global="true"/>
				<set field="tabBarLocation" value="component://basesalesmtl/widget/BaseSalesMtlMenus.xml" global="true"/>
				<set field="facilityId" from-field="parameters.facilityId"/>
				<entity-one value-field="facilitySelected" entity-name="Facility">
                	<field-map field-name="facilityId" from-field="parameters.facilityId"/>
                </entity-one>
				<set field="titleHeaderContent" value="${facilitySelected.facilityName} [${parameters.facilityId}]"/>
    			<set field="printTabBar" value="false"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
    					<decorator-section-include name="body"/>
   					</decorator-section>
				</decorator-screen>
    		</widgets>
    		<fail-widgets>
    			<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
    					<decorator-section-include name="body"/>
   					</decorator-section>
				</decorator-screen>
    		</fail-widgets>
    	</section>
    </screen>
   	
   	<screen name="EditDepositInventoryItemsDis">
        <section>
            <actions>
            	<set field="titleProperty" value="Inventory"/>
                <set field="tabButtonItem" value="EditFacilityInventoryItems"/>
                <set field="subTabButtonItem" value="EditInventoryItem"/>
                <set field="selectedMenuItem" from-field="parameters.me" default-value="Inventory"/>
                <set field="selectedSubMenuItem" from-field="parameters.sub" default-value="DepositInventory"/>
                <property-map resource="ProductUiLabels" map-name="uiLabelMap"/>
            	<set field="navMenuName" value="EditFacilityInventoryItemsSubTabBar"/>
				<set field="navMenuLocation" value="component://basesalesmtl/widget/BaseSalesMtlMenus.xml"/>
                <set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer" default-value="50"/>
                <entity-one entity-name="FacilityAndProductStore" value-field="facility"/>
                <set field="parameters.deposit" value="Y"/>
                <set field="titleProperty" value="DepositInventory" global="true" />
            </actions>
            <widgets>
            	<section>
               		<condition>
               			<if-olbius-has-permission/>
               		</condition>
          			<widgets>
		                <decorator-screen name="CommonFacilityDecorator">
		                    <decorator-section name="body">
		                    	<screenlet>
		                    		<platform-specific>
			                        	<html><html-template location="component://baselogistics/webapp/baselogistics/inventory/listAllInventory.ftl"/></html>
			                        </platform-specific>
		                    	</screenlet>
		                    </decorator-section>
		                </decorator-screen>
	                </widgets>
	                <fail-widgets>
	                	<container style="alert alert-info">
               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
               			</container>
	                </fail-widgets>
                </section>
            </widgets>
        </section>
    </screen>
    
    <screen name="EditFacilityInventoryItemsDis">
        <section>
            <actions>
            	<set field="titleProperty" value="Inventory"/>
                <set field="tabButtonItem" value="EditFacilityInventoryItems"/>
                <set field="subTabButtonItem" value="EditInventoryItem"/>
                <set field="selectedMenuItem" from-field="parameters.me" default-value="Inventory"/>
                <set field="selectedSubMenuItem" from-field="parameters.sub" default-value="InternalInventory"/>
                <property-map resource="ProductUiLabels" map-name="uiLabelMap"/>
            	<set field="navMenuName" value="EditFacilityInventoryItemsSubTabBar"/>
				<set field="navMenuLocation" value="component://basesalesmtl/widget/BaseSalesMtlMenus.xml"/>
                <set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer" default-value="50"/>
                <set field="facilityId" from-field="parameters.facilityId"/>
                <entity-one entity-name="FacilityAndProductStore" value-field="facility"/>
                <set field="titleProperty" value="InternalInventory" global="true" />
            </actions>
            <widgets>
            	<section>
               		<condition>
               			<if-olbius-has-permission/>
               		</condition>
          			<widgets>
		                <decorator-screen name="CommonFacilityDecorator">
		                    <decorator-section name="body">
		                    	<screenlet>
		                    		<platform-specific>
			                        	<html><html-template location="component://baselogistics/webapp/baselogistics/inventory/listAllInventory.ftl"/></html>
			                        </platform-specific>
		                    	</screenlet>
		                    </decorator-section>
		                </decorator-screen>
	                </widgets>
	                <fail-widgets>
	                	<container style="alert alert-info">
               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
               			</container>
	                </fail-widgets>
                </section>
            </widgets>
        </section>
    </screen>
    
    <screen name="ReceiveInventoryDis">
    	<section>
    		<actions>
    			<set field="tabButtonItem" value="receiveInventory"/>
    			<set field="selectedMenuItem" value="findFacilityDis"/>
                <set field="selectedSubMenuItem" value=""/>
    			<script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/distributor/ReceiveInventory.groovy"/>
                <set field="facilityId" from-field="parameters.facilityId"/>
                <entity-one entity-name="Facility" value-field="facility"/>
                <property-map resource="ProductUiLabels" map-name="uiLabelMap"/>
                <set field="title" value="${uiLabelMap.ProductReceiveInventory}"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="CommonFacilityDecorator">
    				<decorator-section name="body">
    					<screenlet title="${uiLabelMap.DAReceiveInventory}">
    						<platform-specific>
    							<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/facility/receiveInventory.ftl"/></html>
    						</platform-specific>
    					</screenlet>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
    	</section>
    </screen>
    
    <!--     perfect_not_delete_important 	-->
    <screen name="Distributor">
		<section>
			<actions>
				<set field="selectedMenuItem" value="distributor" />
				<set field="selectedSubMenuItem" value="distributorList" />
				<set field="titleProperty" value="DAAbbListDistributor" />
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
                    		<condition>
                    			<if-olbius-has-permission/>
                    		</condition>
                    		<widgets>
                    			<platform-specific>
	                            	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/profile/distributorList.ftl"/></html>
	                            </platform-specific>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
                    	</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="distributorTitle">
		<section>
			<condition>
				<not><if-empty field="distributorInfo"/></not>
			</condition>
			<widgets>
				<label style="ibefore-icon-angle-right" text="${uiLabelMap.DAId}: "></label>
				<link url-mode="plain" target="${link}?partyId=${distributorInfo.partyId}" text="${distributorInfo.partyCode}"></link>
			</widgets>
		</section>
	</screen>
	<screen name="AddDistributor">
		<section>
			<actions>
				<set field="link" value="AddDistributor"/>
				<set field="titleHeaderValue" value="distributorTitle" global="true"/>
				<set field="titleHeaderLocation" value="component://basesalesmtl/widget/DistributorScreens.xml" global="true"/>
				<set field="selectedMenuItem" value="distributor"/>
				<set field="selectedSubMenuItem" from-field="parameters.sub" default-value="AddDistributor"/>
				<set field="titleProperty" value="BSAddDistributor" />
				
				<set field="linkDetail" value="DistributorDetail"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
                    		<condition>
                    			<or>
                    				<if-olbius-has-permission permission="CREATE"/>
                    				<if-olbius-has-permission permission="UPDATE"/>
                    			</or>
                    		</condition>
                    		<widgets>
                    			<screenlet title="${uiLabelMap.BSAddDistributor}" navigation-menu-name="CommonBackToDetail">
									<!-- <include-menu name="CommonBackToDetail" location="component://basesalesmtl/widget/BaseSalesMtlMenus.xml" /> -->
	                    			<platform-specific>
		                            	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/profile/distributorNewTotal.ftl"/></html>
		                            </platform-specific>
	                            </screenlet>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
                    	</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="DistributorDetail">
		<section>
			<actions>
				<set field="tabBarName" value="DistributorTabBar" global="true"/>
				<set field="tabBarLocation" value="component://basesalesmtl/widget/BaseSalesMtlMenus.xml" global="true"/>
				<set field="link" value="DistributorDetail"/>
				<set field="titleHeaderValue" value="distributorTitle" global="true"/>
				<set field="titleHeaderLocation" value="component://basesalesmtl/widget/DistributorScreens.xml" global="true"/>
				<set field="selectedMenuItem" value="distributor"/>
				<set field="selectedSubMenuItem" from-field="parameters.sub" default-value="distributorList"/>
				<set field="titleProperty" value="BSViewDistributor" />
				
				<set field="permission" value="PARTY_DISTRIBUTOR_NEW"/>
				<set field="linkEdit" value="AddDistributor"/>
				
				<script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/distributor/GetDistributorProfile.groovy"/>
			</actions>
			<widgets>
				<section>
					<condition>
                 		<if-olbius-has-permission/>
                 	</condition>
                 	<widgets>
                 		<section>
							<condition>
								<not><if-empty field="distributorInfo"/></not>
							</condition>
							<actions>
								<set field="printTabBar" value="true"/>
							</actions>
							<widgets>
								<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
									<decorator-section name="body">
										<platform-specific>
			                            	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/profile/distributorViewTotal.ftl"/></html>
			                            </platform-specific>
			                        </decorator-section>
			                   	</decorator-screen>
							</widgets>
							<fail-widgets>
								<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
									<decorator-section name="body">
				                  		<container style="alert alert-info">
				                  			<label text="${uiLabelMap.BSIsNotFound}"/>
				                  		</container>
			                  		</decorator-section>
		                  		</decorator-screen>
							</fail-widgets>
						</section>
                 	</widgets>
                 	<fail-widgets>
                 		<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
							<decorator-section name="body">
		                  		<container style="alert alert-info">
		                  			<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		                  		</container>
	                  		</decorator-section>
                  		</decorator-screen>
                  	</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	<screen name="FacilityDistributorDetail">
    	<section>
   			<actions>
   				<set field="tabButtonItem" value="FacilityDistributorDetail" global="true"/>
   				<set field="tabBarName" value="DistributorTabBar" global="true"/>
				<set field="tabBarLocation" value="component://basesalesmtl/widget/BaseSalesMtlMenus.xml" global="true"/>
				<set field="printTabBar" value="true"/>
   			</actions>
   			<widgets>
   				<include-screen name="FacilityDis"/>
   			</widgets>
   		</section>
    </screen>
	
	<screen name="FacilityDis">
    	<section>
   			<actions>
                <set field="selectedMenuItem" from-field="parameters.me" default-value="Inventory"/>
				<set field="selectedSubMenuItem" from-field="parameters.sub" default-value="findFacilityDis"/>
                <script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/distributor/GetFacilities.groovy"/>
                <set field="titleProperty" value="DAListProductStoreFacility"/>
   			</actions>
   			<widgets>
   				<section>
               		<condition>
               			<if-olbius-has-permission/>
               		</condition>
          			<widgets>
		   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
		                    <decorator-section name="body">
		                    	<section>
				    				<condition>
										<if-has-permission permission="FACILITY" action="_VIEW"/>
									</condition>
				    				<widgets>
				                    	<screenlet>
							    			<platform-specific>
							                   	<html><html-template location="component://baselogistics/webapp/baselogistics/facility/listFacility.ftl"/></html>
							                </platform-specific>
						                </screenlet>
					                </widgets>
				    				<fail-widgets>
				    					<container style="alert alert-info">
				               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
				               			</container>
				    				</fail-widgets>
				    			</section>
				           	</decorator-section>
				       	</decorator-screen>
			       	</widgets>
			       	<fail-widgets>
                 		<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
							<decorator-section name="body">
		                  		<container style="alert alert-info">
		                  			<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		                  		</container>
	                  		</decorator-section>
                  		</decorator-screen>
                  	</fail-widgets>
               	</section>
   			</widgets>
   		</section>
    </screen>
	<screen name="DepositFacilities">
    	<section>
    		<condition>
    			<if-has-permission permission="LOGISTICS" action="_VIEW"/>
    		</condition>
   			<actions>
   				<set field="selectedMenuItem" value="Facility"/>
                <set field="selectedSubMenuItem" value="DepositFacilities"/>
                <script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/distributor/GetFacilities.groovy"/>
                <set field="titleProperty" value="BSDepositFacilities"/>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
		    				<condition>
								<if-has-permission permission="FACILITY" action="_VIEW"/>
							</condition>
		    				<widgets>
		                    	<screenlet>
					    			<platform-specific>
					                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/facility/depositFacilities.ftl"/></html>
					                </platform-specific>
				                </screenlet>
			                </widgets>
		    				<fail-widgets>
		    					<container style="alert alert-info">
		               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		               			</container>
		    				</fail-widgets>
		    			</section>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   			<fail-widgets>
   				<section>
		   			<actions>
		   				<set field="selectedMenuItem" value="facilityDis"/>
		                <set field="selectedSubMenuItem" value="DepositFacilities"/>
		                <script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/distributor/GetFacilities.groovy"/>
		                <set field="titleProperty" value="BSDepositFacilities"/>
		   			</actions>
		   			<widgets>
		   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
		                    <decorator-section name="body">
		                    	<section>
				    				<condition>
										<if-has-permission permission="FACILITY" action="_VIEW"/>
									</condition>
				    				<widgets>
				                    	<screenlet>
							    			<platform-specific>
							                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/facility/depositFacilities.ftl"/></html>
							                </platform-specific>
						                </screenlet>
					                </widgets>
				    				<fail-widgets>
				    					<container style="alert alert-info">
				               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
				               			</container>
				    				</fail-widgets>
				    			</section>
				           	</decorator-section>
				       	</decorator-screen>
		   			</widgets>
   				</section>
   			</fail-widgets>
   		</section>
    </screen>
    
    <screen name="ListShipment">
    	<section>
   			<actions>
   				<set field="selectedMenuItem" value="facilityDis"/>
                <set field="selectedSubMenuItem" value="ListShipmentDis"/>
                <set field="titleProperty" value="ListShipment"/>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
		    				<condition>
								<if-has-permission permission="FACILITY" action="_VIEW"/>
							</condition>
		    				<widgets>
				    			<platform-specific>
				                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/facility/listShipment.ftl"/></html>
				                </platform-specific>
			                </widgets>
		    				<fail-widgets>
		    					<container style="alert alert-info">
		               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		               			</container>
		    				</fail-widgets>
	    				</section>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   		</section>
    </screen>
	
	<screen name="FacilityDetail">
    	<section>
    		<actions>
    			<set field="tabButtonItem" value="FacilityDetail"/>
    			<set field="selectedMenuItem" value="Inventory"/>
                <set field="selectedSubMenuItem" value="findFacilityDis"/>
                <set field="facilityId" from-field="parameters.facilityId"/>
                <entity-one value-field="facilitySelected" entity-name="Facility">
                	<field-map field-name="facilityId" from-field="parameters.facilityId"/>
                </entity-one>
                <set field="titleProperty" value="DetailFacilityInfo"/>
                <script location="component://product/webapp/facility/WEB-INF/actions/facility/ViewContactMechs.groovy"/>
                <set field="titleHeaderValue" value="FacilityTitle" global="true"/>
				<set field="titleHeaderLocation" value="component://basesalesmtl/widget/DistributorScreens.xml" global="true"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="CommonFacilityDecorator">
    				<decorator-section name="body">
		    			<section>
		    				<condition>
								<if-has-permission permission="FACILITY" action="_VIEW"/>
							</condition>
		    				<widgets>
	    						<platform-specific>
				                   	<html><html-template location="component://baselogistics/webapp/baselogistics/facility/detailFacility.ftl"/></html>
				                </platform-specific>
		    				</widgets>
		    				<fail-widgets>
		    					<container style="alert alert-info">
		               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		               			</container>
		    				</fail-widgets>
		    			</section>
	    			</decorator-section>
    			</decorator-screen>
    		</widgets>
    	</section>
    </screen>
	<screen name="UpdateFacility">
    	<section>
    		<actions>
    			<set field="tabButtonItem" value="FacilityDetail"/>
    			<set field="selectedMenuItem" from-field="parameters.me" default-value="Inventory"/>
                <set field="selectedSubMenuItem" from-field="parameters.sub" default-value="findFacilityDis"/>
                <set field="facilityId" from-field="parameters.facilityId"/>
                <entity-one value-field="facilitySelected" entity-name="Facility">
                	<field-map field-name="facilityId" from-field="parameters.facilityId"/>
                </entity-one>
                <script location="component://product/webapp/facility/WEB-INF/actions/facility/ViewContactMechs.groovy"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="CommonFacilityDecorator">
    				<decorator-section name="body">
		    			<section>
		    				<condition>
								<if-has-permission permission="FACILITY" action="_UPDATE"/>
							</condition>
		    				<widgets>
	    						<platform-specific>
				                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/facility/updateFacility.ftl"/></html>
				                </platform-specific>
		    				</widgets>
		    				<fail-widgets>
		    					<container style="alert alert-info">
		               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		               			</container>
		    				</fail-widgets>
		    			</section>
	    			</decorator-section>
    			</decorator-screen>
    		</widgets>
    	</section>
    </screen>
    
    <screen name="ViewContactMechsDis">
    	<section>
    		<actions>
    			<set field="tabButtonItem" value="viewContactMechs"/>
    			<set field="selectedMenuItem" value="findFacilityDis"/>
                <set field="selectedSubMenuItem" value=""/>
                <set field="facilityId" from-field="parameters.facilityId"/>
                <script location="component://product/webapp/facility/WEB-INF/actions/facility/ViewContactMechs.groovy"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="CommonFacilityDecorator">
    				<decorator-section name="body">
    					<screenlet title="${uiLabelMap.PartyContactMechs}" navigation-menu-name="ViewContactMechsSubTabBar">
                        	<include-menu location="component://basesalesmtl/widget/BaseSalesMtlMenus.xml" name="ViewContactMechsSubTabBar"/>
                            <platform-specific>
                            	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/facility/viewContactMechs.ftl"/></html>
                           	</platform-specific>
    					</screenlet>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
    	</section>
    </screen>
    
    <screen name="ListSalesmanAssigned">
    	<section>
   			<actions>
   				<set field="selectedMenuItem" value="Salesman"/>
                <set field="selectedSubMenuItem" value="ListSalesmanAssigned"/>
                <set field="titleProperty" value="BSListSalesman"/>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-screen name="ListSalesmanAssignedInner"/>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   		</section>
    </screen>
    <screen name="ListSalesmanAssignedInner">
    	<section>
 			<condition>
				<if-has-permission permission="PARTYSALESMAN" action="_VIEW"/>
			</condition>
			<actions><set field="titleProperty" value="BSListSalesman"/></actions>
 			<widgets>
 				<platform-specific>
                  	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/salesman/listSalesman.ftl"/></html>
               	</platform-specific>
            </widgets>
			<fail-widgets>
				<container style="alert alert-info">
          			<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
          		</container>
			</fail-widgets>
		</section>
    </screen>
    
    <screen name="RequisitionFormsAbsent">
    	<section>
   			<actions>
   				<set field="selectedMenuItem" value="Salesman"/>
                <set field="selectedSubMenuItem" value="RequisitionFormsAbsent"/>
                <set field="titleProperty" value="HROlbiusLeaveStatus"/>
                <entity-condition list="listStatusItem" entity-name="StatusItem">
					<condition-expr field-name="statusTypeId" operator="equals" value="LEAVE_STATUS"/>
				</entity-condition>
				<entity-condition list="listLeaveReason" entity-name="EmplLeaveReasonTypeAndSign"></entity-condition>
				<entity-condition list="workingShiftList" entity-name="WorkingShift"></entity-condition>
				<entity-one value-field="leaveFirstHalf" entity-name="EmplLeaveType">
					<field-map field-name="leaveTypeId" value="FIRST_HALF_DAY"/>
				</entity-one>
				<entity-one value-field="leaveSecondHalf" entity-name="EmplLeaveType">
					<field-map field-name="leaveTypeId" value="SECOND_HALF_DAY"/>
				</entity-one>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
		    				<condition>
								<if-has-permission permission="PARTYSALESMAN" action="_VIEW"/>
							</condition>
		    				<widgets>
		    					<platform-specific>
				                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/salesman/requisitionFormsAbsent.ftl"/></html>
				                </platform-specific>
			                </widgets>
		    				<fail-widgets>
		    					<container style="alert alert-info">
		               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		               			</container>
		    				</fail-widgets>
	    				</section>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   		</section>
    </screen>
    <screen name="ListStoresAssigned">
    	<section>
   			<actions>
   				<set field="selectedMenuItem" value="Salesman"/>
                <set field="selectedSubMenuItem" value="ListSalesmanAssigned"/>
                <set field="titleProperty" value="BSViewListStoresAssigned"/>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
		    				<condition>
								<if-has-permission permission="PARTYSALESMAN" action="_VIEW"/>
							</condition>
		    				<widgets>
		    					<platform-specific>
				                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/salesman/listStoresAssigned.ftl"/></html>
				                </platform-specific>
			                </widgets>
		    				<fail-widgets>
		    					<container style="alert alert-info">
		               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		               			</container>
		    				</fail-widgets>
	    				</section>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   		</section>
    </screen>
    <screen name="ListRoutesAssigned">
    	<section>
   			<actions>
   				<set field="selectedMenuItem" value="Salesman"/>
                <set field="selectedSubMenuItem" value="ListSalesmanAssigned"/>
                <set field="titleProperty" value="BSViewListRoutesAssigned"/>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
		    				<condition>
								<if-has-permission permission="PARTYSALESMAN" action="_VIEW"/>
							</condition>
		    				<widgets>
		    					<platform-specific>
				                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/salesman/listRoutesAssigned.ftl"/></html>
				                </platform-specific>
			                </widgets>
		    				<fail-widgets>
		    					<container style="alert alert-info">
		               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		               			</container>
		    				</fail-widgets>
	    				</section>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   		</section>
    </screen>
    
    <screen name="SupplierInfo">
    	<section>
   			<actions>
   				<set field="selectedMenuItem" value="SupplierInfo"/>
                <set field="titleProperty" value="BSSupplierInfo"/>
                <script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/distributor/SupplierInfo.groovy"/>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
    					<screenlet title="${uiLabelMap.BSSupplierInfo}">
	    					<platform-specific>
			                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/supplierInfo.ftl"/></html>
			                </platform-specific>
    					</screenlet>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   		</section>
    </screen>
    <screen name="ChangePassword">
    	<section>
   			<actions>
   				<set field="selectedMenuItem" value="main"/>
                <set field="titleProperty" value="HRChangePassword"/>
   			</actions>
   			<widgets>
   				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<section>
		    				<condition>
								<if-has-permission permission="DISTRIBUTOR" action="_ADMIN"/>
							</condition>
		    				<widgets>
		    					<screenlet title="${uiLabelMap.HRChangePassword}">
			    					<platform-specific>
					                   	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/changePassword.ftl"/></html>
					                </platform-specific>
		    					</screenlet>
			                </widgets>
		    				<fail-widgets>
		    					<container style="alert alert-info">
		               				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
		               			</container>
		    				</fail-widgets>
	    				</section>
		           	</decorator-section>
		       	</decorator-screen>
   			</widgets>
   		</section>
    </screen>

    <screen name="ListProductInventoryCustomer">
		<section>
			<actions>
   				<set field="selectedMenuItem" value="salesReportMTLNewVer"/>
                <set field="selectedSubMenuItem" value="ReportProductInventoryCustomer"/>
                <set field="titleProperty" value="BSInventoryReport"/>
                <set field="selectedBizSubMenuItemTitle" value="${groovy:import org.ofbiz.base.util.UtilProperties;
				UtilProperties.getMessage('BaseSalesUiLabels', 'BSInventoryReport', locale)}" />
                <script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/report/InventoryCustomer.groovy" />
                <property-map resource="FacilityReportUiLabels" map-name="uiLabelMap" />
   			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-screen name="lib-report" location="component://bi-x/widget/libReport.xml"/>
						<platform-specific>
							<html>
								<html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/report/inventoryCustomer.ftl"/>
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
    <!--     perfect_not_delete_important 	-->
    
    <screen name="ViewContactMechFacilityDis">
        <section>
            <actions>
            	<set field="titleProperty" value="BSContactInformation"/>
                <set field="tabButtonItem" value="ViewContactMechFacilityDis"/>
                <set field="subTabButtonItem" value="EditInventoryItem"/>
                <set field="selectedMenuItem" from-field="parameters.me" default-value="Facility"/>
                <set field="selectedSubMenuItem" from-field="parameters.sub" default-value="DepositFacilities"/>
                <property-map resource="ProductUiLabels" map-name="uiLabelMap"/>
            	<set field="navMenuName" value="EditFacilityInventoryItemsSubTabBar"/>
				<set field="navMenuLocation" value="component://basesalesmtl/widget/BaseSalesMtlMenus.xml"/>
                <set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer" default-value="50"/>
                <set field="facilityId" from-field="parameters.facilityId"/>
                <entity-one entity-name="FacilityAndProductStore" value-field="facility"/>
            </actions>
            <widgets>
                <decorator-screen name="CommonFacilityDecorator">
                    <decorator-section name="body">
                    	<screenlet>
                    		<platform-specific>
	                        	<html><html-template location="component://basesalesmtl/webapp/basesalesmtl/distributor/facility/contactMechFacilityDis.ftl"/></html>
	                        </platform-specific>
                    	</screenlet>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    <screen name="PurchaseDeliveryDis">
		<section>
			<actions>
				<set field="selectedMenuItem" value="purchaseOrderDis"/>
				<set field="selectedSubMenuItem" value="purchOrderDeliveryDis"/>
				<set field="titleProperty" value="DeliveryDoc" global="true"/>
				<set field="partyIdTo" from-field="userLogin.partyId"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://baselogistics/webapp/baselogistics/delivery/listAllSalesDelivery.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
    
	<screen name="PurchaseShipmentDis">
		<section>
			<actions>
				<set field="selectedMenuItem" value="purchaseOrderDis"/>
				<set field="selectedSubMenuItem" value="listShipmentPurchDis"/>
				<set field="titleProperty" value="PurchaseShipment" global="true"/>
				<set field="partyIdTo" from-field="userLogin.partyId"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basesalesmtl/webapp/basesalesmtl/customer/logistics/receive/listPurchaseDistributorShipment.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
    
	<screen name="ReceivePurchaseDistributor">
		<section>
			<actions>
				<set field="selectedMenuItem" value="purchaseOrderDis"/>
				<set field="selectedSubMenuItem" value="listShipmentPurchDis"/>
				<set field="titleProperty" value="ReceiveProduct" global="true"/>
				<set field="partyIdTo" from-field="userLogin.partyId"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://baselogistics/webapp/baselogistics/delivery/listAllSalesDelivery.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
    
	<screen name="DetailShipmentPurchDis">
		<section>
			<actions>
				<set field="selectedMenuItem" value="purchaseOrderDis"/>
				<set field="selectedSubMenuItem" value="listShipmentPurchDis"/>
				<set field="titleProperty" value="ReceiveProduct" global="true"/>
				<set field="partyIdTo" from-field="userLogin.partyId"/>
				
                <script location="component://baselogistics/webapp/baselogistics/WEB-INF/actions/delivery/salesDelivery.groovy"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission/>
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://baselogistics/webapp/baselogistics/delivery/detailPurchShipmentDis.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
    </screen>
    
    <screen name="ShipmentPurchTitle">
		<section>
			<condition>
				<not>
					<if-empty field="parameters.shipmentId" />
				</not>
			</condition>
			<widgets>
				<label style="ibefore-icon-angle-right" text=" ${uiLabelMap.ShipmentId}: "></label>
				<link url-mode="plain" target="viewDetailShipmentPurchDis?shipmentId=${parameters.shipmentId}" text="${parameters.shipmentId}"></link>
			</widgets>
		</section>
	</screen>
	
    <screen name="DetailShipmentPurchDis">
		<section>
			<actions>
				<set field="shipmentId" from-field="parameters.shipmentId"/>
				<entity-one value-field="shipment" entity-name="Shipment">
                	<field-map field-name="shipmentId" from-field="parameters.shipmentId"/>
                </entity-one>
                <set field="selectedMenuItem" value="purchaseOrderDis"/>
				<set field="selectedSubMenuItem" value="listShipmentPurchDis"/>
				<set field="titleProperty" value="PurchaseShipment" global="true"/>
               	<set field="activeTab" from-field="parameters.activeTab" default-value="general-tab"/>
               	<script location="component://basesalesmtl/webapp/basesalesmtl/WEB-INF/actions/distributor/shipmentDetail.groovy"/>
			</actions>
			<widgets>
				<section>
					<condition>
						<and>	
							<not><if-empty field="shipment"/></not>
							<if-compare operator="equals" value="PURCH_DIS_SHIPMENT" field="shipment.shipmentTypeId"/>
						</and>
					</condition>
					<actions>
						<set field="parameters.orderId" from-field="shipment.primaryOrderId"/>
						<set field="titleHeaderValue" value="ShipmentPurchTitle" global="true" />
						<set field="titleHeaderLocation" value="component://basesalesmtl/widget/DistributorScreens.xml" global="true" />
					</actions>
					<widgets>
						<section>
							<condition>
								<if-olbius-has-permission />
							</condition>
							<widgets>
								<decorator-screen name="DistributorCommonDecorator">
									<decorator-section name="body">
										<platform-specific>
											<html>
												<html-template location="component://basesalesmtl/webapp/basesalesmtl/customer/logistics/receive/purchaseDisShipmentDetailBegin.ftl"/>
											</html>
										</platform-specific>
										<include-screen name="ShipmentPurchDisContainer"/>
										<platform-specific>
											<html>
												<html-template location="component://baselogistics/webapp/baselogistics/delivery/deliveryDetailEnd.ftl"/>
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
							<fail-widgets>
								<decorator-screen name="DistributorCommonDecorator">
									<decorator-section name="body">
										<container style="alert alert-danger">
											<label text="${uiLabelMap.DmsNotPermission}" />
										</container>
									</decorator-section>
								</decorator-screen>
							</fail-widgets>
						</section>
					</widgets>
					<fail-widgets>
						<decorator-screen name="DistributorCommonDecorator">
							<decorator-section name="body">
								<container style="alert alert-danger">
									<label text="${uiLabelMap.BLSalesDeliveryNotFound}" />
								</container>
							</decorator-section>
						</decorator-screen>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	<screen name="ShipmentPurchDisContainer">
		<section>
			<widgets>
				<include-screen name="ShipmentPurchDisInfo"/>
			</widgets>
		</section>
	</screen>
	
	<screen name="ShipmentPurchDisInfo">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template location="component://basesalesmtl/webapp/basesalesmtl/customer/logistics/receive/detailPurchShipmentDis.ftl"/>
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
    
    <screen name="SalesDeliveryDetailDis">
		<section>
			<actions>
				<set field="deliveryId" from-field="parameters.deliveryId"/>
				<entity-one value-field="delivery" entity-name="Delivery">
                	<field-map field-name="deliveryId" from-field="parameters.deliveryId"/>
                </entity-one>
                <set field="selectedMenuItem" value="purchaseOrderDis"/>
				<set field="selectedSubMenuItem" value="purchOrderDeliveryDis"/>
               	<set field="activeTab" from-field="parameters.activeTab" default-value="general-tab"/>
			</actions>
			<widgets>
				<section>
					<condition>
						<and>
							<if-compare operator="equals" value="DELIVERY_SALES" field="delivery.deliveryTypeId"/>
							<not><if-empty field="delivery"/></not>
						</and>
					</condition>
					<actions>
						<set field="parameters.orderId" from-field="delivery.orderId"/>
						<set field="titleProperty" value="DeliveryDoc" global="true" />
						<script location="component://basesales/webapp/basesales/WEB-INF/actions/order/OrderViewSimple.groovy"/>
        				<script location="component://basesales/webapp/basesales/WEB-INF/actions/order/OrderViewGeneral.groovy"/>
		                <script location="component://baselogistics/webapp/baselogistics/WEB-INF/actions/delivery/salesDelivery.groovy"/>
						<set field="titleHeaderValue" value="DeliveryTitle" global="true" />
						<set field="titleHeaderLocation" value="component://baselogistics/widget/DeliveryScreens.xml" global="true" />
					</actions>
					<widgets>
						<section>
							<condition>
								<if-olbius-has-permission />
							</condition>
							<widgets>
								<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
									<decorator-section name="body">
										<platform-specific>
											<html>
												<html-template location="component://baselogistics/webapp/baselogistics/delivery/salesDeliveryDetailBegin.ftl"/>
											</html>
										</platform-specific>
										<include-screen name="SalesDeliveryDetailContainer"/>
										<platform-specific>
											<html>
												<html-template location="component://baselogistics/webapp/baselogistics/delivery/deliveryDetailEnd.ftl"/>
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
							<fail-widgets>
								<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
									<decorator-section name="body">
										<container style="alert alert-danger">
											<label text="${uiLabelMap.DmsNotPermission}" />
										</container>
									</decorator-section>
								</decorator-screen>
							</fail-widgets>
						</section>
					</widgets>
					<fail-widgets>
						<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
							<decorator-section name="body">
								<container style="alert alert-danger">
									<label text="${uiLabelMap.BLSalesDeliveryNotFound}" />
								</container>
							</decorator-section>
						</decorator-screen>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	<screen name="SalesDeliveryDetailContainer">
		<section>
			<widgets>
				<include-screen name="DeliverySalesInfo"/>
			</widgets>
		</section>
	</screen>
	
	<screen name="DeliverySalesInfo">
		<section>
			<widgets>
				<platform-specific>
					<html>
						<html-template location="component://baselogistics/webapp/baselogistics/delivery/salesDeliveryDetail.ftl"/>
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	
	<screen name="CreatePurchDisShipment">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="purchaseOrderDis"/>
				<set field="selectedSubMenuItem" value="receivePurchOrderDis"/>
				<set field="titleProperty" value="ReceiveProduct" global="true" />
			</actions>
			<widgets>
				<section>
					<condition>
						<if-olbius-has-permission/>
					</condition>
					<widgets>
						<decorator-screen name="DistributorCommonDecorator">
		                    <decorator-section name="body">
		                    	<platform-specific>
									<html>
										<html-template location="component://basesalesmtl/webapp/basesalesmtl/customer/logistics/receive/receivePurchaseShipmentTotal.ftl"/>
									</html>
								</platform-specific>
		    				</decorator-section>
		    			</decorator-screen>
					</widgets>
					<fail-widgets>
						<decorator-screen name="DistributorCommonDecorator">
		                    <decorator-section name="body">
		                    	<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
								</container>
		    				</decorator-section>
		    			</decorator-screen>
					</fail-widgets>
				</section>
			</widgets>
       </section>
    </screen>
    
    <screen name="FacilityTitle">
		<section>
			<condition>
				<not><if-empty field="parameters.facilityId"/></not>
			</condition>
			<actions>
				<entity-one value-field="facility" entity-name="Facility"></entity-one>
			</actions>
			<widgets>
				<label style="ibefore-icon-angle-right" text=" ${uiLabelMap.Facility}: "></label>
				<link url-mode="plain" target="FacilityDetail?facilityId=${parameters.facilityId}" text="${facility.facilityCode}"></link>
			</widgets>
		</section>
	</screen>
	
    <screen name="ListFacilityPartyRoleDeposit">
    	<section>
            <actions>
                <set field="tabButtonItem" value="FacilityDetail"/>
    			<set field="selectedMenuItem" value="Inventory"/>
                <set field="selectedSubMenuItem" value="findFacilityDis"/>
                <set field="facilityId" from-field="parameters.facilityId"/>
                <set field="titleProperty" value="BLFacilityParty"/>
                <set field="titleHeaderValue" value="FacilityTitle" global="true"/>
				<set field="titleHeaderLocation" value="component://basesalesmtl/widget/DistributorScreens.xml" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="DistributorCommonDecorator">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://baselogistics/webapp/baselogistics/facility/listFacilityPartyRole.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="InventoryStockingDis">
    	<section>
            <actions>
    			<set field="selectedMenuItem" value="Inventory"/>
                <set field="selectedSubMenuItem" value="ListInventoryStocking"/>
                <set field="titleProperty" value="PhysicalInventory"/>
                <script
					location="component://baselogistics/webapp/baselogistics/WEB-INF/actions/inventory/ListInventoryStocking.groovy"></script>
			</actions>
			<widgets>
				<decorator-screen name="DistributorCommonDecorator">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://baselogistics/webapp/baselogistics/stocking/ListInventoryStocking.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="InventoryStockingDisManages">
    	<section>
            <actions>
    			<set field="selectedMenuItem" value="distributor"/>
                <set field="selectedSubMenuItem" value="ListInventoryStocking"/>
                <set field="titleProperty" value="PhysicalInventory"/>
			</actions>
			<widgets>
				<decorator-screen name="DistributorCommonDecorator">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://baselogistics/webapp/baselogistics/stocking/ListInventoryStocking.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="ViewInventoryStockingDis">
    	<section>
            <actions>
    			<set field="selectedMenuItem" value="distributor"/>
                <set field="selectedSubMenuItem" value="ListInventoryStocking"/>
                <set field="titleProperty" value="PhysicalInventory"/>
                <script
					location="component://baselogistics/webapp/baselogistics/WEB-INF/actions/inventory/Facility.groovy"></script>
				<script
					location="component://baselogistics/webapp/baselogistics/WEB-INF/actions/inventory/InventoryStocking.groovy"></script>
				<set field="titleHeaderValue" value="InventoryStockingTitle" global="true" />
			</actions>
			<widgets>
				<decorator-screen name="DistributorCommonDecorator">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://baselogistics/webapp/baselogistics/stocking/InventoryStocking.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="DisInventoryStockingDis">
    	<section>
            <actions>
    			<set field="selectedMenuItem" value="Inventory"/>
                <set field="selectedSubMenuItem" value="ListInventoryStocking"/>
                <set field="titleProperty" value="PhysicalInventory"/>
                <script
					location="component://baselogistics/webapp/baselogistics/WEB-INF/actions/inventory/Facility.groovy"></script>
				<script
					location="component://baselogistics/webapp/baselogistics/WEB-INF/actions/inventory/InventoryStocking.groovy"></script>
				<set field="titleHeaderValue" value="InventoryStockingTitle" global="true" />
			</actions>
			<widgets>
				<decorator-screen name="DistributorCommonDecorator">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://baselogistics/webapp/baselogistics/stocking/InventoryStocking.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
</screens>