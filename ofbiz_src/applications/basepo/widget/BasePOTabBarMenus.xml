<?xml version="1.0" encoding="UTF-8"?>
<menus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../framework/widget/dtd/widget-menu.xsd">

	<menu name="ProductEditTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="editMainUpc" title="${uiLabelMap.BSEditMainUpc}" widget-style="icon-pencil open-sans">
			<condition>
				<and>
					<if-olbius-has-permission/>
					<not>
						<if-empty field="parameters.productId" />
					</not>
				</and>
			</condition>
			<link url-mode="plain" target="javascript:OlbProductView.editMainUpc();"/>
		</menu-item>
		<menu-item name="newItem" title="${uiLabelMap.BSAddNew}" widget-style="icon-plus open-sans">
			<condition>
				<if-olbius-has-permission/>
			</condition>
			<link target="newProduct"></link>
		</menu-item>
		<menu-item name="editItem" title="${uiLabelMap.BSEdit}" widget-style="icon-pencil open-sans">
			<condition>
				<and>
					<if-has-permission permission="PRODUCT" action="_UPDATE" />
					<not>
						<if-empty field="parameters.productId" />
					</not>
				</and>
			</condition>
			<link target="editProduct">
				<parameter param-name="productId" from-field="parameters.productId" />
				<parameter param-name="sub" from-field="parameters.sub" />
			</link>
		</menu-item>
		<menu-item name="copyItem" title="${uiLabelMap.BSCopy}" widget-style="fa fa-files-o open-sans">
			<condition>
				<and>
					<if-has-permission permission="PRODUCT" action="_UPDATE" />
					<not>
						<if-empty field="parameters.productId" />
					</not>
				</and>
			</condition>
			<link target="newProduct">
				<parameter param-name="productIdOrg" from-field="parameters.productId" />
			</link>
		</menu-item>
	</menu>

	<menu name="ViewQuotationSubTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml">
        <menu-item name="editQuotation" title="${uiLabelMap.BSEdit}" widget-style="icon-pencil open-sans">
            <condition>
            	<and>
            		<if-olbius-has-permission/>
            		<not><if-empty field="allowQuotationEdit"/></not>
            		<if-compare operator="equals" value="true" field="allowQuotationEdit"/>
            	</and>
          	</condition>
            <link target="editQuotationPO">
            	<parameter param-name="productQuotationId" from-field="productQuotation.productQuotationId"/>
            </link>
        </menu-item>
        <menu-item name="newQuotation" title="${uiLabelMap.BSAddNew}" widget-style="icon-plus open-sans">
        	<condition>
				<if-olbius-has-permission/>
			</condition>
            <link target="newQuotationPO"/>
        </menu-item>
        <menu-item name="copyQuotation" title="${uiLabelMap.BSCopy}" widget-style="fa fa-files-o open-sans">
			<condition>
				<and>
					<if-olbius-has-permission/>
					<not>
						<if-empty field="parameters.productQuotationId" />
					</not>
				</and>
			</condition>
			<link target="newQuotationPO">
				<parameter param-name="productQuotationIdOrg" from-field="parameters.productQuotationId" />
			</link>
		</menu-item>
        <menu-item name="printQuotation" title="${uiLabelMap.BSExportPDF}" widget-style="fa fa-file-pdf-o open-sans">
            <link target="printQuotationPO">
            	<parameter param-name="productQuotationId" from-field="productQuotation.productQuotationId"/>
            </link>
       	</menu-item>
	</menu>
</menus>