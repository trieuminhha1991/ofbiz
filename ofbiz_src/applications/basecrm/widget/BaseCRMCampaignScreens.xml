<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="../../../framework/widget/dtd/widget-screen.xsd">

	<screen name="campaignTitle">
		<section>
			<condition>
				<not>
					<if-empty field="parameters.id" />
				</not>
			</condition>
			<widgets>
				<label style="ibefore-icon-angle-right" text="${uiLabelMap.DAId}: "></label>
				<link url-mode="plain" target="CreateCallCampaign?id=${parameters.id}" text="${parameters.id}"></link>
			</widgets>
		</section>
	</screen>

	<screen name="CreateCallCampaign">
		<section>
			<actions>
				<set field="selectedMenuItem" value="campaign" />
				<set field="selectedSubMenuItem" value="createCampaign" />
				<set field="titleProperty" value="DmsCreateCallCampaign" />
				<set field="layoutSettings.styleSheets[+0]" value="/crmresources/css/crmcampaign/createCampaign.css" global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/crmresources/js/crmcampaign/createCampaign.js" global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/crmresources/js/crmcampaign/assignContact.js" global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/crmresources/js/crmcampaign/assignedContact.js" global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/crmresources/js/crmcampaign/callReport.js" global="true" />
				<set field="layoutSettings.javaScripts[+0]" value="/highcharts/assets/js/highcharts.js" global="true" />
				<script location="component://basecrm/webapp/basecrm/WEB-INF/actions/crmcampaign/CreateCallCampaign.groovy" />
				<entity-and list="reasonContacted" entity-name="EnumerationType">
					<field-map field-name="parentTypeId" value="CONTACTED" />
				</entity-and>
				<entity-and list="reasonUnContacted" entity-name="EnumerationType">
					<field-map field-name="parentTypeId" value="UNCONTACTED" />
				</entity-and>
				<set field="titleHeaderValue" value="campaignTitle" global="true" />
				<set field="titleHeaderLocation" value="component://basecrm/widget/BaseCRMCampaignScreens.xml" global="true" />
			</actions>
			<widgets>
				<decorator-screen name="BaseCRMCommonDecorator" location="component://basecrm/widget/CommonScreens.xml">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission />
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basecrm/webapp/basecrm/crmcampaign/createCampaign.ftl" />
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}" />
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ListCallCampaign">
		<section>
			<actions>
				<set field="selectedMenuItem" value="campaign" />
				<set field="selectedSubMenuItem" value="listCampaign" />
				<set field="titleProperty" value="ListCampaign" />
			</actions>
			<widgets>
				<decorator-screen name="BaseCRMCommonDecorator" location="component://basecrm/widget/CommonScreens.xml">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission />
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basecrm/webapp/basecrm/crmcampaign/listCampaign.ftl" />
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}" />
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ImportDataFromExcel">
		<section>
			<actions>
				<set field="selectedMenuItem" value="ImportData" />
				<set field="selectedSubMenuItem" value="ImportDataFromExcel" />
				<set field="titleProperty" value="BCRMImportDataFromExcel" />
			</actions>
			<widgets>
				<decorator-screen name="BaseCRMCommonDecorator" location="component://basecrm/widget/CommonScreens.xml">
					<decorator-section name="body">
						<section>
							<condition>
								<if-olbius-has-permission />
							</condition>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basecrm/webapp/basecrm/crmcampaign/importDataFromExcel.ftl" />
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.BSYouHavenotViewPermission}" />
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

</screens>