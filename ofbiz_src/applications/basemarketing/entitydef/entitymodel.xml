<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">

	<entity entity-name="MarketingPlan" package-name="com.olbius.marketing">
		<field name="marketingPlanId" type="id-ne" />
		<field name="code" type="id" />
		<field name="name" type="name" />
		<field name="marketingTypeId" type="id" />
		<field name="budgetId" type="id" />
		<field name="parentPlanId" type="id" />
		<field name="statusId" type="id" />
		<field name="partyId" type="id" />
		<field name="createdByUserLogin" type="id" />
		<field name="lastModifiedByUserLogin" type="id" />
		<field name="fromDate" type="date" />
		<field name="thruDate" type="date" />
		<field name="description" type="description" />
		<field name="privilegeEnumId" type="id"></field>
		<prim-key field="marketingPlanId" />
		<relation type="one" fk-name="MK_PL_PR" title="Parent" rel-entity-name="MarketingPlan">
			<key-map field-name="parentPlanId" rel-field-name="marketingPlanId" />
		</relation>
		<relation type="one" fk-name="MK_Budget" title="Marketing Budget" rel-entity-name="Budget">
			<key-map field-name="budgetId" />
		</relation>
		<relation type="one" fk-name="MKPLAN_Party" title="Marketing plan relate party" rel-entity-name="Party">
			<key-map field-name="partyId" />
		</relation>
		<relation type="one" fk-name="MKPLAN_TYPE" title="Marketing plan type" rel-entity-name="MarketingType">
			<key-map field-name="marketingTypeId" />
		</relation>
		<relation type="one" fk-name="MAK_STATUS" title="Marketing plan status" rel-entity-name="StatusItem">
			<key-map field-name="statusId" />
		</relation>
		<relation type="one" fk-name="MKPLAN_PRIVENM" title="Privilege" rel-entity-name="Enumeration">
			<key-map field-name="privilegeEnumId" rel-field-name="enumId" />
		</relation>
	</entity>

	<entity entity-name="MarketingPlanContent" package-name="com.olbius.marketing">
		<field name="marketingPlanId" type="id-ne" />
		<field name="marketingContentTypeId" type="id" />
		<field name="contentId" type="id" />
		<field name="fromDate" type="date" />
		<field name="thruDate" type="date" />
		<prim-key field="marketingPlanId" />
		<prim-key field="contentId" />
		<relation type="many" fk-name="MK_PL_CT" title="Marketing Content" rel-entity-name="Content">
			<key-map field-name="contentId" rel-field-name="contentId" />
		</relation>
		<relation type="one" fk-name="MK_CT_Type" title="Marketing content type" rel-entity-name="MarketingContentType">
			<key-map field-name="marketingContentTypeId" rel-field-name="marketingContentTypeId" />
		</relation>
	</entity>

	<entity entity-name="MarketingContentType" package-name="com.olbius.marketing">
		<field name="marketingContentTypeId" type="id" />
		<field name="parentTypeId" type="id" />
		<field name="hasTable" type="indicator" />
		<field name="description" type="description" />
		<prim-key field="marketingContentTypeId" />
		<relation type="one" fk-name="MK_PLCT_TY" title="Marketing content type parent" rel-entity-name="MarketingContentType">
			<key-map field-name="parentTypeId" rel-field-name="marketingContentTypeId" />
		</relation>
	</entity>

	<entity entity-name="MarketingType" package-name="com.olbius.marketing">
		<field name="marketingTypeId" type="id-ne" />
		<field name="name" type="name" />
		<field name="description" type="description" />
		<field name="parentTypeId" type="id" />
		<prim-key field="marketingTypeId" />
		<relation type="one" fk-name="MK_TP_PR" title="Parent" rel-entity-name="MarketingType">
			<key-map field-name="parentTypeId" rel-field-name="marketingTypeId" />
		</relation>
	</entity>

	<extend-entity entity-name="MarketingCampaign">
		<field name="marketingTypeId" type="id-ne" />
	</extend-entity>

	<entity entity-name="MarketingPlace" package-name="com.olbius.marketing">
		<field name="marketingPlaceId" type="id-ne" />
		<field name="marketingCampaignId" type="id-ne" />
		<field name="geoId" type="id" />
		<field name="organizationId" type="id" />
		<field name="contactMechId" type="id" />
		<field name="fromDate" type="date-time" />
		<field name="thruDate" type="date-time" />
		<prim-key field="marketingPlaceId" />
		<prim-key field="marketingCampaignId" />
		<relation rel-entity-name="MarketingCampaign" fk-name="MK_CP" type="many">
			<key-map field-name="marketingCampaignId" />
		</relation>
		<relation rel-entity-name="PostalAddress" fk-name="MK_PLACE" type="many">
			<key-map field-name="contactMechId" />
		</relation>
		<relation rel-entity-name="Party" fk-name="MK_ORG" type="many">
			<key-map field-name="organizationId" rel-field-name="partyId" />
		</relation>
	</entity>

	<entity entity-name="MarketingRole" package-name="com.olbius.marketing">
		<field name="marketingRoleId" type="id-ne" />
		<field name="marketingCampaignId" type="id-ne" />
		<field name="marketingPlaceId" type="id" />
		<field name="partyId" type="id" />
		<field name="roleTypeId" type="id" />
		<field name="description" type="description" />
		<field name="fromDate" type="date-time" />
		<field name="thruDate" type="date-time" />
		<prim-key field="marketingRoleId" />
		<prim-key field="marketingCampaignId" />
		<relation rel-entity-name="MarketingCampaign" fk-name="MKROLE_CP" type="many">
			<key-map field-name="marketingCampaignId" />
		</relation>
		<relation rel-entity-name="MarketingPlace" fk-name="MKROLE_PLACE" type="many">
			<key-map field-name="marketingPlaceId" />
		</relation>
		<relation rel-entity-name="Party" fk-name="MKROLE_ORG" type="many">
			<key-map field-name="partyId" />
		</relation>
		<relation rel-entity-name="RoleType" fk-name="MKROLE_RT" type="many">
			<key-map field-name="roleTypeId" />
		</relation>
	</entity>

	<entity entity-name="MarketingProduct" package-name="com.olbius.marketing">
		<field name="marketingProductId" type="id-ne" />
		<field name="marketingCampaignId" type="id-ne" />
		<field name="productId" type="id-ne" />
		<field name="productTypeId" type="id" />
		<field name="marketingPlaceId" type="id" />
		<field name="uomId" type="id" />
		<field name="quantity" type="fixed-point" />
		<prim-key field="marketingProductId" />
		<prim-key field="marketingCampaignId" />
		<relation rel-entity-name="MarketingCampaign" type="many" fk-name="MK_SP">
			<key-map field-name="marketingCampaignId" />
		</relation>
		<relation rel-entity-name="Product" type="many" fk-name="MK_SP_PD">
			<key-map field-name="productId" />
		</relation>
		<relation rel-entity-name="Uom" type="many" fk-name="MK_UOM_PD">
			<key-map field-name="uomId" />
		</relation>
		<relation rel-entity-name="ProductType" type="one" fk-name="MSP_PT">
			<key-map field-name="productTypeId" />
		</relation>
		<relation rel-entity-name="MarketingPlace" type="many" fk-name="MSP_PA">
			<key-map field-name="marketingPlaceId" />
		</relation>
	</entity>

	<entity entity-name="MarketingCost" package-name="com.olbius.marketing">
		<field name="marketingCostId" type="id-ne" />
		<field name="marketingCampaignId" type="id-ne" />
		<field name="marketingCostTypeId" type="id-ne" />
		<field name="unitPrice" type="currency-precise" />
		<field name="currencyUomId" type="id" />
		<field name="quantity" type="fixed-point" />
		<field name="quantityUomId" type="id" />
		<prim-key field="marketingCampaignId" />
		<prim-key field="marketingCostId" />
		<prim-key field="marketingCostTypeId" />
		<relation rel-entity-name="Enumeration" fk-name="MK_CD" type="one">
			<key-map field-name="marketingCostTypeId" rel-field-name="enumId" />
		</relation>
		<relation rel-entity-name="MarketingCampaign" type="many" fk-name="MK_CPCT">
			<key-map field-name="marketingCampaignId" />
		</relation>
		<relation rel-entity-name="Uom" title="currencyUom" type="many" fk-name="MKCOST_CUR_UOM">
			<key-map field-name="currencyUomId" rel-field-name="uomId" />
		</relation>
		<relation rel-entity-name="Uom" title="quantityUom" type="many" fk-name="MKCOST_QUAN_UOM">
			<key-map field-name="quantityUomId" rel-field-name="uomId" />
		</relation>
	</entity>

	<view-entity entity-name="MarketingCostDetail" package-name="com.olbius.marketing">
		<member-entity entity-alias="MS" entity-name="MarketingCost" />
		<member-entity entity-alias="MST" entity-name="Enumeration" />
		<alias-all entity-alias="MS" />
		<alias-all entity-alias="MST" />
		<view-link rel-entity-alias="MST" entity-alias="MS" rel-optional="true">
			<key-map field-name="marketingCostTypeId" rel-field-name="enumId" />
		</view-link>
	</view-entity>

	<view-entity entity-name="MarketingRoleAndPerson" package-name="com.olbius.party">
		<member-entity entity-alias="MR" entity-name="MarketingRole"></member-entity>
		<member-entity entity-alias="PS" entity-name="Person"></member-entity>
		<member-entity entity-alias="RT" entity-name="RoleType"></member-entity>
		<alias-all entity-alias="MR"></alias-all>
		<alias-all entity-alias="RT"></alias-all>
		<alias name="firstName" entity-alias="PS"></alias>
		<alias name="middleName" entity-alias="PS"></alias>
		<alias name="lastName" entity-alias="PS"></alias>
		<view-link rel-entity-alias="MR" entity-alias="PS">
			<key-map field-name="partyId" />
		</view-link>
		<view-link rel-entity-alias="RT" entity-alias="MR" rel-optional="true">
			<key-map field-name="roleTypeId" />
		</view-link>
	</view-entity>

</entitymodel>