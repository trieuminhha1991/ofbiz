<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">
    <!-- ========================================================= -->
    <!-- ======================== Defaults ======================= -->
    <!-- ========================================================= -->
    <title>Entity of BaseAccounting Component</title>
    <description>None</description>
    <copyright></copyright>
    <version></version>

    <entity entity-name="AccReport" package-name="org.ofbiz.olbius.accounting">
    	<field name="reportId" type="id-ne"></field>
		<field name="reportTypeId" type="id-ne"></field>
    	<field name="name" type="description"></field>
    	<field name="description" type="description"></field>
    	<field name="partyId" type="id-ne"></field>
    	<field name="flag" type="indicator"></field>
    	<prim-key field="reportId"/>
    	<prim-key field="reportTypeId"/>
    	<prim-key field="partyId"/>
    	<relation rel-entity-name="AccReportType" type="one" fk-name="FK_REPORT_TYPE_REPORT">
    		<key-map field-name="reportTypeId"/>
    	</relation>
    </entity>
    <!-- Define function for calculating reportTarget value  -->
    <entity entity-name="AccReportFunction" package-name="org.ofbiz.olbius.accounting">
    	<field name="functionId" type="id-ne"></field>
    	<field name="name" type="description"></field>
    	<field name="code" type="description"></field>
    	<field name="description" type="description"></field>
    	<prim-key field="functionId"/>
    </entity>
    <!-- TODO use parent field -->
    <!-- Define report type  -->
    <entity entity-name="AccReportType" package-name="org.ofbiz.olbius.accounting">
    	<field name="reportTypeId" type="id-ne"></field>
    	<field name="name" type="description"></field>
    	<field name="template" type="description"></field>
    	<field name="description" type="description"></field>
    	<field name="fromDate" type="date-time"></field>
    	<field name="thruDate" type="date-time"></field>
    	<prim-key field="reportTypeId"/>
    </entity>
    <!-- Define report target -->
    <entity entity-name="AccReportTarget" package-name="org.ofbiz.olbius.accounting">
    	<field name="targetId" type="id-ne"></field>
    	<field name="reportId" type="id-ne"></field>
    	<field name="parentTargetId" type="id-ne"></field>
    	<field name="name" type="description"></field>
    	<field name="code" type="description"></field>
    	<field name="description" type="description"></field>
    	<field name="demonstration" type="description"></field>
    	<field name="displaySign" type="indicator"></field>
    	<field name="unionSign" type="indicator"></field>
    	<field name="displayStyle" type="description"></field>
    	<field name="orderIndex" type="numeric"></field>
    	<field name="formula" type="very-long"></field>
    	<field name="CT_SoDu_CuoiNam" type="very-long"></field> <!-- Số dư Cuối năm -->
    	<field name="CT_SoDu_DauNam" type="very-long"></field><!-- Số dư Đầu năm -->
    	<field name="CT_NhaCua_Vat_KienTruc" type="very-long"></field> <!-- Nhà cửa vật kiến trúc -->
    	<field name="CT_MayMoc_ThietBi" type="very-long"></field> <!-- Máy móc thiết bị -->
    	<field name="CT_PhuongThuc_VT_TruyenDan" type="very-long"></field> <!-- Phương thức vận tải truyền dẫn -->
    	<field name="CT_ThietBi_DungCu_QuanLy" type="very-long"></field> <!-- Thiết bị dụng cụ quản lý -->
    	<field name="CT_CayLauNam_SucVat" type="very-long"></field> <!-- Cây lâu năm súc vật -->
    	<field name="CT_TS_CoDinhHuuHinhKhac" type="very-long"></field> <!-- Tài sản cố định hữu hình khác -->
    	<field name="CT_TongCong" type="very-long"></field> <!-- Tổng cộng -->
    	<field name="CT_TSCD_VoHinh" type="very-long"></field> <!-- Tài sản cố định vô hình -->
    	<field name="CT_QuyenSDDat" type="very-long"></field> <!-- Quyền sử dụng đất -->
    	<field name="CT_QuyenPhatHanh" type="very-long"></field> <!-- Quyền phát hành -->
    	<field name="CT_BanQuyenBangSangChe" type="very-long"></field> <!-- Bản quyền bằng sáng chế -->
    	<field name="CT_NhanHieuHangHoa" type="very-long"></field> <!-- Nhãn hiệu hàng hóa -->
    	<field name="CT_PhanMemMayTinh" type="very-long"></field> <!-- Phần mềm máy tính -->
    	<field name="CT_GiayPhep" type="very-long"></field> <!-- Giấy phép -->
    	<field name="CT_TangTrongNam" type="very-long"></field> <!-- Tăng trong năm -->
    	<field name="CT_GiamTrongNam" type="very-long"></field> <!-- Giảm trong năm -->
    	<field name="CT_TongThanhKhoanTTTienThueTaiChinh" type="very-long"></field> <!-- Tổng thanh khỏan thanh toán tiền thuê tài chính -->
    	<field name="CT_TraTienLaiThue" type="very-long"></field> <!-- Trả tiền lại thuế -->
    	<field name="CT_TraNoGoc" type="very-long"></field> <!-- Trả nợ gốc -->
    	<field name="CT_TongThanhKhoanTTTienThueTaiChinhNamTruoc" type="very-long"></field> <!-- Tổng thanh khoản thanh toán tiền thuê tài chính năm trước -->
    	<field name="CT_VonDauTuCuaChuSoHuu" type="very-long"></field> <!-- Vốn đầu tư của chủ sở hữu -->
    	<field name="CT_ThangDuVonCoPhan" type="very-long"></field> <!-- Thặng dư vốn cổ phần -->
    	<field name="CT_VonKhacCuaChuSoHuu" type="very-long"></field> <!-- Vốn khác của chủ sở hữu -->
    	<field name="CT_CoPhieuQuy" type="very-long"></field> <!-- Cổ phiếu quỹ -->
    	<field name="CT_ChenhLechDanhGiaLaiTS" type="very-long"></field> <!-- Chênh lệch đánh giá lại TS -->
    	<field name="CT_ChenhLechTyGiaHoiDoai" type="very-long"></field> <!-- Chênh lệch tỷ giá hối đoái -->
    	<field name="CT_NguonVonDauTuXDCB" type="very-long"></field> <!-- Nguồn vốn đầu tư XDCB -->
    	<prim-key field="targetId"/>
    	<prim-key field="reportId"/>
    	<!-- <relation rel-entity-name="AccReportTarget" type="one" fk-name="FK_ACCRPTTG_TARGET">
    		<key-map field-name="parentTargetId" rel-field-name="targetId"/>
    	</relation> -->
    	<!-- <relation rel-entity-name="AccReport" type="one" fk-name="FK_ACCRPTTG_ACCRPT">
    		<key-map field-name="reportId"/>
    	</relation> -->
    </entity>
    <!-- Assign functions to reportType -->
    <entity entity-name="AccRepFuncRepType" package-name="org.ofbiz.olbius.accounting">
    	<field name="functionId" type="id-ne"></field>
    	<field name="reportTypeId" type="id-ne"></field>
    	<prim-key field="functionId"/>
    	<prim-key field="reportTypeId"/>
    	<relation rel-entity-name="AccReportType" type="one" fk-name="FK_RFRT_REPORTTYPE">
    		<key-map field-name="reportTypeId"/>
    	</relation>
    	<relation rel-entity-name="AccReportFunction" type="one" fk-name="FK_RFRT_REPORTFUNCTION">
    		<key-map field-name="functionId"/>
    	</relation>
    </entity>
    <!-- Assign targets to report -->
    <!-- <entity entity-name="AccReportTargetReport" package-name="org.ofbiz.olbius.accounting">
    	<field name="reportId" type="id-ne"></field>
    	<field name="targetId" type="id-ne"></field>
    	<prim-key field="reportId"/>
    	<prim-key field="targetId"/>
    	<relation rel-entity-name="AccReport" type="one" fk-name="FK_RTR_REPORT">
    		<key-map field-name="reportId"/>
    	</relation>
    	<relation rel-entity-name="AccReportTarget" type="one" fk-name="FK_RTR_REPORTTARGET">
    		<key-map field-name="targetId"/>
    	</relation>
    </entity> -->
	<!-- End Financial statements -->    
    <!-- Define Closing Entries -->
    <entity entity-name="AccClosingEntry" package-name="org.ofbiz.olbius.accounting">
    	<field name="closingEntryId" type="id-ne"></field>
    	<field name="name" type="description"></field>
    	<field name="code" type="description"></field>
    	<field name="description" type="description"></field>
    	<field name="orderIndex" type="numeric"></field>
    	<field name="formula" type="very-long"></field>
    	<field name="organizationPartyId" type="id-ne"></field>
    	<field name="glAccountIdC" type="id-ne"></field>
    	<field name="glAccountIdD" type="id-ne"></field>
    	<field name="closeTimePeriod" type="id-ne"></field>
    	<field name="isDebitCreditFlag" type="indicator"></field>
    	<prim-key field="closingEntryId"/>
    	<relation type="one" fk-name="ACCCE_ORG_PARTY" rel-entity-name="Party">
       		 <key-map field-name="organizationPartyId" rel-field-name="partyId"/>
      	</relation>
    </entity> 
    <view-entity entity-name="AcctgTransDetail" package-name="com.olbius">
        <member-entity entity-alias="ACT" entity-name="AcctgTrans"/>
        <member-entity entity-alias="ATT" entity-name="AcctgTransType"/>
        <member-entity entity-alias="GFT" entity-name="GlFiscalType"/>
        <member-entity entity-alias="IAT" entity-name="InvoiceAndType"/>
        <member-entity entity-alias="PAT" entity-name="PaymentAndType"/>
        <member-entity entity-alias="WEF" entity-name="WorkEffort"/>
        <member-entity entity-alias="SAT" entity-name="ShipmentAndType"/>
        <alias-all entity-alias="ACT"/>
        <alias entity-alias="ATT" name="acctgTransTypeDescription" field="description"/>
        <alias entity-alias="ATT" name="acctgTransTypeId"/>
        <alias entity-alias="GFT" name="glFiscalTypeDescription" field="description"/>
        <alias entity-alias="GFT" name="glFiscalTypeId"/>
        <alias entity-alias="IAT" name="invoiceDescription" field="description"/>
        <alias entity-alias="IAT" name="invoiceId"/>
        <alias entity-alias="PAT" name="paymentId"/>
        <alias entity-alias="PAT" name="paymentDescription" field="description"/>
        <alias entity-alias="WEF" name="workEffortId"/>
        <alias entity-alias="WEF" name="workEffortName"/>
        <alias entity-alias="SAT" name="shipmentId"/>
        <alias entity-alias="SAT" name="shipmentDescription" field="description"/>
        <view-link entity-alias="ACT" rel-entity-alias="ATT">
            <key-map field-name="acctgTransTypeId"/>
        </view-link>
        <view-link entity-alias="ACT" rel-entity-alias="GFT">
            <key-map field-name="glFiscalTypeId"/>
        </view-link>
        <view-link entity-alias="ACT" rel-entity-alias="IAT" rel-optional="true">
            <key-map field-name="invoiceId"/>
        </view-link>
        <view-link entity-alias="ACT" rel-entity-alias="PAT" rel-optional="true">
            <key-map field-name="paymentId"/>
        </view-link>
        <view-link entity-alias="ACT" rel-entity-alias="WEF" rel-optional="true">
            <key-map field-name="workEffortId"/>
        </view-link>
        <view-link entity-alias="ACT" rel-entity-alias="SAT" rel-optional="true">
            <key-map field-name="shipmentId"/>
        </view-link>
    </view-entity> 

	<view-entity entity-name="AcctgTransAndEntriesDetail" package-name="com.olbius">
	        <member-entity entity-alias="ACC" entity-name="AcctgTransAndEntries"/>
	        <member-entity entity-alias="PTG" entity-name="PartyGroup"/>
	        <member-entity entity-alias="PER" entity-name="Person"/>
	        <member-entity entity-alias="GL" entity-name="GlAccount"/>
	        <alias-all entity-alias="ACC"/>
	        <alias name="groupName" entity-alias="PTG"/>
	        <alias name="firstName" entity-alias="PER"/>
	        <alias name="middleName" entity-alias="PER"/>
	        <alias name="lastName" entity-alias="PER"/>
	        <alias name="accountName" entity-alias="GL"/>
	        <view-link rel-entity-alias="PTG" entity-alias="ACC" rel-optional="true">
	            <key-map field-name="partyId"/>
	        </view-link>
	        <view-link rel-entity-alias="PER" entity-alias="ACC" rel-optional="true">
	            <key-map field-name="partyId"/>
	        </view-link>
	        <view-link rel-entity-alias="GL" entity-alias="ACC" rel-optional="true">
	            <key-map field-name="glAccountId"/>
	        </view-link>
    </view-entity>
    
	<view-entity entity-name="AcctgTransEntrySumsByAccount" package-name="org.ofbiz.accounting">
		<member-entity entity-alias="ATEC" entity-name="AcctgTransEntry"/>
		<member-entity entity-alias="ATED" entity-name="AcctgTransEntry"/>
      	<member-entity entity-alias="ACT" entity-name="AcctgTrans"/>
      	<alias entity-alias="ATEC" name="glAccountIdC" field="glAccountId" group-by="true"/>
      	<alias entity-alias="ATED" name="glAccountIdD" field="glAccountId" group-by="true"/>
      	<alias entity-alias="ATEC" name="debitCreditFlagC" field="debitCreditFlag" group-by="true"/>
      	<alias entity-alias="ATED" name="debitCreditFlagD" field="debitCreditFlag" group-by="true"/>
      	<alias entity-alias="ATEC" name="amount" function="sum"/>
      	<alias entity-alias="ATEC" name="organizationPartyIdC" field="organizationPartyId" group-by="false"/>
      	<alias entity-alias="ATED" name="organizationPartyIdD" field="organizationPartyId" group-by="false"/>
      	<alias entity-alias="ACT" name="isPosted" group-by="false"/>
      	<alias entity-alias="ACT" name="transactionDate" group-by="false"/>
      	<alias entity-alias="ACT" name="acctgTransTypeId" group-by="false"/>
      	<view-link entity-alias="ATEC" rel-entity-alias="ATED">
        	<key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
        	<key-map field-name="amount" rel-field-name="amount"/>
        </view-link>
        <view-link entity-alias="ATED" rel-entity-alias="ACT">
        	<key-map field-name="acctgTransId" rel-field-name="acctgTransId"/>
        </view-link>    
      	<entity-condition>
      		<condition-list>
				<condition-expr field-name="debitCreditFlag" value="D" entity-alias="ATEC"/>      		
				<condition-expr field-name="debitCreditFlag" value="C" entity-alias="ATED"/>      		
      		</condition-list>
      	</entity-condition>
	</view-entity>
	
	<view-entity entity-name="AcctgTransEntryCD"
            package-name="org.ofbiz.accounting.ledger"
            title="Get all Debit or Credit account">
      <member-entity entity-alias="ATE" entity-name="AcctgTransEntry"/>
      <member-entity entity-alias="ACT" entity-name="AcctgTrans"/>
      <alias entity-alias="ATE" name="glAccountId"/>
      <alias entity-alias="ACT" name="acctgTransTypeId"/>
      <alias entity-alias="ATE" name="debitCreditFlag"/>
      <alias entity-alias="ATE" name="organizationPartyId"/>
      <alias entity-alias="ACT" name="isPosted"/>
      <alias entity-alias="ACT" name="transactionDate"/>
      <view-link entity-alias="ATE" rel-entity-alias="ACT">
        <key-map field-name="acctgTransId"/>
      </view-link>
    </view-entity>
	<view-entity entity-name="AcctgTransEntryParty"
            package-name="org.ofbiz.accounting.ledger"
            title="Get all party">
      <member-entity entity-alias="ATE" entity-name="AcctgTransEntry"/>
      <member-entity entity-alias="ACT" entity-name="AcctgTrans"/>
      <alias entity-alias="ATE" name="partyId"/>
      <alias entity-alias="ATE" name="glAccountId"/>
      <alias entity-alias="ACT" name="acctgTransTypeId"/>
      <alias entity-alias="ATE" name="debitCreditFlag"/>
      <alias entity-alias="ATE" name="organizationPartyId"/>
      <alias entity-alias="ACT" name="isPosted"/>
      <alias entity-alias="ACT" name="transactionDate"/>
      <view-link entity-alias="ATE" rel-entity-alias="ACT">
        <key-map field-name="acctgTransId"/>
      </view-link>
    </view-entity>
    <view-entity entity-name="AcctgTransEntrySumsByParties"
            package-name="org.ofbiz.olbius.accounting.ledger"
            title="Sum of AcctgTransEntry entity amounts grouped by glAccountId, debitCreditFlag">
      <member-entity entity-alias="ATE" entity-name="AcctgTransEntry"/>
      <member-entity entity-alias="ACT" entity-name="AcctgTrans"/>
      <member-entity entity-alias="GLA" entity-name="GlAccount"/>
      <alias entity-alias="ATE" name="glAccountId" group-by="true"/>
      <alias entity-alias="ATE" name="partyId" group-by="false"/>
      <alias entity-alias="GLA" name="glAccountTypeId" group-by="true"/>
      <alias entity-alias="GLA" name="glAccountClassId" group-by="true"/>
      <alias entity-alias="GLA" name="accountName" group-by="true"/>
      <alias entity-alias="GLA" name="accountCode" group-by="true"/>
      <alias entity-alias="ACT" name="glFiscalTypeId" group-by="true"/>
      <alias entity-alias="ACT" name="acctgTransTypeId" group-by="false"/>
      <alias entity-alias="ATE" name="debitCreditFlag" group-by="true"/>
      <alias entity-alias="ATE" name="amount" function="sum"/>
      <alias entity-alias="ATE" name="organizationPartyId" group-by="false"/>
      <alias entity-alias="ACT" name="isPosted" group-by="false"/>
      <alias entity-alias="ACT" name="transactionDate" group-by="false"/> <!-- so we can select the sum by date -->
      <view-link entity-alias="ATE" rel-entity-alias="ACT">
        <key-map field-name="acctgTransId"/>
      </view-link>
      <view-link entity-alias="ATE" rel-entity-alias="GLA">
        <key-map field-name="glAccountId"/>
      </view-link>
    </view-entity>
    <view-entity entity-name="AcctgTransEntrySumsByPartiesLimitDueDate"
            package-name="org.ofbiz.olbius.accounting.ledger"
            title="Sum of AcctgTransEntry entity amounts grouped by glAccountId, debitCreditFlag">
      <member-entity entity-alias="ATE" entity-name="AcctgTransEntry"/>
      <member-entity entity-alias="ACT" entity-name="AcctgTrans"/>
      <member-entity entity-alias="GLA" entity-name="GlAccount"/>
      <member-entity entity-alias="INV" entity-name="Invoice"/>
      <alias entity-alias="ATE" name="glAccountId" group-by="true"/>
      <alias entity-alias="ATE" name="partyId" group-by="false"/>
      <alias entity-alias="GLA" name="glAccountTypeId" group-by="true"/>
      <alias entity-alias="GLA" name="glAccountClassId" group-by="true"/>
      <alias entity-alias="GLA" name="accountName" group-by="true"/>
      <alias entity-alias="GLA" name="accountCode" group-by="true"/>
      <alias entity-alias="ACT" name="glFiscalTypeId" group-by="true"/>
      <alias entity-alias="ACT" name="acctgTransTypeId" group-by="false"/>
      <alias entity-alias="ATE" name="debitCreditFlag" group-by="true"/>
      <alias entity-alias="ATE" name="amount" function="sum"/>
      <alias entity-alias="ATE" name="organizationPartyId" group-by="false"/>
      <alias entity-alias="ACT" name="isPosted" group-by="false"/>
      <alias entity-alias="ACT" name="transactionDate" group-by="false"/> <!-- so we can select the sum by date -->
      <alias entity-alias="INV" name="dueDate" group-by="false"/> <!-- so we can select the sum by date -->
      <view-link entity-alias="ATE" rel-entity-alias="ACT">
        <key-map field-name="acctgTransId"/>
      </view-link>
      <view-link entity-alias="ATE" rel-entity-alias="GLA">
        <key-map field-name="glAccountId"/>
      </view-link>
      <view-link entity-alias="ACT" rel-entity-alias="INV">
        <key-map field-name="invoiceId"/>
      </view-link>
    </view-entity>
    <view-entity entity-name="AcctgTransEntrySumsLimitDueDate"
            package-name="org.ofbiz.accounting.ledger"
            title="Sum of AcctgTransEntry entity amounts grouped by glAccountId, debitCreditFlag">
      <member-entity entity-alias="ATE" entity-name="AcctgTransEntry"/>
      <member-entity entity-alias="ACT" entity-name="AcctgTrans"/>
      <member-entity entity-alias="GLA" entity-name="GlAccount"/>
      <member-entity entity-alias="INV" entity-name="Invoice"/>
      <alias entity-alias="ATE" name="glAccountId" group-by="true"/>
      <alias entity-alias="GLA" name="glAccountTypeId" group-by="true"/>
      <alias entity-alias="GLA" name="glAccountClassId" group-by="true"/>
      <alias entity-alias="GLA" name="accountName" group-by="true"/>
      <alias entity-alias="GLA" name="accountCode" group-by="true"/>
      <alias entity-alias="ACT" name="glFiscalTypeId" group-by="true"/>
      <alias entity-alias="ACT" name="acctgTransTypeId" group-by="false"/>
      <alias entity-alias="ATE" name="debitCreditFlag" group-by="true"/>
      <alias entity-alias="ATE" name="amount" function="sum"/>
      <alias entity-alias="ATE" name="organizationPartyId" group-by="false"/>
      <alias entity-alias="ACT" name="isPosted" group-by="false"/>
      <alias entity-alias="ACT" name="transactionDate" group-by="false"/> <!-- so we can select the sum by date -->
      <alias entity-alias="INV" name="dueDate" group-by="false"/> <!-- so we can select the sum by date -->
      <view-link entity-alias="ATE" rel-entity-alias="ACT">
        <key-map field-name="acctgTransId"/>
      </view-link>
      <view-link entity-alias="ATE" rel-entity-alias="GLA">
        <key-map field-name="glAccountId"/>
      </view-link>
      <view-link entity-alias="ACT" rel-entity-alias="INV">
        <key-map field-name="invoiceId"/>
      </view-link>
    </view-entity>	    
    <view-entity entity-name="PartyRelationShipAndDetail" package-name="com.org.base.accounting">
    	<member-entity entity-alias="PR" entity-name="PartyRelationship"></member-entity>
    	<member-entity entity-alias="PFT" entity-name="PartyFullNameDetail"></member-entity>
    	<member-entity entity-alias="PFF" entity-name="PartyFullNameDetail"></member-entity>
    	<alias-all entity-alias="PR"></alias-all>
    	<alias name="partyCodeTo" entity-alias="PFT" field="partyCode"></alias>
    	<alias name="partyCodeFrom" entity-alias="PFF" field="partyCode"></alias>
    	<alias name="fullNameTo" entity-alias="PFT" field="fullName"></alias>
    	<alias name="fullNameFrom" entity-alias="PFF" field="fullName"></alias>
    	<view-link rel-entity-alias="PFT" entity-alias="PR">
    		<key-map field-name="partyIdTo" rel-field-name="partyId"/>
    	</view-link>
    	<view-link rel-entity-alias="PFF" entity-alias="PR">
    		<key-map field-name="partyIdFrom" rel-field-name="partyId"/>
    	</view-link>
    </view-entity>
    
     <view-entity entity-name="PartyNameViewAndRole" 
            package-name="org.ofbiz.party.party"
            title="Party Name View Entity">
      <member-entity entity-alias="PTY" entity-name="Party"/>
      <member-entity entity-alias="PTR" entity-name="PartyRole"/>
      <member-entity entity-alias="PER" entity-name="Person"/>
      <member-entity entity-alias="PTYGRP" entity-name="PartyGroup"/>
      <alias entity-alias="PTY" name="partyId"/>
      <alias entity-alias="PTY" name="partyCode"/>
      <alias entity-alias="PTY" name="partyTypeId"/>
      <alias entity-alias="PTY" name="description"/>
      <alias entity-alias="PTY" name="statusId"/>
      <alias entity-alias="PTR" name="roleTypeId"/>
      <alias entity-alias="PER" name="firstName"/>
      <alias entity-alias="PER" name="middleName"/>
      <alias entity-alias="PER" name="lastName"/>
      <alias entity-alias="PER" name="firstNameLocal"/>
      <alias entity-alias="PER" name="lastNameLocal"/>
      <alias entity-alias="PER" name="personalTitle"/>
      <alias entity-alias="PER" name="suffix"/>
      <alias entity-alias="PTYGRP" name="groupName"/>
      <alias entity-alias="PTYGRP" name="groupNameLocal"/>
      <alias name="fullName">
        	<complex-alias operator="||' '||">
        		<complex-alias-field entity-alias="PER" field="lastName" default-value="''"/>
        		<complex-alias-field entity-alias="PER" field="middleName" default-value="''"/>
        		<complex-alias-field entity-alias="PER" field="firstName" default-value="''" />
        		<complex-alias-field entity-alias="PTYGRP" field="groupName" default-value="''"/>
        	</complex-alias>
       </alias>
      <view-link entity-alias="PTY" rel-entity-alias="PER" rel-optional="true">
        <key-map field-name="partyId"/>
      </view-link>
      <view-link entity-alias="PTY" rel-entity-alias="PTR" rel-optional="true">
        <key-map field-name="partyId"/>
      </view-link>
      <view-link entity-alias="PTY" rel-entity-alias="PTYGRP" rel-optional="true">
        <key-map field-name="partyId"/>
      </view-link>
      <relation type="one-nofk" rel-entity-name="Party">
        <key-map field-name="partyId"/>
      </relation>
    </view-entity>

    <view-entity entity-name="InvoiceItemView"
                 package-name="com.olbius.bacc.report"
                 title="Invoice Item View">
        <member-entity entity-alias="INV" entity-name="Invoice"/>
        <member-entity entity-alias="INVI" entity-name="InvoiceItem"/>
        <alias entity-alias="INV" name="invoiceId"/>
        <alias entity-alias="INV" name="partyIdFrom"/>
        <alias entity-alias="INV" name="statusId"/>
        <alias entity-alias="INV" name="partyId"/>
        <alias entity-alias="INV" name="invoiceDate"/>
        <alias entity-alias="INV" name="currencyUomId"/>
        <alias entity-alias="INVI" name="productId"/>
        <alias entity-alias="INVI" name="quantity"/>
        <alias entity-alias="INVI" name="amount"/>
        <alias entity-alias="INVI" name="invoiceItemTypeId"/>
        <alias name="totalAmount">
            <complex-alias operator="*">
                <complex-alias-field default-value="1" field="quantity" entity-alias="INVI"/>
                <complex-alias-field default-value="1" field="amount" entity-alias="INVI"/>
            </complex-alias>
        </alias>
        <view-link entity-alias="INV" rel-entity-alias="INVI">
            <key-map field-name="invoiceId"/>
        </view-link>
    </view-entity>
    
    <view-entity entity-name="PaymentApplicationInvoice" 
            package-name="com.olbius.bacc.report"
            title="Payment Application Invoice View">
      <member-entity entity-alias="PA" entity-name="PaymentApplication"/>
      <member-entity entity-alias="INV" entity-name="Invoice"/>
      <alias entity-alias="PA" name="paymentId"/>
      <alias entity-alias="PA" name="amountApplied"/>
      <alias entity-alias="INV" name="partyIdFrom"/>
      <alias entity-alias="INV" name="statusId"/>
      <alias entity-alias="INV" name="partyId"/>
      <alias entity-alias="INV" name="invoiceDate"/>
      <view-link entity-alias="PA" rel-entity-alias="INV" >
        <key-map field-name="invoiceId"/>
      </view-link>
    </view-entity>
</entitymodel>