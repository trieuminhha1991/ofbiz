<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="../../../framework/widget/dtd/widget-screen.xsd">
	<screen name="CalculateDecorator">
    	<section>
    		<widgets>
    			<decorator-screen name="main-decorator" location="component://appbase/widget/CommonScreens.xml">
    				<decorator-section name="body">
    					<decorator-section-include name="body"/>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
    	</section>
    </screen>
    
   <screen name="prepareCalculatePurchase">
   		<section>
   			<actions>
   				<set field="titleProperty" value="BPOSCalculatePurchase" />
   				<set field="selectedMenuItem" value="manageCalculatePO" />
				<set field="selectedSubMenuItem" value="calculatePurchase" />
   			</actions>	
   			<widgets>
   				<section>
   					<condition>
   						<if-olbius-has-permission/>
   					</condition>
   					<widgets>
   						<decorator-screen name="CalculateDecorator">
		   					<decorator-section name="body">
		   						<platform-specific>
				   					<html>
				   						<html-template location="component://basepos/webapp/basepos/calculatePurchase/prepareCalculatePurchase.ftl"/>
				   					</html>
				   				</platform-specific>		
		   					</decorator-section>
		   				</decorator-screen>
   					</widgets>
   					<fail-widgets>
   						<decorator-screen name="CalculateDecorator">
		   					<decorator-section name="body">
		   						<container style="alert alert-danger">
								    <label text="${uiLabelMap.DmsNotPermission}"/>
								</container>
		   					</decorator-section>
		   				</decorator-screen>
   					</fail-widgets>
   				</section>
   			</widgets>
   		</section>
   </screen>
   
   <screen name="viewPlanPO">
   		<section>
   			<actions>
   				<set field="orderId" from-field="parameters.orderId"/>
   				<set field="productId" from-field="parameters.productId"/>
   				<set field="selectedMenuItem" value="manageCalculatePO" />
				<set field="selectedSubMenuItem" value="POHistory" />
				<set field="titleProperty" value="BPOSViewPlanPO" />
   			</actions>	
   			<widgets>
   				<section>
   					<condition>
						<if-olbius-has-permission/>   					
   					</condition>
   					<widgets>
   						<decorator-screen name="CalculateDecorator">
		   					<decorator-section name="body">
		   						<platform-specific>
				   					<html>
				   						<html-template location="component://basepos/webapp/basepos/calculatePurchase/viewPlanPO.ftl"/>
				   					</html>
				   				</platform-specific>		
		   					</decorator-section>
		   				</decorator-screen>
   					</widgets>
   					<fail-widgets>
   						<decorator-screen name="CalculateDecorator">
		   					<decorator-section name="body">
		   						<container style="alert alert-danger">
								    <label text="${uiLabelMap.DmsNotPermission}"/>
								</container>
		   					</decorator-section>
		   				</decorator-screen>
   					</fail-widgets>
   				</section>
   			</widgets>
   		</section>
   </screen>
   
   <screen name="POHistory">
		<section>
			<actions>
				<set field="titleProperty" value="BPOSPurchaseOrderHistory"/>
				<set field="selectedMenuItem" value="manageCalculatePO" />
				<set field="selectedSubMenuItem" value="POHistory" />
			</actions>
			<widgets>
				<section>
					<condition>
						<if-olbius-has-permission/>
					</condition>
					<widgets>
						<decorator-screen name="CalculateDecorator">
							<decorator-section name="body">
								<platform-specific>
									<html>
										<html-template location="component://basepos/webapp/basepos/calculatePurchase/POHistory.ftl"/>
									</html>
								</platform-specific>
							</decorator-section>
						</decorator-screen>
					</widgets>
					<fail-widgets>
						<decorator-screen name="CalculateDecorator">
							<decorator-section name="body">
								<container style="alert alert-danger">
								    <label text="${uiLabelMap.DmsNotPermission}"/>
								</container>
							</decorator-section>
						</decorator-screen>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
</screens>  