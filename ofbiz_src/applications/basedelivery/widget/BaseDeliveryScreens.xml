<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

    <screen name="DeliveryCommonDecorator">
        <section>
            <actions>
                <property-map resource="BaseDeliveryUiLabels" map-name="uiLabelMap"/>
                <property-map resource="CommonUiLabels" map-name="uiLabelMap"/>
            </actions>
            <widgets>
                <decorator-screen name="main-decorator"
                                  location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <decorator-section-include name="body"/>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="ListVehicle">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListVehicle"/>
                <set field="titleProperty" value="BDListVehicle" global="true"/>
                <property-map resource="BaseDeliveryUiLabels" map-name="uiLabelMap"/>
            </actions>
            <widgets>
                <decorator-screen name="DeliveryCommonDecorator">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/vehicle/listVehicle.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>


    <screen name="ViewVehicle">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListVehicle"/>
                <set field="titleProperty" value="BDListVehicle" global="true"/>
                <property-map resource="BaseDeliveryUiLabels" map-name="uiLabelMap"/>
            </actions>
            <widgets>
                <decorator-screen name="DeliveryCommonDecorator">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/vehicle/viewVehicle.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="ListTrip">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListTrip"/>
                <set field="titleProperty" value="BDListTrip" global="true"/>
                <property-map resource="BaseDeliveryUiLabels" map-name="uiLabelMap"/>
            </actions>
            <widgets>
                <decorator-screen name="DeliveryCommonDecorator">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/trip/listTrip.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="ListSupplierVehicle">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListSupplierVehicle"/>
                <set field="titleProperty" value="BDListSupplierVehicle" global="true"/>
                <property-map resource="BaseDeliveryUiLabels" map-name="uiLabelMap"/>
            </actions>
            <widgets>
                <decorator-screen name="DeliveryCommonDecorator">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/suppliervehicle/listSupplierVehicle.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="tripTitle">
        <section>
            <condition>
                <not>
                    <if-empty field="trip"/>
                </not>
            </condition>
            <widgets>
                <label style="ibefore-icon-angle-right" text="${uiLabelMap.BSId}: "></label>
                <link url-mode="plain" target="viewTrip?tripId=${trip.tripId}"
                      text="${trip.tripId}"></link>
            </widgets>
        </section>
    </screen>

    <screen name="ViewTrip">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListTrip"/>
                <set field="titleProperty" value="BDListVehicle" global="true"/>
                <script location="component://basedelivery/webapp/basedelivery/WEB-INF/actions/trip/tripView.groovy"/>
            </actions>
            <widgets>
                <section>
                    <condition>
                        <not>
                            <if-empty field="trip"/>
                        </not>
                    </condition>
                    <actions>
                        <set field="titleHeaderValue" value="tripTitle" global="true"/>
                        <set field="titleHeaderLocation"
                             value="component://basedelivery/widget/BaseDeliveryScreens.xml"
                             global="true"/>
                        <set field="currentStatusId" from-field="trip.statusId" global="true"/>
                    </actions>
                    <widgets>
                        <decorator-screen name="DeliveryCommonDecorator">
                            <decorator-section name="body">
                                <platform-specific>
                                    <html>
                                        <html-template
                                                location="component://basedelivery/webapp/basedelivery/trip/viewTrip.ftl"/>
                                    </html>
                                </platform-specific>
                            </decorator-section>
                        </decorator-screen>
                    </widgets>
                    <fail-widgets>
                        <decorator-screen name="main-decorator"
                                          location="${parameters.mainDecoratorLocation}">
                            <decorator-section name="body">
                                <container style="alert alert-info">
                                    <label text="${uiLabelMap.BSRecordIsNotFound}"></label>
                                </container>
                            </decorator-section>
                        </decorator-screen>
                    </fail-widgets>
                </section>
            </widgets>
        </section>
    </screen>

    <screen name="ViewDistributorGroup">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListDistributorGroup"/>
                <set field="titleProperty" value="BDListDistributorGroup" global="true"/>
                <script location="component://basedelivery/webapp/basedelivery/WEB-INF/actions/distributorgroup/distributorGroup.groovy"/>
            </actions>
            <widgets>
                <section>
                    <condition>
                        <not>
                            <if-empty field="productStoreGroup"/>
                        </not>
                    </condition>
                    <actions>
                        <set field="titleHeaderValue" value="tripTitle" global="true"/>
                        <set field="titleHeaderLocation"
                             value="component://basedelivery/widget/BaseDeliveryScreens.xml"
                             global="true"/>
                    </actions>
                    <widgets>
                        <decorator-screen name="DeliveryCommonDecorator">
                            <decorator-section name="body">
                                <screenlet navigation-menu-name="RequirementDeliverySubTabBar">
                                    <include-menu
                                            location="component://appbasemtl/widget/AppBaseMtlMenus.xml"
                                            name="RequirementDeliverySubTabBar"/>
                                    <platform-specific>
                                        <html>
                                            <html-template
                                                    location="component://basedelivery/webapp/basedelivery/distributorgroup/viewDistributorGroup.ftl"/>
                                        </html>
                                    </platform-specific>
                                </screenlet>
                            </decorator-section>
                        </decorator-screen>
                    </widgets>
                    <fail-widgets>
                        <decorator-screen name="main-decorator"
                                          location="${parameters.mainDecoratorLocation}">
                            <decorator-section name="body">
                                <container style="alert alert-info">
                                    <label text="${uiLabelMap.BSRecordIsNotFound}"></label>
                                </container>
                            </decorator-section>
                        </decorator-screen>
                    </fail-widgets>
                </section>
            </widgets>
        </section>
    </screen>

    <screen name="EditDistributorGroup">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListDistributorGroup"/>
                <set field="titleProperty" value="BDListDistributorGroup" global="true"/>
                <!--<entity-one value-field="trip" entity-name="Trip">-->
                <!--<field-map field-name="tripId" value="${parameters.tripId}"/>-->
                <!--</entity-one>-->
                <script location="component://basedelivery/webapp/basedelivery/WEB-INF/actions/distributorgroup/distributorGroup.groovy"/>
            </actions>
            <widgets>
                <section>
                    <condition>
                        <not>
                            <if-empty field="productStoreGroup"/>
                        </not>
                    </condition>
                    <actions>
                        <set field="titleHeaderValue" value="tripTitle" global="true"/>
                        <set field="titleHeaderLocation"
                             value="component://basedelivery/widget/BaseDeliveryScreens.xml"
                             global="true"/>
                        <!--<set field="currentStatusId" from-field="trip.statusId" global="true"/>-->
                    </actions>
                    <widgets>
                        <decorator-screen name="DeliveryCommonDecorator">
                            <decorator-section name="body">
                                <screenlet navigation-menu-name="RequirementDeliverySubTabBar">
                                    <include-menu
                                            location="component://appbasemtl/widget/AppBaseMtlMenus.xml"
                                            name="RequirementDeliverySubTabBar"/>
                                    <platform-specific>
                                        <html>
                                            <html-template
                                                    location="component://basedelivery/webapp/basedelivery/distributorgroup/editDistributorGroupTotal.ftl"/>
                                        </html>
                                    </platform-specific>
                                </screenlet>
                            </decorator-section>
                        </decorator-screen>
                    </widgets>
                    <fail-widgets>
                        <decorator-screen name="main-decorator"
                                          location="${parameters.mainDecoratorLocation}">
                            <decorator-section name="body">
                                <container style="alert alert-info">
                                    <label text="${uiLabelMap.BSRecordIsNotFound}"></label>
                                </container>
                            </decorator-section>
                        </decorator-screen>
                    </fail-widgets>
                </section>
            </widgets>
        </section>
    </screen>

    <screen name="VehicleNewVehicle">
        <section>
            <actions>
                <set field="titleProperty" value="BDListVehicle" global="true"/>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListVehicle"/>
                <set field="displayCost" value="N"/>
                <set field="displayQOH" value="Y"/>
                <set field="fixUrl" value="N"/>
                <property-map resource="BaseDeliveryUiLabels" map-name="uiLabelMap"/>
            </actions>
            <widgets>
                <section>
                    <!--<condition>-->
                    <!--<if-olbius-has-permission/>-->
                    <!--</condition>-->
                    <widgets>
                        <decorator-screen name="DeliveryCommonDecorator">
                            <decorator-section name="body">
                                <platform-specific>
                                    <html>
                                        <html-template
                                                location="component://basedelivery/webapp/basedelivery/vehicle/vehicleNewVehicleTemplate.ftl"/>
                                    </html>
                                </platform-specific>
                            </decorator-section>
                        </decorator-screen>
                    </widgets>
                    <fail-widgets>
                        <decorator-screen name="DeliveryCommonDecorator">
                            <decorator-section name="body">
                                <container style="alert alert-info">
                                    <label text="${uiLabelMap.BSYouHavenotViewPermission}"></label>
                                </container>
                            </decorator-section>
                        </decorator-screen>
                    </fail-widgets>
                </section>
            </widgets>
        </section>
    </screen>

    <screen name="EditVehicle">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListVehicle"/>
                <set field="titleProperty" value="BDListVehicle"/>
                <script location="component://basedelivery/webapp/basedelivery/WEB-INF/actions/vehicle/vehicleView.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="main-decorator"
                                  location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/vehicle/editVehicle.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="EditConfirmVehicleAjax">
        <section>
            <actions>
                <property-map map-name="uiLabelMap" resource="WidgetUiLabels" global="true"/>
                <property-map map-name="uiLabelMap" resource="CommonUiLabels" global="true"/>
                <property-map map-name="uiLabelMap" resource="OrderUiLabels" global="true"/>
                <property-map map-name="uiLabelMap" resource="BaseSalesUiLabels" global="true"/>
                <set field="stepTitleId" value="OrderOrderConfirmation"/>
                <set field="stepLabelId" value="OrderReviewOrder"/>
                <set field="headerItem" value="orderentry"/>
                <property-to-field resource="order" property="orderPreference.giftEnable"
                                   field="giftEnable" default="Y"/>
                <!-- <script location="component://order/webapp/ordermgr/WEB-INF/actions/entry/SetShoppingCart.groovy"/> -->
                <!-- <script location="component://order/webapp/ordermgr/WEB-INF/actions/entry/SetCheckOutTabBar.groovy"/> -->
                <script location="component://basesales/webapp/basesales/WEB-INF/actions/order/OrderEditCheckoutReviewCart.groovy"/>
                <script location="component://basesales/webapp/basesales/WEB-INF/actions/order/OrderEditConfirmOrderCart.groovy"/>
                <script location="component://basesales/webapp/basesales/WEB-INF/actions/order/OrderEditConfirmOrderPromo.groovy"/>
            </actions>
            <widgets>
                <section>
                    <widgets>
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/order/editConfirmVehicle.ftl"/>
                            </html>
                        </platform-specific>
                    </widgets>
                </section>
            </widgets>
        </section>
    </screen>

    <screen name="EditTrip">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListVehicle"/>
                <set field="titleProperty" value="BDListVehicle"/>
                <script location="component://basedelivery/webapp/basedelivery/WEB-INF/actions/trip/tripView.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="main-decorator"
                                  location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/trip/editTrip.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="NewTrip">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="NewTrip"/>
                <set field="titleProperty" value="BDListDelivery"/>
            </actions>
            <widgets>
                <decorator-screen name="DeliveryCommonDecorator">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/trip/newTripTotal.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="NewDistributorGroup">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="NewDistributorGroup"/>
                <set field="titleProperty" value="BDNewDistributorGroup"/>
            </actions>
            <widgets>
                <decorator-screen name="DeliveryCommonDecorator">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/distributorgroup/newDistributorGroupTotal.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="ListDistributorGroup">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListDistributorGroup"/>
                <set field="titleProperty" value="BDListDistributorGroup"/>
            </actions>
            <widgets>
                <decorator-screen name="DeliveryCommonDecorator">
                    <decorator-section name="body">
                        <platform-specific>
                            <html>
                                <html-template
                                        location="component://basedelivery/webapp/basedelivery/distributorgroup/listDistributor.ftl"/>
                            </html>
                        </platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="FoDecorator">
        <section>
            <actions>
                <set field="titleProperty" value="DAPrintQuotation"/>
                <set field="logoImageUrl" value="/images/ofbiz_logo.gif"/>
                <set field="defaultFontFamily" value="Times"/>
                <set field="pageLayoutName" from-field="pageLayoutName" default-value="main-page"/>
            </actions>
            <widgets>
                <platform-specific>
                    <xsl-fo>
                        <html-template
                                location="component://basesales/webapp/basesales/fo/template.fo.ftl"/>
                    </xsl-fo>
                </platform-specific>
            </widgets>
        </section>
    </screen>

    <screen name="TripDetailPDF">
        <section>
            <actions>
                <set field="titleProperty" value="BDPrintTripDetail"/>
                <property-map resource="BaseDeliveryUiLabels" map-name="uiLabelMap" global="true"/>
                <script
                        location="component://basedelivery/webapp/basedelivery/WEB-INF/actions/trip/TripPrint.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="FoDecorator">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                <platform-specific>
                                    <xsl-fo>
                                        <html-template
                                                location="component://basedelivery/webapp/basedelivery/fo/tripDetail.fo.ftl"/>
                                    </xsl-fo>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>

    <screen name="ListSupplier">
        <section>
            <actions>
                <set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="ListSupplier"/>
                <set field="titleProperty" value="BDListSupplier"/>
            </actions>
            <widgets>
                <section>
                    <!--<condition>-->
                    <!--<if-olbius-has-permission />-->
                    <!--</condition>-->
                    <widgets>
                        <decorator-screen name="DeliveryCommonDecorator">
                            <decorator-section name="body">
                                <platform-specific>
                                    <html>
                                        <html-template
                                                location="component://basedelivery/webapp/basedelivery/supplier/listSupplier.ftl"/>
                                    </html>
                                </platform-specific>
                            </decorator-section>
                        </decorator-screen>
                    </widgets>
                    <fail-widgets>
                        <decorator-screen name="main-decorator"
                                          location="${parameters.mainDecoratorLocation}">
                            <decorator-section name="body">
                                <container style="alert alert-danger">
                                    <label text="${uiLabelMap.DmsNotPermission}"/>
                                </container>
                            </decorator-section>
                        </decorator-screen>
                    </fail-widgets>
                </section>
            </widgets>
        </section>
    </screen>

</screens>