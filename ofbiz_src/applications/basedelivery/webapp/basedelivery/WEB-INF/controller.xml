<?xml version="1.0" encoding="UTF-8"?>
<site-conf xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/site-conf.xsd">
    <!-- The controller elements that are common to all OFBiz components
         can be found in the following xml file. A component can override the
         elements found in the common-controller.xml file. -->
    <include location="component://common/webcommon/WEB-INF/common-controller.xml"/>

    <description>BaseDelivery Component Site Configuration File</description>

    <!-- Events to run on every request before security (chains exempt) -->
    <!--
    <preprocessor>
    </preprocessor>
    -->
    <!-- Events to run on every request after all other processing (chains exempt) -->
    <!--
    <postprocessor>
        <event name="test" type="java" path="org.ofbiz.webapp.event.TestEvent" invoke="test"/>
    </postprocessor>
    -->

    <!-- Request Mappings -->
    <request-map uri="main">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="main"/>
    </request-map>

    <request-map uri="jqxGeneralServicer">
        <event type="java" invoke="jqxEventProcessor" path="com.olbius.events.JqxEvents"
               global-transaction="false"/>
        <response name="success" type="none"/>
        <response name="error" type="none"/>
    </request-map>

    <request-map uri="getAllVehicle">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="ListVehicle"/>
        <response name="error" type="view" value="ListVehicle"/>
    </request-map>

    <request-map uri="newTrip">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="NewTrip"/>
        <response name="error" type="view" value="NewTrip"/>
    </request-map>

    <request-map uri="newDistributorGroup">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="NewDistributorGroup"/>
        <response name="error" type="view" value="NewDistributorGroup"/>
    </request-map>

    <request-map uri="listDistributorGroup">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="ListDistributorGroup"/>
        <response name="error" type="view" value="ListDistributorGroup"/>
    </request-map>

    <request-map uri="editDistributorGroup">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="EditDistributorGroup"/>
        <response name="error" type="view" value="EditDistributorGroup"/>
    </request-map>

    <request-map uri="viewDistributorGroup">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="ViewDistributorGroup"/>
        <response name="error" type="view" value="ViewDistributorGroup"/>
    </request-map>

    <request-map uri="listTrip">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="ListTrip"/>
        <response name="error" type="view" value="ListTrip"/>
    </request-map>

    <request-map uri="listSupplier">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="ListSupplier"/>
        <response name="error" type="view" value="ListSupplier"/>
    </request-map>

    <request-map uri="listSupplierVehicle">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="ListSupplierVehicle"/>
        <response name="error" type="view" value="ListSupplierVehicle"/>
    </request-map>

    <request-map uri="viewTrip">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="ViewTrip"/>
    </request-map>

    <request-map uri="prepareCreateNewVehicle">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="VehicleNewVehicle"/>
        <response name="error" type="view" value="VehicleNewVehicle"/>
    </request-map>

    <request-map uri="createVehicle">
        <security https="true" auth="true"/>
        <event type="service" invoke="createVehicle"/>
        <response name="success" type="view" value="ListVehicle"/>
        <response name="error" type="view" value="ListVehicle"/>
    </request-map>

    <request-map uri="createTripAjax">
        <security https="true" auth="true"/>
        <event type="service" invoke="createTrip"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <request-map uri="createSupplierVehicleAjax">
        <security https="true" auth="true"/>
        <event type="service" invoke="createSupplierVehicle"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>
    <request-map uri="createDistributorGroupAjax">
        <security https="true" auth="true"/>
        <event type="service" invoke="createDistributorGroup"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>
    <request-map uri="updateDistributorGroupAjax">
        <security https="true" auth="true"/>
        <event type="service" invoke="updateDistributorGroup"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <request-map uri="verifyTripAjax">
        <security https="true" auth="true"/>
        <event type="service" invoke="editTrip"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <request-map uri="changeTripStatus">
        <security https="true" auth="true"/>
        <event type="service" invoke="editTrip"/>
        <response name="success" type="request-redirect" value="viewTrip"><redirect-parameter name="tripId"/></response>
        <response name="error" type="view" value="ViewTrip"><redirect-parameter name="tripId"/></response>
    </request-map>

    <request-map uri="tripDetail.pdf">
        <security https="true" auth="true" />
        <response name="success" type="view" value="TripDetailPDF"/>
    </request-map>

    <request-map uri="getContactMechName">
        <security https="true" auth="true"/>
        <event type="service" invoke="getContactMechName"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <request-map uri="getAllVehicleType">
        <security https="true" auth="true"/>
        <event type="service" invoke="getAllVehicleType"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <request-map uri="getVehicleTypeName">
        <security https="true" auth="true"/>
        <event type="service" invoke="getVehicleTypeName"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <request-map uri="editVehicle">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="EditVehicle"/>
    </request-map>

    <request-map uri="exportExcelVehicle">
        <security auth="true" https="true" />
        <event type="export-excel-olb"
               path="com.olbius.basesales.export.ExportExcelVehicle"></event>
        <response name="success" type="request-redirect" value="listFileExported"/>
        <response name="error" type="request-redirect" value="listFileExported"/>
    </request-map>

    <request-map uri="VehiclelList.pdf">
        <security https="false" auth="true"/>
        <response name="success" type="view" value="VehiclelListPDF"/>
    </request-map>

    <request-map uri="editTrip">
        <security https="true" auth="true"/>
        <response name="success" type="view" value="EditTrip"/>
    </request-map>

    <request-map uri="processEditVehicle">
        <security https="true" auth="true"/>
        <event type="java" path="com.olbius.basedelivery.vehicle.VehicleEvents"
               invoke="processEditVehicle"/>
        <response name="success" type="request" value="json"/>
        <response name="error" type="request" value="json"/>
    </request-map>

    <!-- View Mappings -->
    <view-map name="main" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#main"/>
    <view-map name="VehicleNewVehicle" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#VehicleNewVehicle"/>
<!--     <view-map name="ListFixedAssetVehicles" type="screen" -->
<!--               page="component://basedelivery/widget/BaseDeliveryScreens.xml#ListFixedAssetVehicles"/> -->
    <view-map name="ListVehicle" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#ListVehicle"/>
    <view-map name="EditConfirmVehicleAjax" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#EditConfirmVehicleAjax"/>
    <view-map name="EditVehicle" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#EditVehicle"/>
    <view-map name="EditTrip" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#EditTrip"/>
    <view-map name="NewTrip" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#NewTrip"/>
    <view-map name="ListTrip" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#ListTrip"/>
    <view-map name="ViewTrip" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#ViewTrip"/>
    <view-map name="ListSupplier" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#ListSupplier"/>
    <view-map name="ListSupplierVehicle" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#ListSupplierVehicle"/>
    <view-map name="NewDistributorGroup" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#NewDistributorGroup"/>
    <view-map name="ListDistributorGroup" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#ListDistributorGroup"/>
    <view-map name="EditDistributorGroup" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#EditDistributorGroup"/>

    <view-map name="ViewDistributorGroup" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#ViewDistributorGroup"/>

    <view-map name="VehiclelListPDF" type="screen"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#VehiclelListPDF"/>


    <view-map name="TripDetailPDF" type="screenfop"
              page="component://basedelivery/widget/BaseDeliveryScreens.xml#TripDetailPDF" content-type="application/pdf" encoding="none" />

</site-conf>