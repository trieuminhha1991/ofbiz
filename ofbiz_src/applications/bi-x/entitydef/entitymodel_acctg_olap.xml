<?xml version="1.0" encoding="UTF-8"?>

<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">

	<entity entity-name="AcctgTransFact" package-name="org.ofbiz.bi.fact.acc">
		<field name="acctgTransId" type="id-ne" />
		<field name="acctgTransEntrySeqId" type="id-ne" />
		<field name="acctgTransEntryTypeId" type="id-ne" />
		<field name="voucherRef" type="short-varchar" />
		<field name="partyDimId" type="numeric" />
		<field name="productDimId" type="numeric" />
		<field name="inventoryItemId" type="id" />
		<field name="glAccountTypeId" type="id" />
		<field name="glAccountDimId" type="numeric" />
		<field name="organizationPartyDimId" type="numeric" />
		<field name="amount" type="currency-amount" />
		<field name="currencyUomDimId" type="numeric" />
		<field name="origAmount" type="currency-amount" />
		<field name="origCurrencyUomDimId" type="numeric" />
		<field name="debitCreditFlag" type="indicator" />
		<field name="dueDimDate" type="numeric" />
		<field name="taxId" type="id" />
		<field name="transactionDimDate" type="numeric"/>
		<field name="invoiceId" type="id"/>
		<field name="paymentId" type="id"/>
		<field name="finAccountTransId" type="id"/>
		<field name="shipmentId" type="id"/>
		<field name="receiptId" type="id"/>
		<field name="workEffortId" type="id"/>
		<field name="reciprocalSeqId" type="id-ne"/>
		<field name="reciprocalGlAccountDimId" type="numeric"/>
		<field name="facilityDimId" type="numeric"/>
		<field name="deliveryId" type="id"/>
		
		<field name="voucherId" type="id"/>
		<field name="voucherCode" type="description"/>
		<field name="voucherType" type="id"/>
		<field name="voucherParentType" type="id"/>
		<field name="voucherDescription" type="description"/>
		<field name="voucherDate" type="date-time"/>
		<field name="returnId" type="id"/>
		<field name="orderId" type="id"/>
        <field name="productStoreId" type="id"/>
		<field name="salesMethodChannelEnumDimId" type="numeric"/>		
				
		<!-- cuongth -->
		<field name="invoiceItemTypeId" type="id-ne"/>
		
		<prim-key field="acctgTransId" />
		<prim-key field="acctgTransEntrySeqId" />
	</entity>
	
	<entity entity-name="AcctgTransCalcFact" package-name="org.ofbiz.bi.fact.acc">
		<field name="glAccountDimId" type="numeric" />
		<field name="dateDimId" type="numeric"/>
		<field name="amount" type="currency-amount" />
		<field name="currencyUomDimId" type="numeric" />
		<field name="organization" type="id-ne" />
		<field name="partyDimId" type="numeric" />
		<prim-key field="glAccountDimId" />
		<prim-key field="dateDimId" />
		<prim-key field="currencyUomDimId" />
		<prim-key field="organization" />
		<prim-key field="partyDimId" />
	</entity>
	
	<entity entity-name="PartyClassificationFact" package-name="org.ofbiz.bi.fact.acc">
		<field name="partyClassGroupDimId" type="numeric" />
		<field name="fromDateDimId" type="numeric"/>
		<field name="thruDateDimId" type="numeric"/>
		<field name="partyDimId" type="numeric" />
		<prim-key field="fromDateDimId" />
		<prim-key field="partyClassGroupDimId" />
		<prim-key field="partyDimId" />
	</entity>
	
	<entity entity-name="InvoicePaymentGlFact" package-name="org.ofbiz.bi.fact.acc">
		<!--primary key-->
		<field name="paPaymentApplicationId" type="id"/>
		<field name="invInvoiceId" type="id"/>
		<field name="ptPaymentId" type="id"/>

		<!-- dimension -->
		<field name="invGlAccountDimId" type="numeric"/>
		<field name="ptGlAccountDimId" type="numeric"/>

		<field name="invPartyFromDimId" type="numeric"/>
		<field name="invPartyToDimId" type="numeric"/>
		<field name="invInvoiceDateDimId" type="numeric"/>
		<field name="invDueDateDimId" type="numeric"/>
		<field name="ptEffectiveDateDimId" type="numeric"/>
		<field name="invOrgPartyDimId" type="numeric"/>
		<field name="invPartyDiffDimId" type="numeric"/>

		<field name="invCurrencyUomDimId" type="numeric"/>
		<field name="invOrigCurrencyUomDimId" type="numeric"/>
		<field name="ptCurrencyUomDimId" type="numeric"/>
		<field name="ptOrigCurrencyUomDimId" type="numeric"/>

		<!-- attribute -->
		<field name="paymentAppStatusId" type="id"/>
		<field name="invTotalAmount" type="currency-amount"/>
		<field name="paAmountApplied" type="currency-amount"/>
		<field name="invInvoiceTypeId" type="id"/>
		<field name="invParentTypeId" type="id"/>
		<field name="ptPaymentTypeId" type="id"/>
		<field name="ptParentTypeId" type="id"/>
		<field name="ptPaymentMethodTypeId" type="id"/>
		<field name="ptPaymentMethodId" type="id"/>

		<field name="invAcctgTransId" type="id"/>
		<field name="invGlAccountTypeId" type="id"/>
		<field name="invAmount" type="currency-amount"/>
		<field name="invOrigAmount" type="currency-amount"/>
		<field name="invDebitCreditFlag" type="indicator"/>

		<field name="ptAcctgTransId" type="id"/>
		<field name="ptGlAccountTypeId" type="id"/>
		<field name="ptAmount" type="currency-amount"/>
		<field name="ptOrigAmount" type="currency-amount"/>
		<field name="ptDebitCreditFlag" type="indicator"/>
		<field name="partyTypeId" type="id-ne"/>

		<!-- set primary key -->
		<prim-key field="paPaymentApplicationId"/>
		<prim-key field="invInvoiceId"/>
		<prim-key field="ptPaymentId"/>
		<prim-key field="invGlAccountDimId"/>
		<prim-key field="ptGlAccountDimId"/>
	</entity>
	
    <entity entity-name="GlAccountHistoryFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="GL Account History Entity Fact">
      <field name="glAccountDimId" type="numeric"></field>
      <field name="organizationPartyDimId" type="numeric"></field>
      <field name="customTimePeriodDimId" type="numeric"></field>
      <field name="openingBalance" type="currency-amount"></field>
      <field name="openingCrBalance" type="currency-amount"></field>
      <field name="openingDrBalance" type="currency-amount"></field>
      <field name="postedDebits" type="currency-amount"></field>
      <field name="postedCredits" type="currency-amount"></field>
      <field name="endingBalance" type="currency-amount"></field>
      <field name="endingCrBalance" type="currency-amount"></field>
      <field name="endingDrBalance" type="currency-amount"></field>
      <prim-key field="glAccountDimId"/>
      <prim-key field="organizationPartyDimId"/>
      <prim-key field="customTimePeriodDimId"/>      
    </entity>
    
    <entity entity-name="GlAccountBalanceFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="GL Account Balance Entity Fact">
      <field name="glAccountDimId" type="numeric"></field>
      <field name="organizationPartyDimId" type="numeric"></field>
      <field name="openingCrBalance" type="currency-amount"></field>
      <field name="openingDrBalance" type="currency-amount"></field>
      <prim-key field="glAccountDimId"/>
      <prim-key field="organizationPartyDimId"/>
    </entity>    	
    
    <entity entity-name="ProductAverageCostFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="Product Average Cost Entity Fact">
      <field name="organizationPartyDimId" type="numeric"></field>
      <field name="productDimId" type="numeric"></field>
      <field name="facilityDimId" type="numeric"></field>
      <field name="productAverageCostTypeId" type="short-varchar"></field>
      <field name="fromDateDim" type="numeric"></field>
      <field name="thruDateDim" type="numeric"></field>
      <field name="fromDate" type="date-time"></field>
      <field name="thruDate" type="date-time"></field>
      <field name="averageCost" type="currency-amount"></field>
      <field name="averagePurCost" type="currency-amount"></field>
      <prim-key field="organizationPartyDimId"/>
      <prim-key field="productDimId"/>
      <prim-key field="facilityDimId"/>
      <prim-key field="fromDateDim"/>
    </entity>    
    
	
    <view-entity entity-name="AcctgTransFactAndGlAccountAndParty" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ATF" entity-name="AcctgTransFact"/>
        <member-entity entity-alias="GLD" entity-name="GlAccountDimension"/>
        <member-entity entity-alias="PGD" entity-name="PartyDimension"/>
        <member-entity entity-alias="DD" entity-name="DateDimension"/>
        <alias name="amountTotal" function="sum" field="amount" entity-alias="ATF">
        </alias>
        <alias entity-alias="ATF" name="debitCreditFlag" field="debitCreditFlag" group-by="true"/>
        <alias entity-alias="GLD" name="glAccountCode" field="accountCode" group-by="true"/>
        <alias entity-alias="PGD" name="organizationPartyId" field="partyId" group-by="true"/>
        <alias entity-alias="DD" name="transactionDate" field="dateValue" group-by="true"/>
		<view-link entity-alias="ATF" rel-entity-alias="PGD" rel-optional="true">
			<key-map field-name="organizationPartyDimId" rel-field-name="dimensionId" />
		</view-link>         
		<view-link entity-alias="ATF" rel-entity-alias="GLD" rel-optional="true">
			<key-map field-name="glAccountDimId" rel-field-name="dimensionId" />
		</view-link> 
		<view-link entity-alias="ATF" rel-entity-alias="DD" rel-optional="true">
			<key-map field-name="transactionDimDate" rel-field-name="dimensionId" />
		</view-link>
    </view-entity>
    
    <view-entity entity-name="AcctgTransFactAndGlAccountAndParty2" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ATF" entity-name="AcctgTransFact"/>
        <member-entity entity-alias="GLD" entity-name="GlAccountDimension"/>
        <member-entity entity-alias="GLD2" entity-name="GlAccountDimension"/>
        <member-entity entity-alias="PGD" entity-name="PartyDimension"/>
        <member-entity entity-alias="DD" entity-name="DateDimension"/>
        <alias name="amountTotal" function="sum" field="amount" entity-alias="ATF">
        </alias>
        <alias entity-alias="ATF" name="debitCreditFlag" field="debitCreditFlag" group-by="true"/>
        <alias entity-alias="GLD2" name="recipGlAccountCode" field="accountCode" group-by="true"/>
        <alias entity-alias="ATF" name="acctgTransId" field="acctgTransId" group-by="true"/>
        <alias entity-alias="GLD" name="glAccountCode" field="accountCode" group-by="true"/>
        <alias entity-alias="PGD" name="organizationPartyId" field="partyId" group-by="true"/>
        <alias entity-alias="DD" name="transactionDate" field="dateValue" group-by="true"/>
		<view-link entity-alias="ATF" rel-entity-alias="PGD" rel-optional="true">
			<key-map field-name="organizationPartyDimId" rel-field-name="dimensionId" />
		</view-link>         
		<view-link entity-alias="ATF" rel-entity-alias="GLD" rel-optional="true">
			<key-map field-name="glAccountDimId" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="ATF" rel-entity-alias="GLD2" rel-optional="true">
			<key-map field-name="reciprocalGlAccountDimId" rel-field-name="dimensionId" />
		</view-link> 
		<view-link entity-alias="ATF" rel-entity-alias="DD" rel-optional="true">
			<key-map field-name="transactionDimDate" rel-field-name="dimensionId" />
		</view-link>
    </view-entity>
    
    <view-entity entity-name="AcctgDocumentListFactSum" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ADLF" entity-name="AcctgDocumentListFact"/>
        
        <alias name="crAmountTotal" function="sum" field="crAmount" entity-alias="ADLF" />
        <alias name="drAmountTotal" function="sum" field="drAmount" entity-alias="ADLF" />
        <alias entity-alias="ADLF" name="recipGlAccountCode" field="accountRecipCode" group-by="true"/>
        <alias entity-alias="ADLF" name="glAccountCode" field="accountCode" group-by="true"/>
        <alias entity-alias="ADLF" name="organizationPartyId" group-by="false"/>
        <alias entity-alias="ADLF" name="transactionDate" group-by="false"/>
    </view-entity>
    
    <view-entity entity-name="AcctgDocumentListFactSum2" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ADLF" entity-name="AcctgDocumentListFact"/>
        
        <alias name="crAmountTotal" function="sum" field="crAmount" entity-alias="ADLF" />
        <alias name="drAmountTotal" function="sum" field="drAmount" entity-alias="ADLF" />
        <alias entity-alias="ADLF" name="glAccountCode" field="accountCode" group-by="true"/>
        <alias entity-alias="ADLF" name="organizationPartyId" group-by="false"/>
        <alias entity-alias="ADLF" name="transactionDate" group-by="false"/>
    </view-entity>
    
    <view-entity entity-name="AcctgDocumentListFactSum3" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ADLF" entity-name="AcctgDocumentListFact"/>
        
        <alias name="crAmountTotal" function="sum" field="crAmount" entity-alias="ADLF" />
        <alias name="drAmountTotal" function="sum" field="drAmount" entity-alias="ADLF" />
        <alias entity-alias="ADLF" name="glAccountCode" field="accountCode" group-by="false"/>
        <alias entity-alias="ADLF" name="organizationPartyId" group-by="false"/>
        <alias entity-alias="ADLF" name="transactionDate" group-by="false"/>
        <alias entity-alias="ADLF" name="acctgTransTypeId" group-by="false"/>
        <entity-condition>
			<condition-expr field-name="acctgTransTypeId" operator="not-equals" value="CLOSING_ENTRY" entity-alias="ADLF"/>
		</entity-condition>
    </view-entity>    
    
    <view-entity entity-name="AcctgTransFactRecip" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ATF" entity-name="AcctgTransFact"/>
        <member-entity entity-alias="GLD" entity-name="GlAccountDimension"/>
        <member-entity entity-alias="GLD2" entity-name="GlAccountDimension"/>
        <member-entity entity-alias="PGD" entity-name="PartyDimension"/>
        <member-entity entity-alias="PGD2" entity-name="PartyDimension"/>
        <member-entity entity-alias="DD" entity-name="DateDimension"/>
        <member-entity entity-alias="CD" entity-name="CurrencyDimension"/>
        <alias name="amount" field="amount" entity-alias="ATF">
        </alias>
        <alias entity-alias="ATF" name="debitCreditFlag" field="debitCreditFlag"/>
        <!-- <alias entity-alias="ATF" name="description" field="description"/> -->
        <alias entity-alias="GLD2" name="recipGlAccountCode" field="accountCode"/>
        <alias entity-alias="ATF" name="acctgTransId" field="acctgTransId"/>
        <alias entity-alias="ATF" name="acctgTransEntryTypeId" field="acctgTransEntryTypeId"/>
        <alias entity-alias="ATF" name="paymentId" field="paymentId"/>
        <alias entity-alias="ATF" name="invoiceId" field="invoiceId"/>
        <alias entity-alias="ATF" name="voucherId" field="voucherId"/>
        <alias entity-alias="ATF" name="voucherDate" field="voucherDate"/>
        <alias entity-alias="ATF" name="voucherDescription" field="voucherDescription"/>
        <alias entity-alias="ATF" name="voucherType" field="voucherType"/>
        <alias entity-alias="ATF" name="voucherParentType" field="voucherParentType"/>
        <alias entity-alias="GLD" name="glAccountCode" field="accountCode"/>
        <alias entity-alias="PGD" name="organizationPartyId" field="partyId"/>
        <alias entity-alias="PGD2" name="partyId" field="partyId"/>
        <alias entity-alias="DD" name="transactionDate" field="dateValue"/>
        <alias entity-alias="CD" name="currencyId" field="currencyId"/>
		<view-link entity-alias="ATF" rel-entity-alias="PGD" rel-optional="true">
			<key-map field-name="organizationPartyDimId" rel-field-name="dimensionId" />
		</view-link>         
		<view-link entity-alias="ATF" rel-entity-alias="GLD" rel-optional="true">
			<key-map field-name="glAccountDimId" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="ATF" rel-entity-alias="GLD2" rel-optional="true">
			<key-map field-name="reciprocalGlAccountDimId" rel-field-name="dimensionId" />
		</view-link> 
		<view-link entity-alias="ATF" rel-entity-alias="DD" rel-optional="true">
			<key-map field-name="transactionDimDate" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="ATF" rel-entity-alias="CD" rel-optional="true">
			<key-map field-name="currencyUomDimId" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="ATF" rel-entity-alias="PGD2" rel-optional="true">
			<key-map field-name="partyDimId" rel-field-name="dimensionId" />
		</view-link>
    </view-entity>
    
    <view-entity entity-name="GlAccountBalanceFactView" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="GBF" entity-name="GlAccountBalanceFact"/>
        <member-entity entity-alias="GLD" entity-name="GlAccountDimension"/>
        <member-entity entity-alias="PGD" entity-name="PartyDimension"/>
        <alias-all entity-alias="GBF"/>
        <alias name="accountName" entity-alias="GLD" field="accountName"/>
        <alias name="glAccountCode" entity-alias="GLD" field="accountCode"/>
        <alias entity-alias="GLD" name="glAccountId" field="glAccountId"/>
        <alias entity-alias="PGD" name="organizationPartyId" field="partyId"/>
		<view-link entity-alias="GBF" rel-entity-alias="PGD" rel-optional="true">
			<key-map field-name="organizationPartyDimId" rel-field-name="dimensionId" />
		</view-link>         
		<view-link entity-alias="GBF" rel-entity-alias="GLD" rel-optional="true">
			<key-map field-name="glAccountDimId" rel-field-name="dimensionId" />
		</view-link> 
    </view-entity>
    
    <view-entity entity-name="CustomTimePeriodDimensionView" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="CPD1" entity-name="CustomTimePeriodDimension"/>
        <member-entity entity-alias="CPD2" entity-name="CustomTimePeriodDimension"/>
        <member-entity entity-alias="CPR" entity-name="CustomTimePeriodRelationship"/>
        <member-entity entity-alias="DD1" entity-name="DateDimension"/>
        <member-entity entity-alias="DD2" entity-name="DateDimension"/>
        <alias-all entity-alias="CPD1">
        	<exclude field="fromDate"/>
        	<exclude field="thruDate"/>
        </alias-all>
        <alias name="parentPeriodId" entity-alias="CPD2" field="customTimePeriodId"/>
        <alias name="fromDate" entity-alias="DD1" field="dateValue"/>
        <alias name="thruDate" entity-alias="DD2" field="dateValue"/>
		<view-link entity-alias="CPD1" rel-entity-alias="CPR" rel-optional="true">
			<key-map field-name="dimensionId" />
		</view-link>         
		<view-link entity-alias="CPR" rel-entity-alias="CPD2" rel-optional="true">
			<key-map field-name="parentDimId" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="CPD1" rel-entity-alias="DD1" rel-optional="true">
			<key-map field-name="fromDate" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="CPD1" rel-entity-alias="DD2" rel-optional="true">
			<key-map field-name="thruDate" rel-field-name="dimensionId" />
		</view-link> 
    </view-entity>
    
    <view-entity entity-name="GlAccountHistoryFactView" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="GHF" entity-name="GlAccountHistoryFact"/>
        <member-entity entity-alias="GLD" entity-name="GlAccountDimension"/>
        <member-entity entity-alias="PGD" entity-name="PartyDimension"/>
        <member-entity entity-alias="CTPD" entity-name="CustomTimePeriodDimension"/>
        <member-entity entity-alias="DD" entity-name="DateDimension"/>
        <member-entity entity-alias="DD2" entity-name="DateDimension"/>
        <alias-all entity-alias="GHF"/>
        <alias-all entity-alias="CTPD">
        	<exclude field="fromDate"/>
        	<exclude field="thruDate"/>
            <exclude field="organizationPartyDimId"/>
        </alias-all>
        <alias name="fromDate" field="dateValue" entity-alias="DD"></alias>
        <alias name="thruDate" field="dateValue" entity-alias="DD2"></alias>
        <alias name="accountName" entity-alias="GLD" field="accountName"/>
        <alias name="glAccountCode" entity-alias="GLD" field="accountCode"/>
        <alias entity-alias="GLD" name="glAccountId" field="glAccountId"/>
        <alias entity-alias="PGD" name="organizationPartyId" field="partyId"/>
		<view-link entity-alias="GHF" rel-entity-alias="PGD" rel-optional="true">
			<key-map field-name="organizationPartyDimId" rel-field-name="dimensionId" />
		</view-link>         
		<view-link entity-alias="GHF" rel-entity-alias="GLD" rel-optional="true">
			<key-map field-name="glAccountDimId" rel-field-name="dimensionId" />
		</view-link> 
		<view-link entity-alias="GHF" rel-entity-alias="CTPD" rel-optional="true">
			<key-map field-name="customTimePeriodDimId" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="CTPD" rel-entity-alias="DD" rel-optional="true">
			<key-map field-name="fromDate" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="CTPD" rel-entity-alias="DD2" rel-optional="true">
			<key-map field-name="thruDate" rel-field-name="dimensionId" />
		</view-link> 		       
    </view-entity>
    
    <view-entity entity-name="AcctgTransCalcFactAndGlAccountAndPartyAndCurrency" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ATCF" entity-name="AcctgTransCalcFact"/>
        <member-entity entity-alias="GLD" entity-name="GlAccountDimension"/>
        <member-entity entity-alias="PGD" entity-name="PartyDimension"/>
        <member-entity entity-alias="DD" entity-name="DateDimension"/>
        <member-entity entity-alias="CRD" entity-name="CurrencyDimension"/>
        <alias-all entity-alias="ATCF"/>
        <alias name="accountName" entity-alias="GLD" field="accountName"/>
        <alias name="accountCode" entity-alias="GLD" field="accountCode"/>
        <alias entity-alias="GLD" name="glAccountId" field="glAccountId"/>
        <alias entity-alias="PGD" name="organizationPartyId" field="partyId"/>
        <alias entity-alias="DD" name="transactionDate" field="dateValue"/>
        <alias entity-alias="CRD" name="currencyUomId" field="currencyId"/>
        
		<view-link entity-alias="ATCF" rel-entity-alias="PGD" rel-optional="true">
			<key-map field-name="organizationPartyDimId" rel-field-name="dimensionId" />
		</view-link>         
		<view-link entity-alias="ATCF" rel-entity-alias="GLD" rel-optional="true">
			<key-map field-name="glAccountDimId" rel-field-name="dimensionId" />
		</view-link> 
		<view-link entity-alias="ATCF" rel-entity-alias="DD" rel-optional="true">
			<key-map field-name="dateDimId" rel-field-name="dimensionId" />
		</view-link>
		<view-link entity-alias="ATCF" rel-entity-alias="CRD" rel-optional="true">
			<key-map field-name="currencyUomDimId" rel-field-name="dimensionId" />
		</view-link>		 		       
    </view-entity>
    
    <entity entity-name="AcctgDocumentListFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="Acctg Document List Entity Fact">
      <field name="acctgTransId" type="id-ne"></field>
      <field name="acctgTransTypeId" type="id-ne"></field>
      <field name="acctgTransEntrySeqId" type="id-ne"></field>
      <field name="documentDate" type="date-time"></field>
      <field name="documentId" type="id-ne"></field>
      <field name="documentNumber" type="id-ne"></field>
      <field name="documentType" type="id-ne"></field>
      <field name="documentParentType" type="id-ne"></field>
      <field name="description" type="description"></field>
      <field name="organizationPartyId" type="id-ne"></field>
      <field name="organizationPartyName" type="name"></field>
      <field name="partyId" type="id-ne"></field>
      <field name="partyCode" type="id-ne"></field>
      <field name="partyName" type="name"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="accountCode" type="name"></field>
      <field name="accountName" type="name"></field>
      <field name="glAccountRecipId" type="id-ne"></field>
      <field name="accountRecipCode" type="name"></field>
      <field name="accountRecipName" type="name"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
      <field name="productId" type="id-ne"></field>
      <field name="productCode" type="id-ne"></field>
      <field name="productName" type="name"></field>
      <field name="reciprocalSeqId" type="id-ne"/>
      <field name="orderId" type="id-ne"></field>
      <field name="currencyId" type="id-ne"></field>
      <field name="returnId" type="id-ne"></field>
      <field name="transactionDate" type="date"></field>
      <field name="salesMethodChannelId" type="id-ne"></field>
      <field name="salesMethodChannelName" type="name"></field>
	  <field name="voucherCode" type="description"/>
	  <field name="deliveryId" type="id"/>
      <field name="facilityId" type="id"></field>
      <field name="facilityName" type="name"></field>
      <field name="productStoreId" type="id"></field>
      <field name="productStoreName" type="name"></field>
      <field name="yearName" type="numeric"/>
      <field name="quarterAndYear" type="short-varchar"/>      
      <field name="yearAndMonth" type="short-varchar"/>
      <field name="weekAndYear" type="short-varchar"/>
      <field name="categoryId" type="id-ne"></field>
      <field name="categoryName" type="name"></field>
	        
      <prim-key field="acctgTransId"/>
      <prim-key field="acctgTransEntrySeqId"/>      
    </entity>

    <entity entity-name="AcctgPartyPreferenceFact"
        package-name="org.ofbiz.bi.fact.acc"
        title="Party (organization) accounting preferences fact">
        <field name="partyDimId" type="numeric"/>
        <field name="fiscalYearStartMonth" type="numeric"/>
        <field name="fiscalYearStartDay" type="numeric"/>
        <field name="taxFormId" type="id-ne"/>
        <field name="cogsMethodId" type="id-ne"/>
        <field name="baseCurrencyUomDimId" type="numeric"/>
        <field name="invoiceSeqCustMethId" type="id-ne"/>
        <field name="invoiceIdPrefix" type="very-short"/>
        <field name="lastInvoiceNumber" type="numeric"/>
        <field name="lastInvoiceRestartDate" type="date-time"/>
        <field name="useInvoiceIdForReturns" type="indicator"/>
        <field name="quoteSeqCustMethId" type="id-ne"/>
        <field name="quoteIdPrefix" type="very-short"/>
        <field name="lastQuoteNumber" type="numeric"/>
        <field name="orderSeqCustMethId" type="id-ne"/>
        <field name="orderIdPrefix" type="very-short"/>
        <field name="lastOrderNumber" type="numeric"/>
        <field name="refundPaymentMethodId" type="id"/>
        <field name="errorGlJournalId" type="id"/>       
        <!-- Deprecated Field-->
        <field name="oldInvoiceSequenceEnumId" col-name="INVOICE_SEQUENCE_ENUM_ID" type="id-ne"/>
        <field name="oldOrderSequenceEnumId" col-name="ORDER_SEQUENCE_ENUM_ID" type="id-ne"/>
        <field name="oldQuoteSequenceEnumId" col-name="QUOTE_SEQUENCE_ENUM_ID" type="id-ne"/>
        <prim-key field="partyDimId"/>
    </entity>
    
    <entity entity-name="AcctgCustomTimePeriodSumFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="Acctg Document List Entity Fact">
      <field name="organizationPartyId" type="id-ne"></field>
      <field name="organizationPartyName" type="name"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="accountCode" type="name"></field>
      <field name="accountName" type="name"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
      <field name="customTimePeriodId" type="id-ne"></field>      
      <field name="periodName" type="id-ne"></field>
      <field name="periodTypeId" type="id-ne"></field>
      <field name="currencyId" type="id-ne"></field>
      <field name="lastProcessedStamp" type="date-time"></field>

      <prim-key field="organizationPartyId"/>
      <prim-key field="glAccountId"/>
      <prim-key field="customTimePeriodId"/>
    </entity>
    
    <entity entity-name="AcctgCustomTimePartySumFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="Acctg Document List Entity Fact">
      <field name="organizationPartyId" type="id-ne"></field>
      <field name="organizationPartyName" type="name"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="accountCode" type="name"></field>
      <field name="accountName" type="name"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
      <field name="customTimePeriodId" type="id-ne"></field>      
      <field name="periodName" type="id-ne"></field>
      <field name="periodTypeId" type="id-ne"></field>
      <field name="partyId" type="id-ne"></field>
      <field name="partyName" type="name"></field>
      <field name="currencyId" type="id-ne"></field>
      <field name="lastProcessedStamp" type="date-time"></field>   
      <!-- add by dunglv for mark -->
      <field name="flag" type="indicator"></field>
      <!-- end by dunglv -->   

      <prim-key field="organizationPartyId"/>
      <prim-key field="glAccountId"/>
      <prim-key field="customTimePeriodId"/>
      <prim-key field="partyId"/>
    </entity>    
    
    <view-entity entity-name="AcctgTransSumFact" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ADLF" entity-name="AcctgDocumentListFact"/>
        <alias entity-alias="ADLF" name="glAccountId" field="glAccountId" group-by="true"/>
        <alias entity-alias="ADLF" name="drAmount" field="drAmount" function="sum"/>
        <alias entity-alias="ADLF" name="crAmount" field="crAmount" function="sum"/>
        <alias entity-alias="ADLF" name="organizationPartyId" field="organizationPartyId" group-by="true"/>
        <alias entity-alias="ADLF" name="transactionDate" field="transactionDate" group-by="false"/>
    </view-entity>
    
    <view-entity entity-name="AcctgTransPartySumFact" package-name="org.ofbiz.bi.fact.acc">
        <member-entity entity-alias="ADLF" entity-name="AcctgDocumentListFact"/>
        <alias entity-alias="ADLF" name="glAccountId" field="glAccountId" group-by="true"/>
        <alias entity-alias="ADLF" name="drAmount" field="drAmount" function="sum"/>
        <alias entity-alias="ADLF" name="crAmount" field="crAmount" function="sum"/>
        <alias entity-alias="ADLF" name="organizationPartyId" field="organizationPartyId" group-by="true"/>
        <alias entity-alias="ADLF" name="transactionDate" field="transactionDate" group-by="false"/>
        <alias name="partyId" group-by="true">
        	<complex-alias operator="||' '||">
        		<complex-alias-field field="partyId" entity-alias="ADLF" default-value="'company'"/>
        	</complex-alias>
        </alias>
    </view-entity>    
    
    <entity entity-name="InvoiceTaxFact" package-name="org.ofbiz.bi.fact.acc">
    	<field name="invoiceId" type="id-ne"></field>
    	<field name="taxAuthRateProdDimId" type="numeric"></field>
    	<field name="invoiceTypeDimId" type="numeric"></field>
    	<field name="invoiceDateDimId" type="numeric"></field>
    	<field name="invoiceDate" type="date-time"></field>
    	<field name="amount" type="currency-precise"></field>
    	<field name="taxAmount" type="currency-precise"></field>
    	<field name="partyName" type="long-varchar"></field>
    	<field name="taxCode" type="long-varchar"></field>
    	<field name="currencyUomDimId" type="numeric"/>
    	<prim-key field="invoiceId"/>
    	<prim-key field="taxAuthRateProdDimId"/>
    </entity> 
    
    <entity entity-name="AcctgTransSumDayFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="Acctg Trans Sum Day Entity Fact">      
      <field name="acctgTransTypeId" type="id-ne"></field>
      <field name="description" type="description"></field>
      <field name="organizationPartyId" type="id-ne"></field>
      <field name="organizationPartyName" type="name"></field>
      <field name="partyId" type="id-ne"></field>
      <field name="partyName" type="name"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="accountCode" type="name"></field>
      <field name="accountName" type="name"></field>
      <field name="glAccountRecipId" type="id-ne"></field>
      <field name="accountRecipCode" type="name"></field>
      <field name="accountRecipName" type="name"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
      <field name="currencyId" type="id-ne"></field>
      <field name="transactionDate" type="date"></field>
      <field name="deliveryId" type="id"></field>
      <field name="facilityId" type="id"></field>
      <field name="facilityName" type="name"></field>
	  <field name="voucherCode" type="description"/>
	  <field name="lastProcessedStamp" type="date-time"></field>
	  <field name="acctgSumTempId" type="id-ne"></field>
	  
	  <prim-key field="acctgSumTempId"/>
      
      <index name="ACTSDF_UNQCD" unique="true">
      	<index-field name="organizationPartyId"/>
      	<index-field name="partyId"/>      
      	<index-field name="glAccountId"/>
      	<index-field name="glAccountRecipId"/>
      	<index-field name="currencyId"/>
      	<index-field name="transactionDate"/>
      	<index-field name="deliveryId"/>
      	<index-field name="facilityId"/>
      </index>
    </entity>
    
    <entity entity-name="InvoiceVoucherFact" package-name="org.ofbiz.bi.fact.acc"
            title="Invoice Voucher Fact">
      <field name="invoiceId" type="id-ne"></field>
      <field name="voucherId" type="id-ne"></field>
   	  <field name="voucherForm" type="long-varchar"></field>
      <field name="voucherSerial" type="long-varchar"></field>
   	  <field name="voucherNumber" type="long-varchar"></field>
   	  <field name="amount" type="currency-amount"></field>
   	  <field name="taxAmount" type="currency-amount"></field>
   	  <field name="totalAmountVoucher" type="currency-amount"></field>
   	  <field name="issuedDate" type="date"></field>
   	  <field name="voucherCreatedDate" type="date"></field>
	        
      <prim-key field="invoiceId"/>
      <prim-key field="voucherId"/>      
      <prim-key field="voucherForm"/>      
      <prim-key field="voucherSerial"/>      
      <prim-key field="voucherNumber"/>      
    </entity>
    
    <entity entity-name="AcctgDocumentSumFact" package-name="org.ofbiz.bi.fact.acc"
            title="Acctg Document Sum Fact">
      <field name="acctgTransId" type="id-ne"></field>
      <field name="acctgTransTypeId" type="id-ne"></field>
      <field name="invoiceId" type="id-ne"></field>
      <field name="paymentId" type="id-ne"></field>
      <field name="documentType" type="id-ne"></field>
      <field name="documentParentType" type="id-ne"></field>
      <field name="description" type="description"></field>
      <field name="organizationPartyId" type="id-ne"></field>
      <field name="organizationPartyName" type="name"></field>
      <field name="partyId" type="id-ne"></field>
      <field name="partyCode" type="id-ne"></field>
      <field name="partyName" type="name"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="accountCode" type="name"></field>
      <field name="accountName" type="name"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
      <field name="currencyId" type="id-ne"></field>
      <field name="transactionDate" type="date"></field>
	  <field name="voucherCode" type="description"/>
      <field name="facilityId" type="id"></field>
      <field name="facilityName" type="name"></field>
	        
      <prim-key field="acctgTransId"/>
      <prim-key field="partyId"/>
      <prim-key field="glAccountId"/>
    </entity>
    
    <entity entity-name="AcctgInvoiceVoucherFact" package-name="org.ofbiz.bi.fact.acc"
            title="Acctg Invoice Voucher Fact">
      <field name="voucherForm" type="long-varchar"></field>
      <field name="voucherSerial" type="long-varchar"></field>
   	  <field name="voucherNumber" type="long-varchar"></field>
   	  <field name="issuedDate" type="date"></field>
   	  <field name="voucherCreatedDate" type="date"></field>
   	  <field name="documentType" type="id-ne"></field>
      <field name="documentParentType" type="id-ne"></field>
      <field name="descriptionDimId" type="numeric"/>
      <field name="description" type="description"></field>
      <field name="organizationPartyId" type="id-ne"></field>
      <field name="organizationPartyName" type="name"></field>
      <field name="partyId" type="id-ne"></field>
      <field name="partyCode" type="id-ne"></field>
      <field name="partyName" type="name"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="accountCode" type="name"></field>
      <field name="accountName" type="name"></field>
      <field name="facilityId" type="id"></field>
      <field name="facilityName" type="name"></field>
      <field name="currencyId" type="id-ne"></field>
      <field name="amount" type="currency-amount"></field>
   	  <field name="taxAmount" type="currency-amount"></field>
   	  <field name="totalAmountVoucher" type="currency-amount"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
	        
      <prim-key field="voucherForm"/>
      <prim-key field="voucherSerial"/>
      <prim-key field="voucherNumber"/>
      <prim-key field="partyId"/>
      <prim-key field="glAccountId"/>
      <prim-key field="issuedDate"/>
      <prim-key field="voucherCreatedDate"/>
      <prim-key field="descriptionDimId"/>
    </entity>
    
    <entity entity-name="ListWorkShiftFact" package-name="org.ofbiz.bi.fact.acc"
            title="List Work Shift Fact">
        <field name="voucherNumber" type="id-ne"></field>
        <field name="glAccountId" type="id-ne"></field>
      	<field name="issuedDate" type="date-time"></field>
		<field name="amountTotal" type="currency-amount"></field>
		<field name="returnTotal" type="currency-amount"></field>
		<field name="drAmount" type="currency-amount"></field>
      	<field name="crAmount" type="currency-amount"></field>
		<field name="currency" type="id-ne"></field>
		<field name="partyId" type="id-ne"></field>
		<field name="partyCode" type="id-ne"></field>
		<field name="partyName" type="id-long"></field>
		<field name="organizationPartyId" type="id-ne"></field>
		<field name="organizationPartyName" type="name"></field>
		<field name="facilityId" type="id"></field>
		<field name="facilityName" type="id-long"></field>
		
		<prim-key field="voucherNumber"/>    
		<prim-key field="glAccountId"/>    
		<prim-key field="partyId"/>    
    </entity> 
    
    <entity entity-name="AcctgDocumentSumNoOrderFact" package-name="org.ofbiz.bi.fact.acc"
            title="Acctg Document Sum No Order Fact">
      <field name="acctgTransId" type="id-ne"></field>
      <field name="acctgTransTypeId" type="id-ne"></field>
      <field name="invoiceId" type="id-ne"></field>
      <field name="paymentId" type="id-ne"></field>
      <field name="documentType" type="id-ne"></field>
      <field name="documentParentType" type="id-ne"></field>
      <field name="description" type="description"></field>
      <field name="organizationPartyId" type="id-ne"></field>
      <field name="organizationPartyName" type="name"></field>
      <field name="partyId" type="id-ne"></field>
      <field name="partyCode" type="id-ne"></field>
      <field name="partyName" type="name"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="accountCode" type="name"></field>
      <field name="accountName" type="name"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
      <field name="currencyId" type="id-ne"></field>
      <field name="transactionDate" type="date"></field>
	  <field name="voucherCode" type="description"/>
      <field name="facilityId" type="id"></field>
      <field name="facilityName" type="name"></field>
	        
      <prim-key field="acctgTransId"/>
      <prim-key field="partyId"/>
      <prim-key field="glAccountId"/>
    </entity>
    
    <entity entity-name="AcctgWorkShiftFact" package-name="org.ofbiz.bi.fact.acc"
            title="Acctg Work Shift Fact">
   	  <field name="voucherForm" type="long-varchar"></field>
      <field name="voucherSerial" type="long-varchar"></field>
   	  <field name="voucherNumber" type="long-varchar"></field>
   	  <field name="issuedDate" type="date"></field>
   	  <field name="voucherCreatedDate" type="date"></field>
   	  <field name="documentType" type="id-ne"></field>
      <field name="documentParentType" type="id-ne"></field>
      <field name="descriptionDimId" type="numeric"/>
      <field name="description" type="description"></field>
      <field name="organizationPartyId" type="id-ne"></field>
      <field name="organizationPartyName" type="name"></field>
      <field name="partyId" type="id-ne"></field>
      <field name="partyCode" type="id-ne"></field>
      <field name="partyName" type="name"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="accountCode" type="name"></field>
      <field name="accountName" type="name"></field>
      <field name="facilityId" type="id"></field>
      <field name="facilityName" type="name"></field>
      <field name="currencyId" type="id-ne"></field>
      <field name="amount" type="currency-amount"></field>
   	  <field name="taxAmount" type="currency-amount"></field>
   	  <field name="totalAmountVoucher" type="currency-amount"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
	        
      <prim-key field="voucherForm"/>
      <prim-key field="voucherSerial"/>
      <prim-key field="voucherNumber"/>
      <prim-key field="partyId"/>
      <prim-key field="glAccountId"/>
      <prim-key field="issuedDate"/>
      <prim-key field="voucherCreatedDate"/>
      <prim-key field="descriptionDimId"/>
    </entity>
    
    <entity entity-name="InventoryProductCostFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="Inventory Product Cost Entity Fact">
      <field name="dateValue" type="date"/>
      <field name="facilityId" type="id"></field>
      <field name="productId" type="id-ne"></field>
      <field name="productCode" type="id-ne"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
      
      <prim-key field="dateValue"/>
      <prim-key field="facilityId"/>      
      <prim-key field="productId"/>      
    </entity>
    
    <entity entity-name="StockEventFact"
            package-name="org.ofbiz.bi.fact.acc"
            title="Stock Event Entity Fact">
      <field name="acctgTransId" type="id-ne"></field>
      <field name="acctgTransEntrySeqId" type="id-ne"></field>
      <field name="glAccountId" type="id-ne"></field>
      <field name="glAccountRecipId" type="id-ne"></field>
      <field name="drAmount" type="currency-amount"></field>
      <field name="crAmount" type="currency-amount"></field>
      <field name="productId" type="id-ne"></field>
      <field name="productCode" type="id-ne"></field>
      <field name="reciprocalSeqId" type="id-ne"/>
      <field name="transactionDate" type="date"></field>
      <field name="facilityId" type="id"></field>
	        
      <prim-key field="acctgTransId"/>
      <prim-key field="productId"/>         
      <prim-key field="glAccountId"/>         
      <prim-key field="glAccountRecipId"/>         
    </entity>         
</entitymodel>