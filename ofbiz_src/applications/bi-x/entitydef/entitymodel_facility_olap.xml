<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">        
	
	<entity entity-name="FacilityProductUpdateTime" package-name="org.ofbiz.bi.fact.product" title="Facility Fact">

        <field name="facilityDimId" type="numeric"/>
        <field name="productDimId" type="numeric"/>
        <field name="lastUpdated" type="date-time"/>
        
        <prim-key field="facilityDimId"/>
        <prim-key field="productDimId"/>
        
    </entity>
	
	<entity entity-name="FacilityFact" package-name="org.ofbiz.bi.fact.product" title="Facility Fact">

        <field name="facilityDimId" type="numeric"></field>
        
        <field name="productDimId" type="numeric"></field>
        <field name="dateDimId" type="numeric"></field>
        <field name="manufacturedDateDimId" type="numeric"/> 
        <field name="expireDateDimId" type="numeric"/>
        <field name="uomDimId" type="numeric"/>
        <field name="availableToPromiseTotal" type="fixed-point"></field>
        <field name="inventoryTotal" type="fixed-point"></field>
        <field name="inventoryTotalAoh" type="fixed-point"></field>
        <field name="receiveTotal" type="fixed-point"></field>
        <field name="exportTotal" type="fixed-point"></field>
        
        <prim-key field="facilityDimId"/>
        <prim-key field="productDimId"/>
        <prim-key field="manufacturedDateDimId"/>
        <prim-key field="expireDateDimId"/>
        <prim-key field="uomDimId"/>
        <prim-key field="dateDimId"/>
        
    </entity>
    
    <entity entity-name="ShipmentFact" package-name="org.ofbiz.bi.fact.product" title="Shipment Fact">

        <field name="shipmentId" type="numeric"></field>
        <field name="shipmentTypeDimId" type="numeric"></field>
        <field name="partyFromDimId" type="numeric"></field>
        <field name="partyToDimId" type="numeric"/> 
        <field name="primaryOrderId" type="id-ne"/>
        <field name="primaryReturnId" type="id-ne"/>
        <field name="primaryTransferId" type="id-ne"></field>
        <field name="primaryRequirementId" type="id-ne"/> 
        <field name="statusDimId" type="numeric"/>
        <field name="originFacilityDimId" type="numeric"/>
        <field name="destFacilityDimId" type="numeric"/>
        
        <prim-key field="shipmentId"/>
        
    </entity>
    
    <entity entity-name="InventoryItemFact" package-name="org.ofbiz.bi.fact.product" title="Inventory Item Fact">
 		<field name="inventoryItemId" type="id-ne"/>
 		<field name="reasonEnumDimId" type="numeric"/>
        <field name="inventoryItemDetailSeqId" type="id-ne"/>
        <field name="facilityDimId" type="numeric"/>
        <field name="productDimId" type="numeric"/>
        <field name="physicalInventoryId" type="id-ne"/>
        <field name="inventoryDateDimId" type="numeric"/>
        <field name="inventoryType" type="id-ne"/>
        <field name="inventoryChangeType" type="id-ne"/>
        <field name="expireDateDimId" type="numeric"/>
        <field name="ownerPartyDimId" type="numeric"/>
        <field name="supplierPartyDimId" type="numeric"/>
        <field name="manufacturedDateDimId" type="numeric"/> 
        <field name="amountOnHandTotal" type="fixed-point"/>
        <field name="quantityOnHandTotal" type="fixed-point"/>
        <field name="availableToPromiseTotal" type="fixed-point"/>
        <field name="unitCost" type="fixed-point"/>
        <field name="purCost" type="fixed-point"/>
        <field name="totalPrice" type="fixed-point-extend"/>
        <field name="uomDimId" type="numeric"/>
        <field name="quantityUomDimId" type="numeric"/>
        <field name="categoryDimId" type="numeric"/>
        <field name="rootCategoryDimId" type="numeric"/>
        <field name="lotDimId" type="numeric"/>
        <field name="enumerationDimId" type="numeric"/>
        <field name="returnReasonDimId" type="numeric"/>
        
        <field name="shipmentId" type="id-ne"/>
        <field name="partyFromDimId" type="id-ne"/>
        <field name="partyToDimId" type="id-ne"/>
        
        <prim-key field="inventoryItemId"/>
        <prim-key field="inventoryItemDetailSeqId"/>
    </entity>
    
<!--     <entity entity-name="DeliveryItemFact" package-name="org.ofbiz.bi.fact.product" title="Delivery Item Fact"> -->
<!--         <field name="deliveryId" type="id-ne"/> -->
<!--         <field name="deliveryItemSeqId" type="id-ne"/> -->
<!--         <field name="actualStartDateDimId" type="numeric"/> -->
<!--         <field name="actualArrivalDateDimId" type="numeric"/> -->
<!--         <field name="facilityDimId" type="numeric"/> -->
<!--         <field name="productDimId" type="numeric"/> -->
<!--         <field name="originGeoDimId" type="numeric"/> -->
<!--         <field name="destGeoDimId" type="numeric"/> -->
        
<!--         attribute -->
<!--         <field name="deliveryTypeId" type="id-ne"/> -->
<!--         <field name="actualExportedQuantity" type="numeric"/> -->
<!--         <field name="actualDeliveredQuantity" type="numeric"/> -->
        
<!--         set primary key -->
<!--         <prim-key field="deliveryId"/> -->
<!--         <prim-key field="deliveryItemSeqId"/> -->
<!--     </entity> -->
    <entity entity-name="DeliveryItemFact" package-name="org.ofbiz.bi.fact.product" title="Delivery Item Fact">
        <field name="deliveryId" type="id-ne"/>
        <field name="deliveryItemSeqId" type="id-ne"/>
        
        <field name="deliveryTypeId" type="id-ne"/>
        
        <field name="partyFromDimId" type="numeric"/>
    	<field name="partyToDimId" type="numeric"/>
    	
    	<field name="originFacilityDimId" type="numeric"/>
        <field name="destFacilityDimId" type="numeric"/>
    	
		<field name="originGeoDimId" type="numeric"/>
		<field name="destGeoDimId" type="numeric"/>
    	
        <field name="productDimId" type="numeric"/>
        
        <field name="actualStartDateDimId" type="numeric"/>
        <field name="actualArrivalDateDimId" type="numeric"/>
        
        <field name="fromOrderId" type="id-ne"/>
        <field name="fromOrderItemSeqId" type="id-ne"/>
        <field name="fromTransferId" type="id-ne"/>
        <field name="fromTransferItemSeqId" type="id-ne"/>
        <field name="fromRequirementId" type="id-ne"/>
        <field name="fromReqItemSeqId" type="id-ne"/>
        <field name="statusId" type="id-ne"/>
        <field name="inventoryItemId" type="id-ne"/>
        
        <field name="actualExportedQuantity" type="numeric"></field>
        <field name="actualDeliveredQuantity" type="numeric"></field>
        
        <!-- set primary key -->
        <prim-key field="deliveryId"/>
        <prim-key field="deliveryItemSeqId"/>
    </entity>
    
    <entity entity-name="TransferItemFact" package-name="org.ofbiz.bi.fact.product" title="Transfer Item Fact">
        <field name="transferId" type="id-ne"/>
        <field name="transferItemSeqId" type="id-ne"/>
        <field name="transferTypeId" type="id-ne"/>
        <field name="originFacilityDimId" type="numeric"/>
        <field name="destFacilityDimId" type="numeric"/>
        <field name="statusId" type="id-ne"/>
        <field name="createdByUserLogin" type="id-ne"/>
        <field name="partyDimId" type="numeric"/>
        <field name="createDateDimId" type="numeric"/>
        <field name="productDimId" type="numeric"/>
        <field name="quantityUomDimId" type="numeric"/>
        <field name="quantity" type="fixed-point"/>
        <field name="cancelQuantity" type="fixed-point"/>
        <field name="statusTransferDimId" type="numeric"/>
        <field name="deliveryId" type="id-ne"/>
        <field name="actualExportedQuantity" type="fixed-point"/>
        <field name="actualDeliveredQuantity" type="fixed-point"/>
        <field name="deliveryStatusId" type="id-ne"/>
        <field name="transferDate" type="date-time"/> 
        <field name="datetimeManufactured" type="date-time"/> 
        <field name="expireDate" type="date-time"/>
        <field name="lotId" type="id-ne"/>
        <!-- set primary key -->
        <prim-key field="transferId"/>
        <prim-key field="transferItemSeqId"/>
    </entity>
    
    <entity entity-name="ProductInventoryCustomerFact" package-name="org.ofbiz.bi.fact.product" title="Product Inventory Customer Fact">
        <field name="partyDimId" type="numeric"/>
        <field name="productDimId" type="numeric"/>
        <field name="orderId" type="id"/>
        <field name="inventoryDateDimId" type="numeric"/>
        <field name="quantity" type="fixed-point"/>
        <field name="createdBy" type="id-ne"/>
        <!-- set primary key -->
        <prim-key field="productDimId"/>
        <prim-key field="inventoryDateDimId"/>
        <prim-key field="partyDimId"/>
    </entity>
    
    <entity entity-name="PhysicalInventoryFact" package-name="org.ofbiz.bi.fact.facility" title="Physical Inventory Fact">
    	<field name="physicalInventoryId" type="id-ne"/>
        <field name="partyDimId" type="numeric"/>
        <field name="generalComments" type="description"/>
        <field name="physicalInventoryDateDimId" type="numeric"/>
        <prim-key field="physicalInventoryId"/>
    </entity>
    
    <entity entity-name="InventoryItemVarianceFact" package-name="org.ofbiz.bi.fact.facility" title="Inventory Item Variance Fact">
    	<field name="physicalInventoryId" type="id-ne"/>
    	<field name="inventoryItemId" type="id-ne"/>
        <field name="varianceReasonDimId" type="numeric"/>
        <prim-key field="physicalInventoryId"/>
        <prim-key field="inventoryItemId"/>
    </entity>
    
    <entity entity-name="ProductFacilityFact" package-name="org.ofbiz.bi.fact.product" title="Product Facility Fact">

        <field name="facilityDimId" type="numeric"></field>
        <field name="productDimId" type="numeric"></field>
        <field name="dateDimId" type="numeric"></field>
        <field name="uomDimId" type="numeric"/>
        <field name="quantity" type="fixed-point"></field>
        <field name="averageCost" type="fixed-point"></field>
        <prim-key field="facilityDimId"/>
        <prim-key field="productDimId"/>
        <prim-key field="dateDimId"/>
        
    </entity>
    
   	<entity entity-name="OrderStatusFact" package-name="org.ofbiz.bi.fact.order" title="Order Status Fact">
        <field name="orderStatusId" type="id-ne"/>
        <field name="orderId" type="id-ne"/>
        <field name="statusDimId" type="numeric"/>
        <field name="statusDateDimId" type="numeric"/>
        <field name="orderTypeId" type="id-ne"/>
        <field name="partyFromDimId" type="numeric"/>
        <field name="partyToDimId" type="numeric"/>
        <field name="partyUpdateDimId" type="numeric"/>
        <field name="executedTime" type="numeric"/> <!-- time count from the previous status to current status - minute -->
        <prim-key field="orderStatusId"/>
    </entity>
</entitymodel>