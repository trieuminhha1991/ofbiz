<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">
    <screen name="ListCriteriaDetail">
        <section>
            <actions>
                <set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="CommonCriteria"/>
                <set field="titleProperty" value="KeyPerformanceIndicatorList"/>
            </actions>
            <widgets>
                <decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
                    <decorator-section name="body">
                        <section>
                        	<!--<condition>
								<if-olbius-has-permission/>
							</condition>-->
							<actions>
								<entity-condition list="KPIStatusList" entity-name="StatusItem">
									<condition-expr field-name="statusTypeId" value="KPI_STATUS"/>
									<order-by field-name="sequenceId"/>
								</entity-condition>
								<entity-condition list="uomList" entity-name="Uom">
									<condition-expr field-name="uomTypeId" value="KPI_MEASURE"/>
								</entity-condition>
								<entity-condition list="periodTypeList" entity-name="PeriodType">
									<condition-list>
										<condition-expr field-name="groupPeriodTypeId" value="BASIC_PERIOD"/>
										<condition-expr field-name="periodTypeId" operator="not-equals" value="NA"/>
										<condition-expr field-name="periodTypeId" operator="not-equals" value="HOURLY"/>
									</condition-list>
								</entity-condition>
								<entity-condition list="perfCriteriaTypeList" entity-name="PerfCriteriaType"></entity-condition>
								<entity-condition list="perfCriDevelopmentTypeList" entity-name="PerfCriDevelopmentType">
									<order-by field-name="sequenceId"/>
								</entity-condition>
								<entity-condition list="enumKpIList" entity-name="Enumeration">
									<condition-list>
										<condition-expr field-name="enumTypeId" value="KPI_POLICY"/>
									</condition-list>
								</entity-condition>
							</actions>
                            <widgets>
                                <platform-specific>
                                    <html>
                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ListCriteriaDetail.ftl"/>
                                    </html>
                                </platform-specific>
                            </widgets>
                            <fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
     <screen name="ListEmpPosCriteriaType">
        <section>
            <actions>
                <set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="EmpPosCriteriaType"/>
               <set field="titleProperty" value="KPILIstForPositionType"/>
            </actions>
            <widgets>
                <decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
                    <decorator-section name="body">
                        <section>
                        	<!--<condition>
								<if-olbius-has-permission/>
							</condition>-->
							<actions>
								<entity-condition list="KPIStatusList" entity-name="StatusItem">
									<condition-expr field-name="statusTypeId" value="KPI_STATUS"/>
									<order-by field-name="sequenceId"/>
								</entity-condition>
								<entity-condition list="uomList" entity-name="Uom">
									<condition-expr field-name="uomTypeId" value="KPI_MEASURE"/>
								</entity-condition>
								<entity-condition list="periodTypeList" entity-name="PeriodType">
									<condition-list>
										<condition-expr field-name="groupPeriodTypeId" value="BASIC_PERIOD"/>
										<condition-expr field-name="periodTypeId" operator="not-equals" value="NA"/>
									</condition-list>
								</entity-condition>
								<entity-condition list="perfCriteriaTypeList" entity-name="PerfCriteriaType"></entity-condition>
								<entity-condition list="emplPositionTypeList" entity-name="EmplPositionType">
									<condition-expr field-name="emplPositionTypeId" operator="not-equals" value="_NA_"/>
								</entity-condition>
							</actions>
                            <widgets>
                                <platform-specific>
                                    <html>
                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ListEmpPosCriteriaType.ftl"/>
                                    </html>
                                </platform-specific>
                            </widgets>
                            <fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="ViewListKPIAssignEmpl">
    	<section>
    		<actions>
                <set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="AssignKPIForEmpl"/>
               <set field="titleProperty" value="EmplKPIStatus"/>
            </actions>
            <widgets>
            	<decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
            		<decorator-section name="body">
            			<section>
            				<!--<condition>
								<if-olbius-has-permission/>
							</condition>-->
							<actions>
								<entity-condition list="periodTypeList" entity-name="PeriodType">
									<condition-list>
										<condition-expr field-name="groupPeriodTypeId" value="BASIC_PERIOD"/>
										<condition-expr field-name="periodTypeId" operator="not-equals" value="NA"/>
									</condition-list>
								</entity-condition>
								<entity-condition list="KPIStatusList" entity-name="StatusItem">
									<condition-expr field-name="statusTypeId" value="KPI_STATUS"/>
									<order-by field-name="sequenceId"/>
								</entity-condition>
								<entity-condition list="uomList" entity-name="Uom">
									<condition-expr field-name="uomTypeId" value="KPI_MEASURE"/>
								</entity-condition>
								<entity-condition list="perfCriteriaTypeList" entity-name="PerfCriteriaType"></entity-condition>
								<entity-condition list="emplPositionTypeList" entity-name="EmplPositionType">
									<condition-expr field-name="emplPositionTypeId" operator="not-equals" value="_NA_"/>
								</entity-condition>
								<set field="defaultPeriodTypeId" value="DAILY"/>
								<script location="component://basehr/webapp/basehr/WEB-INF/actions/getPartyGroupTree.groovy"/>
							</actions>
							<widgets>
								<platform-specific>
                                    <html>
                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewManagerListEmplKPI.ftl"/>
                                    </html>
                                </platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
            			</section>
            		</decorator-section>
            	</decorator-screen>
            </widgets>
    	</section>
    </screen>
	<screen name="ViewResultDataKPIEmpl">
		<section>
			<actions>
				<set field="selectedMenuItem" value="KPIPerfreview"/>
				<set field="selectedSubMenuItem" value="PushResultDataToKPI"/>
				<set field="titleProperty" value="HRPushResultDataToKPITitle"/>
			</actions>
			<widgets>
				<decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
					<decorator-section name="body">
						<section>
							<!--<condition>
                                <if-has-permission permission="HR_KPIPERF" action="_UPDATE"/>
                            </condition>-->
							<actions>
								<entity-condition list="KPIStatusList" entity-name="StatusItem">
									<condition-expr field-name="statusTypeId" value="KPI_APPR_STT"/>
									<order-by field-name="sequenceId"/>
								</entity-condition>
								<entity-condition list="perfCriteriaTypeList" entity-name="PerfCriteriaType"></entity-condition>
								<entity-condition list="uomList" entity-name="Uom">
									<condition-expr field-name="uomTypeId" value="KPI_MEASURE"/>
								</entity-condition>
								<script location="component://basehr/webapp/basehr/WEB-INF/actions/getPartyGroupTree.groovy"/>
							</actions>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewResultDataKPIEmpl.ftl"/>
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
    <screen name="ViewApproveKPIEmpl">
        <section>
            <actions>
                <set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="ApproveKPIEmpl"/>
                <set field="titleProperty" value="ApproveKPIEmpl"/>
            </actions>
            <widgets>
                <decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
                    <decorator-section name="body">
                        <section>
                            <!--<condition>
                                <if-has-permission permission="HR_KPIPERF" action="_UPDATE"/>
                            </condition>-->
                            <actions>
                                <entity-condition list="KPIStatusList" entity-name="StatusItem">
									<condition-expr field-name="statusTypeId" value="KPI_APPR_STT"/>
									<order-by field-name="sequenceId"/>
								</entity-condition>
                                <entity-condition list="perfCriteriaTypeList" entity-name="PerfCriteriaType"></entity-condition>
                                <entity-condition list="uomList" entity-name="Uom">
									<condition-expr field-name="uomTypeId" value="KPI_MEASURE"/>
								</entity-condition>
                                <script location="component://basehr/webapp/basehr/WEB-INF/actions/getPartyGroupTree.groovy"/>
                            </actions>
                            <widgets>
                                <platform-specific>
                                    <html>
                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewApproveKPIEmpl.ftl"/>
                                    </html>
                                </platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <!--<screen name="ViewKPIRewardPunishmentPolicy">
    	<section>
    		<actions>
                <set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="KPIRewardAndPunishmentPolicy"/>
                <set field="titleProperty" value="KPIRewardAndPunishmentPolicy"/>
            </actions>
            <widgets>
            	<decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
            		<decorator-section name="body">
            			<section>
            				<condition>
                                <if-olbius-has-permission/>
                            </condition>
                            <actions>
                            	<entity-condition list="perfCriteriaRateGradeList" entity-name="PerfCriteriaRateGrade">
                            		<order-by field-name="-fromRating"/>
                            	</entity-condition>
                            </actions>
                            <widgets>
                            	<platform-specific>
                                    <html>
                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewKPIRewardPunishmentPolicy.ftl"/>
                                    </html>
                                </platform-specific>
                            </widgets>
                            <fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
            			</section>
            		</decorator-section>
            	</decorator-screen>
            </widgets>
    	</section>
    </screen>-->
	<screen name="ViewKPIRewardPunishmentPolicy">
		<section>
			<actions>
				<set field="selectedMenuItem" value="KPIPerfreview"/>
				<set field="selectedSubMenuItem" value="KPIRewardAndPunishmentPolicy"/>
				<set field="titleProperty" value="KPIRewardAndPunishmentPolicy"/>
			</actions>
			<widgets>
				<decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
					<decorator-section name="body">
						<section>
							<!--<condition>
								<if-olbius-has-permission/>
							</condition>
							<actions>
								<entity-condition list="perfCriteriaRateGradeList" entity-name="PerfCriteriaRateGrade">
									<order-by field-name="-fromRating"/>
								</entity-condition>
							</actions>-->
							<actions>
								<entity-condition list="enumKpIList" entity-name="Enumeration">
									<condition-list>
										<condition-expr field-name="enumTypeId" value="KPI_POLICY"/>
									</condition-list>
								</entity-condition>
							</actions>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewKPIRewardPunishmentPolicySimple.ftl"/>
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
    <screen name="ViewKPIAssessment">
    	<section>
    		<actions>
                <set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="KPIAssessment"/>
                <set field="titleProperty" value="KPIAssessmentList"/>
            </actions>
            <widgets>
            	<decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
            		<decorator-section name="body">
            			<section>
            				<!--<condition>
                                <if-olbius-has-permission/>
                            </condition>-->
                            <actions>
                            	<entity-condition list="periodTypeList" entity-name="PeriodType">
                            		<condition-expr field-name="groupPeriodTypeId" value="KPI_ASSESSMENT_PERIOD"/>
                            		<order-by field-name="description"/>
                            	</entity-condition>
                            	<entity-condition list="uomList" entity-name="Uom">
									<condition-expr field-name="uomTypeId" value="KPI_MEASURE"/>
								</entity-condition>
                            	<entity-condition list="kpiAssessmentPeriodUomList" entity-name="Uom">
									<condition-list combine="or">
										<condition-expr field-name="uomId" value="TF_mon"/>
										<condition-expr field-name="uomId" value="TF_yr"/>
									</condition-list>
								</entity-condition>
								<entity-condition list="kpiPeriodTypeList" entity-name="PeriodType">
									<condition-list>
										<condition-expr field-name="groupPeriodTypeId" value="BASIC_PERIOD"/>
										<condition-expr field-name="periodTypeId" operator="not-equals" value="NA"/>
										<condition-expr field-name="periodTypeId" operator="not-equals" value="HOURLY"/>
									</condition-list>
								</entity-condition>
								<entity-condition list="perfCriteriaRateGradeList" entity-name="PerfCriteriaRateGrade"></entity-condition>
								<entity-condition list="customTimePeriodList" entity-name="CustomTimePeriod">
									<condition-expr field-name="periodTypeId" value="YEARLY"/>
									<order-by field-name="-fromDate"/>
								</entity-condition>
								<entity-condition list="statusList" entity-name="StatusItem">
									<condition-expr field-name="statusTypeId" value="KPI_APPR_STT"/>
								</entity-condition>
                            	<script location="component://basehr/webapp/basehr/WEB-INF/actions/getPartyGroupTree.groovy"/>
                            	<script location="component://basehr/webapp/basehr/WEB-INF/actions/getCustomTimePeriod.groovy"/>
                            </actions>
                            <widgets>
                            	<platform-specific>
                                    <html>
                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewKPIAssessment.ftl"/>
                                    </html>
                                </platform-specific>
                            </widgets>
                            <fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
            			</section>
            		</decorator-section>
            	</decorator-screen>
            </widgets>
    	</section>
    </screen>
    <screen name="ViewSalesPolicyDistributor">
    	<section>
    		<actions>
				<set field="selectedMenuItem" value="distributor" />
				<set field="selectedSubMenuItem" value="ViewSalesPolicyDistributor" />
				<set field="titleProperty" value="ViewSalesPolicyDistributor"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
                    			<if-has-permission permission="PARTYDIST" action="_VIEW"/>
                    		</condition>
                    		<actions>
                    			<entity-condition list="enumOperatorList" entity-name="Enumeration">
									<condition-expr field-name="enumTypeId" value="BONUS_POLICY_COND"/>
									<order-by field-name="sequenceId"/>
								</entity-condition>
								<entity-condition list="enumOperatorGreaterList" entity-name="Enumeration">
									<condition-list combine="or">
										<condition-expr field-name="enumId" value="BPC_GT"/>
										<condition-expr field-name="enumId" value="BPC_GTE"/>
									</condition-list>
									<order-by field-name="sequenceId"/>
								</entity-condition>
								<entity-condition list="enumOperatorLessThanList" entity-name="Enumeration">
									<condition-list combine="or">
										<condition-expr field-name="enumId" value="BPC_LT"/>
										<condition-expr field-name="enumId" value="BPC_LTE"/>
									</condition-list>
									<order-by field-name="sequenceId"/>
								</entity-condition>
								<entity-condition list="ruleEnumList" entity-name="Enumeration">
									<condition-expr field-name="enumTypeId" value="DIST_BONUS_POL_RULE"/>
									<order-by field-name="sequenceId"/>
								</entity-condition>
                    		</actions>
                    		<widgets>
                    			<platform-specific>
                                    <html>
                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewSalesPolicyDistributor.ftl"/>
                                    </html>
                                </platform-specific>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>	
    	</section>
    </screen>
    <screen name="ViewSummarizingBonusDistributor">
    	<section>
    		<actions>
				<set field="selectedMenuItem" value="distributor" />
				<set field="selectedSubMenuItem" value="ViewSummarizingBonusDistributor" />
				<set field="titleProperty" value="ViewSummarizingBonusDistributor"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
                    			<if-has-permission permission="PARTYDIST" action="_VIEW"/>
                    		</condition>
                    		<actions>
                    			<!-- <entity-condition list="statusList" entity-name="StatusItem">
									<condition-expr field-name="statusTypeId" value="KPI_APPR_STT"/>
								</entity-condition> -->
								<entity-condition list="salesYearCustList" entity-name="CustomTimePeriod">
									<condition-expr field-name="periodTypeId" value="SALES_YEAR"/>
									<order-by field-name="-fromDate"/>
								</entity-condition>
                    		</actions>
                    		<widgets>
                    			<platform-specific>
                                    <html>
                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewSummarizingBonusDistributor.ftl"/>
                                    </html>
                                </platform-specific>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>	
    	</section>
    </screen>
    <screen name="ViewDistributorBonusSummaryParty">
    	<section>
    		<actions>
				<set field="selectedMenuItem" value="distributor" />
				<set field="selectedSubMenuItem" value="ViewSummarizingBonusDistributor" />
				<set field="titleProperty" value="ViewSummarizingBonusDistributor" global="true"/>
				<entity-one value-field="salesBonusSummary" entity-name="SalesBonusSummary"></entity-one>
				<set field="salesBonusSummaryId" from-field="parameters.salesBonusSummaryId" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<condition>
                    			<if-has-permission permission="PARTYDIST" action="_VIEW"/>
                    		</condition>
                    		<widgets>
                    			<section>
                    				<condition>
                    					<not>
											<if-empty field="salesBonusSummary"/>
										</not>
                    				</condition>
                    				<actions>
                    					<entity-one value-field="cutomTimePeriod" entity-name="CustomTimePeriod">
                    						<field-map field-name="customTimePeriodId" from-field="salesBonusSummary.customTimePeriodId"/>
                    					</entity-one>
                    					<set field="fromDate" from-field="cutomTimePeriod.fromDate" type="Date"/>
										<set field="thruDate" from-field="cutomTimePeriod.thruDate" type="Date"/>
										<set field="month" global="true" value="${groovy: java.util.Calendar cal = java.util.Calendar.getInstance(); cal.setTime(fromDate); return cal.get(java.util.Calendar.MONTH) + 1}"/>
										<set field="year" global="true" value="${groovy: java.util.Calendar cal = java.util.Calendar.getInstance(); cal.setTime(fromDate); return String.valueOf(cal.get(java.util.Calendar.YEAR))}"/>
                    					<set field="titleProperty" value="DistributorBonusSummaryPartyTitle" global="true"/>
                    				</actions>
                    				<widgets>
                    					<platform-specific>
		                                    <html>
		                                        <html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewDistributorBonusSummaryParty.ftl"/>
		                                    </html>
		                                </platform-specific>
                    				</widgets>
                    				<fail-widgets>
                    					<container style="alert alert-info">
											<label text="${uiLabelMap.CannotFindSalesSummaryHaveId}"></label>
										</container>
                    				</fail-widgets>
                    			</section>
                    		</widgets>
                    		<fail-widgets>
                    			<container style="alert alert-info">
                    				<label text="${uiLabelMap.BSYouHavenotViewPermission}"/>
                    			</container>
                    		</fail-widgets>
						</section>
					</decorator-section>	
				</decorator-screen>
			</widgets>	
    	</section>
    </screen>
    <!-- ========================= new screen ============================================-->
    <screen name="ViewListKeyPerfIndicator">
    	<section>
    		<actions>
				<set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="ListKeyPerfIndicator"/>
                <set field="titleProperty" value="ListKeyPerfIndicatorTitle"/>
			</actions>
			<widgets>
				<decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
            		<decorator-section name="body">
            			<section>
            				<condition>
								<if-olbius-has-permission/>
							</condition>	
							<actions>
								<entity-condition list="emplPositionTypeList" entity-name="EmplPositionTypeAndClass">
									<order-by field-name="description"/>
									<order-by field-name="classTypeDesc"/>
								</entity-condition>
							</actions>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewListKeyPerfIndicator.ftl"/>
									</html>						
								</platform-specific>
							</widgets>			
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
          	  			</section>
            		</decorator-section>
            	</decorator-screen>		
			</widgets>
    	</section>
    </screen>
    <screen name="ViewListKeyPerfIndPartyTarget">
    	<section>
    		<actions>
    			<set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="KeyPerfIndPartyTarget"/>
                <set field="titleProperty" value="ListKeyPerfIndPartyTargetTitle"/>
    		</actions>
    		<widgets>
				<decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
            		<decorator-section name="body">
            			<section>
            				<condition>
								<if-olbius-has-permission />
							</condition>
							<actions>
								<entity-condition list="periodTypeList" entity-name="PeriodType">
									<condition-expr field-name="groupPeriodTypeId" value="KPI_ASSESSMENT_PERIOD"/>
								</entity-condition>
								<entity-condition list="uomList" entity-name="Uom">
									<condition-expr field-name="uomTypeId" value="KPI_MEASURE"/>
								</entity-condition>
							</actions>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewListKeyPerfIndPartyTarget.ftl"/>
									</html>						
								</platform-specific>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
            			</section>
            		</decorator-section>
            	</decorator-screen>
            </widgets>		
    	</section>
    </screen>
    <screen name="ViewKeyPerfIndPartyTargetDetailHeaderTitle">
        <section>
            <condition>
                <not>
                    <if-empty field="parameters.partyTargetId" />
                </not>
            </condition>
            <widgets>
                <label style="ibefore-icon-angle-right" text=" ${uiLabelMap.KeyPerfIndTargetId}: "></label>
                <link url-mode="plain" target="ViewKeyPerfIndPartyTargetDetail?partyTargetId=${parameters.partyTargetId}" text="${parameters.partyTargetId}"></link>
            </widgets>
        </section>
    </screen>
    <screen name="ViewKeyPerfIndPartyTargetDetail">
    	<section>
    		<actions>
    			<set field="selectedMenuItem" value="KPIPerfreview"/>
                <set field="selectedSubMenuItem" value="KeyPerfIndPartyTarget"/>
                <set field="titleProperty" value="ListKeyPerfIndPartyTargetTitle"/>
                <entity-one value-field="keyPerfIndPartyTarget" entity-name="KeyPerfIndPartyTarget"></entity-one>
                <set field="partyTargetId" from-field="parameters.partyTargetId"/>
                <set field="titleHeaderValue" value="ViewKeyPerfIndPartyTargetDetailHeaderTitle" global="true" />
                <set field="titleHeaderLocation" value="component://basehr/widget/KeyPerfIndicatorScreen.xml" global="true" />
    		</actions>
    		<widgets>
    			<decorator-screen name="KPIPerfReviewDecorator" location="component://basehr/widget/CommonScreens.xml">
            		<decorator-section name="body">
            			<section>
            				<condition>
								<if-has-permission permission="HR_MGR_KPI" action="_VIEW"/>
							</condition>
							<widgets>
								<section>
									<condition>
										<not>
											<if-empty field="keyPerfIndPartyTarget"/>
										</not>
									</condition>
									<actions>
										<entity-one value-field="party" entity-name="PartyGroup" auto-field-map="false">
											<field-map field-name="partyId" from-field="keyPerfIndPartyTarget.partyId"/>
										</entity-one>
										<set field="groupName" from-field="party.groupName" global="true"/>
										<set field="fromDate" value="${groovy: com.olbius.basehr.util.DateUtil.getDateMonthYearDesc(keyPerfIndPartyTarget.fromDate)}" global="true"/>
										<set field="thruDate" value="${groovy: com.olbius.basehr.util.DateUtil.getDateMonthYearDesc(keyPerfIndPartyTarget.thruDate)}" global="true"/>
										<set field="titleProperty" value="ListKeyPerfIndPartyTargetDetailTitle"/>
										<entity-condition list="periodTypeList" entity-name="PeriodType">
											<condition-expr field-name="groupPeriodTypeId" value="KPI_ASSESSMENT_PERIOD"/>
										</entity-condition>
										<entity-condition list="uomList" entity-name="Uom">
											<condition-expr field-name="uomTypeId" value="KPI_MEASURE"/>
										</entity-condition>
										<entity-condition list="keyPerfIndPartyTargetItemList" entity-name="KeyPerfIndPartyTargetItemAndKPI">
											<condition-expr field-name="partyTargetId" from-field="partyTargetId"/>
										</entity-condition>
									</actions>
									<widgets>
										<platform-specific>
											<html>
												<html-template location="component://basehr/webapp/basehr/keyPerfIndicator/ViewKeyPerfIndPartyTargetDetail.ftl"/>
											</html>						
										</platform-specific>
									</widgets>
								</section>
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
            			</section>
            		</decorator-section>
            	</decorator-screen>		
    		</widgets>
    	</section>
    </screen>
</screens>