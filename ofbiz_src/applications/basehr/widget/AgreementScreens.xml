<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">
	<screen name="ViewListEmplAgreement">
		<section>
			<actions>
				<set field="selectedMenuItem" value="directory" />
				<set field="selectedSubMenuItem" value="ListEmplAgreement"/>
				<set field="titleProperty" value="HRCommonEmplAgreement"/>
			</actions>
			<widgets>
				<decorator-screen name="AgreementCommonDecorator"
					location="component://basehr/widget/CommonScreens.xml">
					<decorator-section name="body">
						<section>
							<condition>
								<if-has-permission permission="HR_DIRECTORY" action="_VIEW"/>
							</condition>
							<actions>
								<entity-condition list="agreementTypeList" entity-name="AgreementType">
									<condition-expr field-name="parentTypeId" value="EMPLOYMENT_AGREEMENT"/>
								</entity-condition>
								<entity-condition list="agreementDurationList" entity-name="PeriodType">
									<condition-expr field-name="groupPeriodTypeId" value="AGREEMENT_PERIOD"/>
                            		<order-by field-name="description"/>
								</entity-condition>
								<entity-condition list="agreementStatusList" entity-name="StatusItem">
									<condition-expr field-name="statusTypeId" value="EMPL_AGR_STATUS"/>
								</entity-condition>
								<entity-condition list="payrollParamList" entity-name="PayrollParameters">
									<condition-expr field-name="paramCharacteristicId" value="PHU_CAP"/>
								</entity-condition>
								<entity-condition list="agreementPeriodUomList" entity-name="Uom">
									<condition-list combine="or">
										<condition-expr field-name="uomId" value="TF_mon"/>
										<condition-expr field-name="uomId" value="TF_yr"/>
									</condition-list>
								</entity-condition>
								<entity-condition list="emplPositionTypeList" entity-name="EmplPositionType">
									<condition-expr field-name="emplPositionTypeId" operator="not-equals" value="_NA_"/>
								</entity-condition>
								<script location="component://basehr/webapp/basehr/WEB-INF/actions/getPartyGroupTree.groovy"/>
							</actions>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://basehr/webapp/basehr/agreement/ViewListEmplAgreement.ftl"/>
									</html>
								</platform-specific>								
							</widgets>
							<fail-widgets>
								<container style="alert alert-info">
									<label text="${uiLabelMap.ScreenNoPermission}"></label>
								</container>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>	
			</widgets>
		</section>
	</screen>        
</screens>        