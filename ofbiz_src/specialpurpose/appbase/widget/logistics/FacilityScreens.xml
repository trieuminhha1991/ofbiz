<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">
	<screen name="FacilityCommonDecorator">
		<section>
			<widgets>
				<decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
                    	<decorator-section-include name="body"/>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ListFacility">
		<section>
			<actions>
				<set field="selectedMenuItem" value="Facility"/>
                <set field="selectedSubMenuItem" value="ListFacility"/>
			</actions>
			<widgets>
				<decorator-screen name="FacilityCommonDecorator">
					<decorator-section name="body">
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template location="component://baselogistics/webapp/baselogistics/facility/listFacility.ftl"/>
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="FacilityTitle">
		<section>
			<condition>
				<not><if-empty field="parameters.facilityId"/></not>
			</condition>
			<widgets>
				<label style="ibefore-icon-angle-right" text=" ${uiLabelMap.Facility}: "></label>
				<link url-mode="plain" target="detailFacility?facilityId=${parameters.facilityId}" text="${facility.facilityName}"></link>
			</widgets>
		</section>
	</screen>
	
	<screen name="DetailFacility">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="Facility"/>
                <set field="selectedSubMenuItem" value="ListFacility"/>
                <set field="selectedMenuItem" value="Facility"/>
                <set field="tabBarName" value="FacilityTabBar" global="true" />
			    <set field="tabBarLocation" value="component://appbase/widget/AppBaseMenus.xml" global="true"/>
		     	<set field="tabButtonItem" value="Facility" global="true"/>
			    <set field="printTabBar" value="true" />
			    <set field="facilityId" from-field="parameters.facilityId"/>
			    <entity-one value-field="facility" entity-name="Facility"/>
			    <set field="titleHeaderValue" value="FacilityTitle" global="true"/>
				<set field="titleHeaderLocation" value="component://appbase/widget/logistics/FacilityScreens.xml" global="true"/>
			    <set field="titleProperty" value="GeneralInfo"/>
			    <set field="selectedSubMenuItem" from-field="parameters.sub" default-value="ListFacility"/>
			</actions>
			<widgets>
             	<include-screen name="DetailFacilityPublic" location="component://baselogistics/widget/FacilityScreens.xml"/>
			</widgets>
       </section>
    </screen>
	
	<screen name="ListLocations">
    	<section>
    		<actions>
                <set field="selectedMenuItem" value="Facility"/>
                <set field="selectedSubMenuItem" from-field="parameters.sub" default-value="ListFacility"/>
                <set field="selectedMenuItem" value="Facility"/>
                <set field="tabBarName" value="FacilityTabBar" global="true" />
			    <set field="tabBarLocation" value="component://appbase/widget/AppBaseMenus.xml" global="true"/>
		     	<set field="tabButtonItem" value="Location" global="true"/>
			    <set field="printTabBar" value="true" />
			    <set field="facilityId" from-field="parameters.facilityId"/>
			    <entity-one value-field="facility" entity-name="Facility"/>
			    <set field="titleHeaderValue" value="FacilityTitle" global="true"/>
				<set field="titleHeaderLocation" value="component://appbase/widget/logistics/FacilityScreens.xml" global="true"/>
			    <set field="titleProperty" value="GeneralInfo"/>
			</actions>
			<widgets>
				<decorator-screen name="FacilityCommonDecorator">
					<decorator-section name="body">
						<screenlet title="${uiLabelMap.ManagerLocation}" navigation-menu-name="LocationSubTabBar" id="abc">
							<include-menu location="component://appbase/widget/AppBaseMenus.xml" name="LocationSubTabBar"/>
		           			<include-screen name="ListLocationsPublic" location="component://baselogistics/widget/FacilityScreens.xml"/>
		             	</screenlet>
	             	</decorator-section>
             	</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="ListDeliverers">
    	<section>
    		<actions>
    			<set field="selectedMenuItem" value="DeliveryEntry"/>
            	<set field="selectedSubMenuItem" value="Deliverers" />
            	<set field="deliveryEntryId" from-field="parameters.deliveryEntryId"/>
           	  	<set field="parameters.roleTypeId" value="LOG_DELIVERER"/>	
    		</actions>
			<widgets>
				<decorator-screen name="FacilityCommonDecorator">
                    <decorator-section name="body">
             			<include-screen name="ListDeliverersPublic" location="component://baselogistics/widget/FacilityScreens.xml"/>
           			</decorator-section>
      			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="ListVehicles">
    	<section>
    		<actions>
    			<set field="selectedMenuItem" value="DeliveryEntry"/>
            	<set field="selectedSubMenuItem" value="Vehicles" />
    		</actions>
			<widgets>
				<decorator-screen name="FacilityCommonDecorator">
                    <decorator-section name="body">
             			<include-screen name="ListVehiclesPublic" location="component://baselogistics/widget/FacilityScreens.xml"/>
           			</decorator-section>
      			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
</screens>