<ion-view view-title="{{header}}">
	<ion-nav-buttons side="left">
        <button class="button back-button buttons button-clear" ng-click="$ionicGoBack()" ng-if="back">
            <i class='icon ion-ios-arrow-back'>&nbsp;</i>
        </button>
        <!-- <button class="button buttons button-clear" ng-click="changeState('tab.setting')">
            <i class='icon ion-ios-home'>&nbsp;</i>
        </button> -->
    </ion-nav-buttons>
	<ion-nav-buttons side="right">
		<button class="button" ng-click="sendRegistration()">
			<i class='icon ion-checkmark'>&nbsp;</i>
		</button>
	</ion-nav-buttons>
	<ion-content class='padding-top-10'>
		<camera options="self.camera.options" path="self.customer.url" self="self.camera"></camera>
		<form novalidate form-validation form-validation-parent="self" name="customerform">
			<ion-list>
				<ion-item class='item-divider'>
					{{getLabel('GeneralInformation')}}
				</ion-item>
				<ion-item class='item-input-right'>
					<span class='asterisk'>{{getLabel('OfficeSiteName')}}</span>
					<input type="text" placeholder="{{getLabel('OfficeSiteNamePlaceholder')}}" name="office" ng-model="customer.officeSiteName" required />
				</ion-item>
				<ion-item class='item-input-right'>
					{{getLabel('OwnerName')}}
					<input type="text" placeholder="{{getLabel('OwnerNamePlaceholder')}}" name="name" ng-model="customer.customerName" />
				</ion-item>
				<ion-item class='item-input-right'>
					{{getLabel('PhoneNumber')}}
					<input type="tel" placeholder="{{getLabel('PhoneNumberPlaceholder')}}" ng-model="customer.phone" name="phone" required rule="phone" />
				</ion-item>
				<ion-item class='item-input item-select'>
					<div class='input-label'>
						{{getLabel('Sex')}}
					</div>
					<select ng-model="customer.gender">
						<option value="M">{{getLabel('Male')}}</option>
						<option value="F">{{getLabel('Female')}}</option>
					</select>
				</ion-item>
				<ion-item>
					{{getLabel('BirthDay')}}
					<calendar  class='item-info' option="self.birthDay.options" date="customer.birthDay" self="self.birthDay.ele" parent="self" class='item-info'></calendar>
				</ion-item>
				<ion-item>
					{{getLabel('StartDate')}}
					<calendar  class='item-info' option="self.startDate.options" date="customer.startDate" self="self.startDate.ele" parent="self" class='item-info'></calendar>
				</ion-item>
				<ion-item class='item-divider'>
					{{getLabel('Address')}}
				</ion-item>
				<ion-item class='item-input item-select'>
					<div class='input-label'>
						{{getLabel('Route')}}
					</div>
					<select ng-options="route.routeId as route.groupName for route in routes" ng-model="customer.routeId" required></select>
				</ion-item>
				<ion-item class='item-icon-right item-wrap-text'>
					<p class='wrap-text'>
						{{address.fullAddress}}
					</p>
					<input type="hidden" name="address" ng-model="address.fullAddress" display="address" required/>
					<i class='icon ion-ios-location' ng-click="changeState('tab.location', {isCreated : true})" id="address"></i>
					</label>
				</ion-item>
				<ion-item class='item-icon-right item-divider'>
					{{getLabel('Contact')}}
					<i class='icon ion-ios-plus-empty' ng-click="addContactPerson()"></i>
				</ion-item>
				<ion-item class='item-input'>
	                 <textarea placeholder="{{getLabel('OtherInfomartion')}}" rows='5' class='normal-textarea' ng-model="customer.note"></textarea>
	            </ion-item>
				<ion-item class='item-contact-person' ng-repeat="contact in customer.contactPerson track by $index"
					on-swipe-left="removeContactPerson($index)"
					on-swipe-right="removeContactPerson($index)">
					<input type="text" placeholder="{{getLabel('Fullname')}}" name="office" ng-model="contact.name"/>
					<input type="text" placeholder="{{getLabel('PhoneNumber')}}" name="office" ng-model="contact.phone"/>
				</ion-item>
			</ion-list>
		</form>
	</ion-content>
</ion-view>