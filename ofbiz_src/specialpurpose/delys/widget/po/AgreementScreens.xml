<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">
	<screen name="CommonAgreementDecorator">
        <section>
            <actions>
                <set field="headerItem" value="agreements"/>
                <property-map resource="ProductUiLabels" map-name="uiLabelMap" global="true"/>
                <property-map resource="WorkEffortUiLabels" map-name="uiLabelMap" global="true"/>
            </actions>
            <widgets>
            	<section>
<!--                     <condition> -->
<!--                         <and> -->
<!--                             <if-service-permission service-name="acctgAgreementPermissionCheck" main-action="VIEW"/> -->
<!--                             <not><if-empty field="agreement"/></not> -->
<!--                         </and> -->
<!--                     </condition> -->
                    <actions>
						<set field="tabBarName" value="AgreementTabBar" global="true" />
						<set field="tabBarLocation" value="component://delys/widget/po/POMenus.xml" global="true" />
						<set field="titleHeaderContent" value="[${agreement.agreementId}]" global="true" />
				  </actions>
                    <widgets>
                    	<section>
		                      <actions>
									<set field="printTabBar" value="true" />
								</actions>
		                      <widgets>
		                          
		                      </widgets>
		                </section>
                    </widgets>
                </section>
                <decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="pre-body">
                        <section>
<!--                             <condition> -->
<!--                                 <and> -->
<!--                                     <if-service-permission service-name="acctgAgreementPermissionCheck" main-action="VIEW"/> -->
<!--                                     <not><if-empty field="agreement"/></not> -->
<!--                                 </and> -->
<!--                             </condition> -->
                            <widgets>
<!--                                 <include-menu name="AgreementTabBar" location="component://accounting/widget/AccountingMenus.xml"/> -->
                            </widgets>
                        </section>
                    </decorator-section>
                    <decorator-section name="body">
                        <section>
<!--                             <condition> -->
<!--                                 <if-service-permission service-name="acctgAgreementPermissionCheck" main-action="VIEW"/> -->
<!--                             </condition> -->
                            <widgets>
                                <section>
                                    <condition>
                                        <not><if-empty field="agreement"/></not>
                                    </condition>
                                    <widgets>
<!--                                         <section> -->
<!--                                             <condition> -->
<!--                                                 <not><if-empty field="agreementItem"/></not> -->
<!--                                             </condition> -->
<!--                                             <widgets> -->
<!--                                                 <include-menu name="AgreementItemTabBar" location="component://accounting/widget/AccountingMenus.xml"/> -->
<!--                                             </widgets> -->
<!--                                         </section> -->
                                        <container	style="smaller lighter blue">
<!--                                         <label style="h3" text="${agreement.description} [${agreement.agreementId}] "></label> -->
                                        </container>
                                    </widgets>
                                </section>
                                <decorator-section-include name="body"/>
                            </widgets>
<!--                             <fail-widgets> -->
<!--                             	<container style="smaller blue lighter"> -->
<!--                                 <label style="h3" text="${uiLabelMap.AccountingViewPermissionError}"></label> -->
<!--                                 </container> -->
<!--                             </fail-widgets> -->
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
	<screen name="ListAgreementPO">
		<section>
			<actions>
				<script location="component://delys/webapp/delys/WEB-INF/actions/procurement/nav_procurement.groovy"/>
				<script location="component://delys/webapp/delys/WEB-INF/actions/procurement/shoppingProposal.groovy"/>
				<set field="selectedMenuItem" from-field="selectedMenuItem"/>
				<set field="selectedSubMenuItem" from-field="selectedSubMenuItem"/>
				<set field="layoutSettings.javaScripts[+0]" value="/delys/images/js/ckeditor/ckeditor.js"
					global="true" />				
                <set field="titleProperty" value="ListAggreement"/>
			</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/procurement/listAgreementPO.ftl"/>
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ListAgreementTerms">
        <section>
            <actions>
                <set field="titleProperty" value="PageTitleEditAgreementTerm"/>
                <set field="buttonBarItem" value="EditAgreementTerms"/>
                <set field="agreementId" from-field="parameters.agreementId"/>
                <entity-one entity-name="Agreement" value-field="agreement"/>
                <set field="tabButtonItem" value="ListAgreementTermsPO" global="true"/>
                <set field="printTabBar" value="true" />
            </actions>
            <widgets>
               <decorator-screen name="CommonAgreementDecorator" location="component://delys/widget/PO/AgreementScreens.xml">
					<decorator-section name="body">
						<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/accounting/agreement/listAgreementTerms.ftl"/>
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="ListAgreementItems">
        <section>
            <actions>
                <set field="titleProperty" value="PageTitleEditAgreementTerm"/>
                <set field="buttonBarItem" value="EditAgreementTerms"/>
                <set field="agreementId" from-field="parameters.agreementId"/>
                <entity-one entity-name="Agreement" value-field="agreement"/>
				<set field="tabButtonItem" value="ListAgreementItemsPO" global="true"/>
				<set field="printTabBar" value="true" />
            </actions>
            <widgets>
               <decorator-screen name="CommonAgreementDecorator" location="component://delys/widget/PO/AgreementScreens.xml">
					<decorator-section name="body">
						<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/accounting/agreement/listAgreementItems.ftl"/>
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="ListAgreementRoles">
        <section>
            <actions>
                <set field="titleProperty" value="PageTitleEditAgreementTerm"/>
                <set field="buttonBarItem" value="EditAgreementTerms"/>
                <set field="agreementId" from-field="parameters.agreementId"/>
                <entity-one entity-name="Agreement" value-field="agreement"/>
				<set field="tabButtonItem" value="ListAgreementRolesPO" global="true"/>
				<set field="printTabBar" value="true" />
            </actions>
            <widgets>
               <decorator-screen name="CommonAgreementDecorator" location="component://delys/widget/PO/AgreementScreens.xml">
					<decorator-section name="body">
						<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/accounting/agreement/listAgreementRoles.ftl"/>
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="ListAgreementWorkEffortApplics">
        <section>
            <actions>
                <set field="titleProperty" value="PageTitleEditAgreementWorkEffortApplics"/>
                <set field="agreementId" from-field="parameters.agreementId"/>
                <entity-one entity-name="Agreement" value-field="agreement" auto-field-map="true"/>
                <set field="tabButtonItem" value="ListAgreementWorkEffortApplics"/>
                <set field="printTabBar" value="true" />
            </actions>
            <widgets>
                <decorator-screen name="CommonAgreementDecorator" location="component://delys/widget/PO/AgreementScreens.xml">
                    <decorator-section name="body">
                    	<platform-specific>
                    		<html>
                    			<html-template location="component://delys/webapp/delys/accounting/agreement/listAgreementWorkEffortApplics.ftl"></html-template>
                    		</html>
                    	</platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
</screens>