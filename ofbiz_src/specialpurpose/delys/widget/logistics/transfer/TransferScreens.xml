<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">
	<screen name="ListTransfers">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="transfer"/>
			</actions>
			<widgets>
				<section>
					<condition>
						<if-compare operator="equals" value="TRANS_FACILITY" field="parameters.parentTypeId"/>
					</condition>
					<actions>	
						<set field="selectedSubMenuItem" value="ListTransfer"/>
						<set field="tabBarName" value="TransferMainTabBar" global="true" />
			    		<set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    		<set field="titleProperty" value="TransferList"/>
		                <set field="tabButtonItem" value="ListTransfer"/>
					    <set field="printTabBar" value="true"/>
					</actions>
					<widgets>
						<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
		                    <decorator-section name="body">
		                    	<platform-specific>
									<html>
										<html-template location="component://delys/webapp/delys/logistics/transfer/ListTransfer.ftl"/>
									</html>
								</platform-specific>
		    				</decorator-section>
		    			</decorator-screen>
					</widgets>
					<fail-widgets>
						<section>
							<condition>
								<if-compare operator="equals" value="TRANS_SALES_CHANNEL" field="parameters.transferTypeId"/>
							</condition>
							<actions>
								<set field="selectedSubMenuItem" value="ChannelTransfer"/>
								<set field="tabBarName" value="ChannelTransferMainTabBar" global="true" />
				    			<set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
				    			<set field="titleProperty" value="TransferList"/>
				                <set field="tabButtonItem" value="ListTransfer"/>
							    <set field="printTabBar" value="true"/>
							</actions>
							<widgets>
								<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
				                    <decorator-section name="body">
				                    	<platform-specific>
											<html>
												<html-template location="component://delys/webapp/delys/logistics/transfer/ListTransfer.ftl"/>
											</html>
										</platform-specific>
			    					</decorator-section>
		    					</decorator-screen>
							</widgets>
						</section>
					</fail-widgets>
				</section>
			</widgets>
       </section>
    </screen>
    <screen name="DetailTransfer">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="transfer"/>
                <set field="tabButtonItem" value="ListTransfer"/>
                <set field="transferId" from-field="parameters.transferId"/>
                <entity-one value-field="transfer" entity-name="TransferHeader"></entity-one>
                <entity-condition list="listItems" entity-name="TransferItem">
                	<condition-expr field-name="transferId" from-field="transferId"/>
                </entity-condition>
			</actions>
			<widgets>
				<section>
					<condition>
						<if-compare operator="equals" value="TRANS_INTERNAL" field="transfer.transferTypeId"/>
					</condition>
					<actions>
						<set field="selectedSubMenuItem" value="ListTransfer"/>
						<set field="tabBarName" value="TransferMainTabBar" global="true" />
					    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
					    <set field="printTabBar" value="true"/>
					    <set field="subTabItemSelected" value="TransferInfo"/>
					</actions>
					<widgets>
						<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
		                    <decorator-section name="body">
		                    	<include-menu location="component://delys/widget/DelysMenus.xml" name="TransferSubTabBar"/>
		                    	<platform-specific>
									<html>
										<html-template location="component://delys/webapp/delys/logistics/transfer/DetailTransfer.ftl"/>
									</html>
								</platform-specific>
		    				</decorator-section>
		    			</decorator-screen>					
					</widgets>
					<fail-widgets>
						<section>
							<condition>
								<if-compare operator="equals" value="TRANS_SALES_CHANNEL" field="transfer.transferTypeId"/>
							</condition>
							<actions>
								<set field="selectedSubMenuItem" value="ChannelTransfer"/>
								<set field="tabBarName" value="ChannelTransferMainTabBar" global="true" />
							    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
							    <set field="printTabBar" value="true"/>
							    <set field="subTabItemSelected" value="TransferInfo"/>
							</actions>
							<widgets>
								<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
				                    <decorator-section name="body">
				                    	<include-menu location="component://delys/widget/DelysMenus.xml" name="TransferSubTabBar"/>
				                    	<platform-specific>
											<html>
												<html-template location="component://delys/webapp/delys/logistics/transfer/DetailTransfer.ftl"/>
											</html>
										</platform-specific>
				    				</decorator-section>
				    			</decorator-screen>
							</widgets>
						</section>
					</fail-widgets>
				</section>
			</widgets>
       </section>
    </screen>
    <screen name="DetailSalesChannelTransfer">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="transfer"/>
                <set field="selectedSubMenuItem" value="ChannelTransfer"/>
                <set field="tabButtonItem" value="ListTransfer"/>
                <set field="transferId" from-field="parameters.transferId"/>
                <entity-one value-field="transfer" entity-name="TransferHeader"></entity-one>
                <entity-condition list="listItems" entity-name="TransferItem">
                	<condition-expr field-name="transferId" from-field="transferId"/>
                </entity-condition>
                <set field="tabBarName" value="TransferMainTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			    <set field="subTabItemSelected" value="TransferInfo"/>
			</actions>
			<widgets>
				<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu location="component://delys/widget/DelysMenus.xml" name="TransferSubTabBar"/>
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/transfer/DetailTransfer.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    <screen name="DeliveryByTransfer">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="transfer"/>
                <set field="tabButtonItem" value="ListTransfer"/>
                <set field="transferId" from-field="parameters.transferId"/>
                <entity-one value-field="transfer" entity-name="TransferHeader"></entity-one>
                <set field="titleProperty" value="TransferNote"/>
                <set field="subTabItemSelected" value="TransferNote"/>
			    <set field="printTabBar" value="true"/>
			</actions>
			<widgets>
				<section>
					<condition>
						<if-compare operator="equals" value="TRANS_INTERNAL" field="transfer.transferTypeId"/>
					</condition>
					<actions>
						 <set field="selectedSubMenuItem" value="ListTransfer"/>
						 <set field="tabBarName" value="TransferMainTabBar" global="true" />
	    				 <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
					</actions>
					<widgets>
						<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
		                    <decorator-section name="body">
		                    	<include-menu location="component://delys/widget/DelysMenus.xml" name="TransferSubTabBar"/>
		                    	<platform-specific>
									<html>
										<html-template location="component://delys/webapp/delys/logistics/transfer/ListTransferDelivery.ftl"/>
									</html>
								</platform-specific>
		    				</decorator-section>
		    			</decorator-screen>
					</widgets>
					<fail-widgets>
						<section>
							<condition>
								<if-compare operator="equals" value="TRANS_SALES_CHANNEL" field="transfer.transferTypeId"/>
							</condition>
							<actions>
								<set field="selectedSubMenuItem" value="ChannelTransfer"/>
								<set field="tabBarName" value="ChannelTransferMainTabBar" global="true" />
			   					<set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
							</actions>
							<widgets>
								<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
				                    <decorator-section name="body">
				                    	<include-menu location="component://delys/widget/DelysMenus.xml" name="TransferSubTabBar"/>
				                    	<platform-specific>
											<html>
												<html-template location="component://delys/webapp/delys/logistics/transfer/ListTransferDelivery.ftl"/>
											</html>
										</platform-specific>
				    				</decorator-section>
				    			</decorator-screen>
							</widgets>
						</section>
					</fail-widgets>
				</section>
			</widgets>
       </section>
    </screen>
    
    <screen name="ChannelTransfers">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="transfer"/>
                <set field="selectedSubMenuItem" value="ChannelTransfer"/>
                <set field="titleProperty" value="ChannelTransferList"/>
                <set field="tabButtonItem" value="ChannelTransfer"/>
            	<set field="tabBarName" value="ChannelTransferMainTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			</actions>
			<widgets>
				<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/transfer/ListTransfer.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="ChannelTransferRequirement">
    	<section>
            <actions>
                <set field="titleProperty" value="ChannelTransferRequirements"/>
                <set field="tabButtonItem" value="TransferRequirement"/>
            	<set field="tabBarName" value="ChannelTransferMainTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			</actions>
			<widgets>
				<decorator-screen name="TransferCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/listTransferRequirement.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    <screen name="TransferRequirement">
    	<section>
    		<condition>
    			<if-compare operator="equals" value="TRANS_FACILITY" field="parameters.parentTypeId"/>
    		</condition>
    		<actions>
    			<set field="tabBarName" value="TransferMainTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="selectedMenuItem" value="transfer"/>
				<set field="selectedSubMenuItem" value="ListTransfer"/>
    		</actions>
    		<widgets>
    			<include-screen name="ListTransferRequirements"/>
    		</widgets>
    		<fail-widgets>
    			<section>
    				<condition>
    					<if-compare operator="equals" value="TRANS_SALES_CHANNEL" field="parameters.transferTypeId"/>
    				</condition>
    				<actions>
    					<set field="tabBarName" value="ChannelTransferMainTabBar" global="true" />
			   			<set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			   			<set field="selectedMenuItem" value="transfer"/>
						<set field="selectedSubMenuItem" value="ChannelTransfer"/>
    				</actions>
    				<widgets>
    					<include-screen name="ChannelTransferRequirement"/>
    				</widgets>
    			</section>
    		</fail-widgets>
    	</section>
    </screen>
    <screen name="ListTransferRequirements">
    	<section>
            <actions>
            	<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="reqTypeId" value="TRANSFER_REQ"/>
                <set field="titleProperty" value="${uiLabelMap.TransferRequirement}"/>
                <set field="requirementTypeId" value="TRANSFER_REQ"/>
			 	<set field="tabButtonItem" value="TransferRequirement"/>
			    <set field="printTabBar" value="true"/>
			</actions>
			<widgets>
				<section>
					<condition>
						<if-empty field="parameters.statusId"/>
					</condition>
					<actions>
						<set field="selectedMenuItem" value="Requirements"/>
						<set field="selectedSubMenuItem" value="TransferRequirement"/>
					</actions>
					<widgets>
						<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
		                    <decorator-section name="body">
								<platform-specific>
									<html>
										<html-template location="component://delys/webapp/delys/logistics/listTransferRequirement.ftl"/>
									</html>
								</platform-specific>
		    				</decorator-section>
	    				</decorator-screen>
					</widgets>
					<fail-widgets>
						<section>
							<condition>
								<if-compare operator="equals" value="REQ_APPROVED" field="parameters.statusId"/>	
								</condition>
								<actions>
									<set field="subTabItemSelected" value="ApprovedRequirement"/>
								</actions>
								<widgets>	
									<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
					                    <decorator-section name="body">
					                    <include-menu location="component://delys/widget/DelysMenus.xml" name="TransferRequirementSubTabBar"/>
											<platform-specific>
												<html>
													<html-template location="component://delys/webapp/delys/logistics/listTransferRequirement.ftl"/>
												</html>
											</platform-specific>
					    				</decorator-section>
				    				</decorator-screen>
								</widgets>
								<fail-widgets>
									<section>
										<condition>
											<if-compare operator="equals" value="REQ_PROPOSED" field="parameters.statusId"/>
										</condition>
										<actions>
											<set field="subTabItemSelected" value="ProposedRequirement"/>
										</actions>
										<widgets>
											<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
							                    <decorator-section name="body">
							                    <include-menu location="component://delys/widget/DelysMenus.xml" name="TransferRequirementSubTabBar"/>
													<platform-specific>
														<html>
															<html-template location="component://delys/webapp/delys/logistics/listTransferRequirement.ftl"/>
														</html>
													</platform-specific>
							    				</decorator-section>
						    				</decorator-screen>
										</widgets>
										<fail-widgets>
											<section>
												<condition>
													<if-compare operator="equals" value="REQ_CREATED" field="parameters.statusId"/>
												</condition>
												<actions>
														<set field="subTabItemSelected" value="CreatedRequirement"/>
												</actions>
												<widgets>
													<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
									                    <decorator-section name="body">
									                    <include-menu location="component://delys/widget/DelysMenus.xml" name="TransferRequirementSubTabBar"/>
															<platform-specific>
																<html>
																	<html-template location="component://delys/webapp/delys/logistics/listTransferRequirement.ftl"/>
																</html>
															</platform-specific>
									    				</decorator-section>
								    				</decorator-screen>
												</widgets>
												<fail-widgets>
													<section>
														<condition>
															<if-compare operator="equals" value="REQ_REJECTED" field="parameters.statusId"/>
														</condition>
														<actions>
																<set field="subTabItemSelected" value="RejectedRequirement"/>
														</actions>
														<widgets>
															<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
											                    <decorator-section name="body">
											                    <include-menu location="component://delys/widget/DelysMenus.xml" name="TransferRequirementSubTabBar"/>
																	<platform-specific>
																		<html>
																			<html-template location="component://delys/webapp/delys/logistics/listTransferRequirement.ftl"/>
																		</html>
																	</platform-specific>
											    				</decorator-section>
										    				</decorator-screen>
														</widgets>
													</section>
												</fail-widgets>
											</section>
										</fail-widgets>
									</section>
								</fail-widgets>
							</section>
					</fail-widgets>
				</section>
			</widgets>
       </section>
    </screen>
</screens>