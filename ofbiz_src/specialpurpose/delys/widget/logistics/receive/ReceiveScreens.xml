<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

    <screen name="PurchaseDomesticsOrders">
    	<section>
            <actions>
            	<set field="titleProperty" value="ListPurchaseDomesticOrders"/>
            	<set field="selectedMenuItem" value="receiveProduct"/>
            	<set field="selectedSubMenuItem" value="PurchaseDomestics"/>
            	<set field="tabButtonItem" value="ListPurchaseOrder"/>
            	<set field="tabBarName" value="DomesticProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                       	<platform-specific>
							<html><html-template location="component://delys/webapp/delys/logistics/receipt/listPurchaseOrders.ftl"/></html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="PurchaseImportOrders">
    	<section>
            <actions>
            	<set field="titleProperty" value="ListPurchaseImportOrders"/>
            	<set field="selectedMenuItem" value="receiveProduct"/>
            	<set field="selectedSubMenuItem" value="ImportProduct"/>
            	<set field="tabButtonItem" value="ListPurchaseOrder"/>
            	<set field="tabBarName" value="ImportProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<platform-specific>
							<html><html-template location="component://delys/webapp/delys/logistics/receipt/listPurchaseOrders.ftl"/></html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
       </section>
    </screen>
    
  	<screen name="ExchangeRequirements">
    	<section>
            <actions>
            	<set field="titleProperty" value="ListExchangeRequirements"/>
            	<set field="selectedMenuItem" value="receiveProduct"/>
            	<set field="selectedSubMenuItem" value="Exchange"/>
			</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<platform-specific>
							<html><html-template location="component://delys/webapp/delys/logistics/receipt/listExchangeRequirements.ftl"/></html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
       </section>
    </screen>
	
	<screen name="ImportReceiptRequirements">
    	<section>
			<actions>
		   		<set field="titleProperty" value="ListReceiveRequirement"/>
		   		<set field="selectedMenuItem" value="receiveProduct"/>
              	<set field="selectedSubMenuItem" value="ImportProduct"/>
              	<set field="tabButtonItem" value="ListReceiveRequirement"/>
	          	<set field="tabBarName" value="ImportProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			    <set field="statusId" from-field="parameters.statusId"/>
  			</actions>
	  		<widgets>
	  			<section>
	  				<condition>
  						<not>
  							<if-empty field="statusId"/>
  						</not>
	  				</condition>
	  				<widgets>
	  					<section>
	  						<condition>
	  							<if-compare operator="equals" value="REQ_CONFIRMED" field="statusId"/>
	  						</condition>
	  						<actions>
	  							 <set field="subTabItemSelected" value="ConfirmedRequirement"/>
	  						</actions>
	  						<widgets>
	  							<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
				                  	<decorator-section name="body">
				                  		<include-menu location="component://delys/widget/DelysMenus.xml" name="LogRequirementSubTabBar"/>
				                      	<platform-specific>
											<html>
												<html-template location="component://delys/webapp/delys/logistics/receipt/listReceiptRequirements.ftl"/>
											</html>
										</platform-specific>
					  				</decorator-section>
					  			</decorator-screen>
	  						</widgets>
	  						<fail-widgets>
	  							<section>
	  								<condition>
	  									<if-compare operator="equals" value="REQ_PROPOSED" field="statusId"/>
	  								</condition>
  									<actions>
			  							 <set field="subTabItemSelected" value="ProposedRequirement"/>
			  						</actions>
			  						<widgets>
			  							<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
						                  	<decorator-section name="body">
						                  		<include-menu location="component://delys/widget/DelysMenus.xml" name="LogRequirementSubTabBar"/>
						                      	<platform-specific>
													<html>
														<html-template location="component://delys/webapp/delys/logistics/receipt/listReceiptRequirements.ftl"/>
													</html>
												</platform-specific>
							  				</decorator-section>
							  			</decorator-screen>
			  						</widgets>
	  							</section>
	  						</fail-widgets>
	  					</section>
	  				</widgets>
	  				<fail-widgets>
	  					<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
	                  	<decorator-section name="body">
	                      	<platform-specific>
								<html>
									<html-template location="component://delys/webapp/delys/logistics/receipt/listReceiptRequirements.ftl"/>
								</html>
							</platform-specific>
		  				</decorator-section>
		  			</decorator-screen>
	  				</fail-widgets>
	  			</section>
	  			
	  		</widgets>
		</section>
    </screen>
    
    <screen name="DomesticReceiptRequirements">
    	<section>
			<actions>
				<set field="titleProperty" value="ListReceiveRequirement"/>
	    		<set field="selectedMenuItem" value="receiveProduct"/>
                <set field="selectedSubMenuItem" value="PurchaseDomestics"/>
                <set field="tabButtonItem" value="ListReceiveRequirement"/>
            	<set field="tabBarName" value="DomesticProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			</actions>
  			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                	<decorator-section name="body">
	                       <platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/receipt/listReceiptRequirements.ftl"/>
							</html>
						</platform-specific>
   				</decorator-section>
   			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="ListReceiptRequirements">
    	<section>
			<actions>
				<set field="titleProperty" value="ListReceiveRequirement"/>
	    		<set field="selectedMenuItem" value="receiveProduct"/>
                <set field="selectedSubMenuItem" value="ReceiptRequirement"/>
			</actions>
  			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                	<decorator-section name="body">
						<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/receipt/listReceiptRequirements.ftl"/>
							</html>
						</platform-specific>                		
   				</decorator-section>
   			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
	<screen name="ReceiptRequirements">
    	<section>
    		<condition>
    			<if-empty field="parameters.listAll"/>
    		</condition>
    		<widgets>
    			<section>
		    		<condition>
		   				<if-empty field="parameters.countryGeoId"/>
		    		</condition>
		    		<widgets>
		    			<include-screen name="ImportReceiptRequirements"/>
		    		</widgets>
		    		<fail-widgets>
		    			<include-screen name="DomesticReceiptRequirements"/>
		    		</fail-widgets>
	    		</section>
    		</widgets>
    		<fail-widgets>
    			<include-screen name="ListReceiptRequirements"/>
    		</fail-widgets>
   		</section>
    </screen>
    
    <screen name="ImportPurchaseOrderView">
    	<section>
			<actions>
		   		<set field="titleProperty" value="ListReceiveRequirement"/>
		   		<set field="selectedMenuItem" value="receiveProduct"/>
              	<set field="selectedSubMenuItem" value="ImportProduct"/>
              	<set field="tabButtonItem" value="ListPurchaseOrder"/>
	          	<set field="tabBarName" value="ImportProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			    <set field="orderId" from-field="parameters.orderId"/>
			    <entity-one value-field="orderHeader" entity-name="OrderHeader"></entity-one>
			    <entity-condition list="listOrderItem" entity-name="OrderItemAndProduct">
			    	<condition-expr field-name="orderId" from-field="orderId"/>
			    </entity-condition>
  			</actions>
	  		<widgets>
	  			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                  	<decorator-section name="body">
                      	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/receipt/purchaseOrderView.ftl"/>
							</html>
						</platform-specific>
	  				</decorator-section>
	  			</decorator-screen>
	  		</widgets>
		</section>
    </screen>
    
    <screen name="DomesticPurchaseOrderView">
    	<section>
			<actions>
				<set field="titleProperty" value="ListReceiveRequirement"/>
	    		<set field="selectedMenuItem" value="receiveProduct"/>
                <set field="selectedSubMenuItem" value="PurchaseDomestics"/>
                <set field="tabButtonItem" value="ListPurchaseOrder"/>
            	<set field="tabBarName" value="DomesticProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
			    <set field="orderId" from-field="parameters.orderId"/>
			    <entity-one value-field="orderHeader" entity-name="OrderHeader"></entity-one>
			    <entity-condition list="listOrderItem" entity-name="OrderItemAndProduct">
			    	<condition-expr field-name="orderId" from-field="orderId"/>
			    </entity-condition>
			</actions>
  			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                	<decorator-section name="body">
                       <platform-specific>
						<html>
							<html-template location="component://delys/webapp/delys/logistics/receipt/purchaseOrderView.ftl"/>
						</html>
					</platform-specific>
   				</decorator-section>
   			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="PurchaseOrderView">
    	<section>
    		<condition>
   				<if-empty field="parameters.countryGeoId"/>
    		</condition>
    		<widgets>
    			<include-screen name="ImportPurchaseOrderView"/>
    		</widgets>
    		<fail-widgets>
    			<include-screen name="DomesticPurchaseOrderView"/>
    		</fail-widgets>
   		</section>
    </screen>    
    
    <screen name="ListImportDeliverys">
    	<section>
	    	<actions>
		   		<set field="selectedMenuItem" value="receiveProduct"/>
              	<set field="selectedSubMenuItem" value="ImportProduct"/>
              	<set field="tabButtonItem" value="ListPurchaseOrder"/>
	          	<set field="tabBarName" value="ImportProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
				<set field="titleProperty" value="ListReceipt"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/delivery/listReceiveDelivery.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
   		</section>
    </screen>
    
    <screen name="ListDomesticDeliverys">
    	<section>
	    	<actions>
	    		<set field="selectedMenuItem" value="receiveProduct"/>
                <set field="selectedSubMenuItem" value="PurchaseDomestics"/>
                <set field="tabButtonItem" value="ListPurchaseOrder"/>
            	<set field="tabBarName" value="DomesticProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
				<set field="titleProperty" value="ListReceipt"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/delivery/listReceiveDelivery.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
   		</section>
    </screen>
    
    <screen name="AllPurchaseDeliverys">
    	<section>
    		<condition>
    			<if-has-permission permission="DELIVERY" action="_VIEW"/>
    		</condition>
	    	<actions>
	    		<set field="titleProperty" value="ListReceipt"/>
	    		<set field="selectedMenuItem" value="accPayable"/>
                <set field="selectedSubMenuItem" value="accApPurchaseDeliveryList"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/delivery/listReceiveDelivery.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
    		<fail-widgets>
    			<section>
    				<condition>
    					<if-has-permission permission="DELIVERY" action="_UPDATE"/>
    				</condition>
    				<actions>
			    		<set field="titleProperty" value="ListReceipt"/>
			    		<set field="selectedMenuItem" value="receiveProduct"/>
		                <set field="selectedSubMenuItem" value="Receipts"/>
		    		</actions>
		    		<widgets>
		    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
		                    <decorator-section name="body">
		                    	<platform-specific>
									<html>
										<html-template location="component://delys/webapp/delys/logistics/delivery/listReceiveDelivery.ftl"/>
									</html>
								</platform-specific>
		    				</decorator-section>
		    			</decorator-screen>
		    		</widgets>
    			</section>
    		</fail-widgets>
   		</section>
    </screen>
    <screen name="PurchaseDeliverys">
    	<section>
    		<condition>
				<if-empty field="parameters.orderId"/>
    		</condition>
    		<widgets>
    			<include-screen name="AllPurchaseDeliverys"/>
    		</widgets>
    		<fail-widgets>
    			<section>
    				<condition>
		   				<if-empty field="parameters.countryGeoId"/>
		    		</condition>
		    		<widgets>
		    			<include-screen name="ListImportDeliverys"/>
		    		</widgets>
		    		<fail-widgets>
		    			<include-screen name="ListDomesticDeliverys"/>
		    		</fail-widgets>
    			</section>
    		</fail-widgets>
   		</section>
    </screen>
    <screen name="DetailReceipt">
    	<section>
	    	<actions>
	    		<set field="selectedMenuItem" value="receiveProduct"/>
                <set field="selectedSubMenuItem" value="ImportProduct"/>
                <set field="receiptId" from-field="parameters.receiptId"/>
<!--                 <entity-one value-field="receipt" entity-name="Receipt"> -->
<!--                 	<field-map field-name="receiptId" from-field="receiptId"></field-map> -->
<!--                 </entity-one> -->
<!--                 <property-map global="true" map-name="uiLabelMap" resource="ProductEntityLabels"></property-map> -->
<!--                 <set field="statusId" from-field="receipt.statusId"></set> -->
<!--                 <entity-condition list="listItemToReceives" entity-name="ReceiptItem"> -->
<!--     				<condition-expr field-name="receiptId" from-field="receiptId"/> -->
<!--     			</entity-condition> -->
<!--     			<entity-condition list="listStatus" entity-name="ReceiptStatus"> -->
<!--     				<condition-expr field-name="receiptId" from-field="receiptId"/> -->
<!--     			</entity-condition> -->
    		</actions>
    		<widgets>
    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/receipt/detailReceipt.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
   		</section>
    </screen>
        
</screens>