<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">
	<screen name="ListDeliveryEntry">
    	<section>
            <actions>
            	<set field="titleProperty" value="ListDeliveryEntry"/>
            	<set field="selectedMenuItem" value="facilityShipment"/>
            	<set field="selectedSubMenuItem" value="DeliveryEntry" />
			</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<platform-specific>
							<html><html-template location="component://delys/webapp/delys/logistics/delivery/listDeliveryEntry.ftl"/></html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
       </section>
    </screen>
	
	<screen name="DeliveryEntryDetail">
    	<section>
            <actions>
            	<set field="titleProperty" value="ListShipmentElement"/>
            	<set field="selectedMenuItem" value="facilityShipment"/>
            	<set field="selectedSubMenuItem" value="DeliveryEntry" />
            	<set field="tabButtonItem" value="DeliveryEntry"/>
            	<set field="deliveryEntryId" from-field="parameters.deliveryEntryId"/>
			</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://delys/widget/DelysMenus.xml" name="DeliveryEntryTabBar"/>
						<platform-specific>
							<html><html-template location="component://delys/webapp/delys/logistics/delivery/listShipmentInDE.ftl"/></html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
       </section>
    </screen>
 	<screen name="VehicleByDeliveryEntry">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="facilityShipment"/>
                <set field="selectedSubMenuItem" value="DeliveryEntry"/>
                <set field="tabButtonItem" value="DeliveryEntryVehicle"/>
                <set field="deliveryEntryId" from-field="parameters.deliveryEntryId"/>
                <entity-one value-field="deliveryEntry" entity-name="DeliveryEntry"></entity-one>
                <set field="titleProperty" value="Vehicles"/>
			</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu location="component://delys/widget/DelysMenus.xml" name="DeliveryEntryTabBar"/>
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/delivery/listDeliveryEntryVehicles.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    <screen name="DeliveryEntryPackage">
    	<section>
            <actions>
                <set field="selectedMenuItem" value="facilityShipment"/>
                <set field="selectedSubMenuItem" value="DeliveryEntry"/>
                <set field="tabButtonItem" value="DeliveryEntryPackage"/>
                <set field="deliveryEntryId" from-field="parameters.deliveryEntryId"/>
                <entity-one value-field="deliveryEntry" entity-name="DeliveryEntry"></entity-one>
                <set field="titleProperty" value="PackingList"/>
			</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu location="component://delys/widget/DelysMenus.xml" name="DeliveryEntryTabBar"/>
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/delivery/listDeliveryEntryPackages.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
			</widgets>
       </section>
    </screen>
    
    <screen name="CreateImportDelivery">
    	<section>
	    	<actions>
		   		<set field="selectedMenuItem" value="receiveProduct"/>
              	<set field="selectedSubMenuItem" value="ImportProduct"/>
              	<set field="tabButtonItem" value="ListPurchaseOrder"/>
	          	<set field="tabBarName" value="ImportProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
				<set field="titleProperty" value="DetailListProduct"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/delivery/detailDelivery.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
   		</section>
    </screen>
    
    <screen name="CreateDomesticDelivery">
    	<section>
	    	<actions>
	    		<set field="selectedMenuItem" value="receiveProduct"/>
                <set field="selectedSubMenuItem" value="PurchaseDomestics"/>
                <set field="tabButtonItem" value="ListPurchaseOrder"/>
            	<set field="tabBarName" value="DomesticProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
				<set field="titleProperty" value="DetailListProduct"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/delivery/detailDelivery.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
   		</section>
    </screen>
    
<!--     <screen name="AllPurchaseDeliverys"> -->
<!--     	<section> -->
<!-- 	    	<actions> -->
<!-- 	    		<set field="titleProperty" value="ListReceipt"/> -->
<!-- 	    		<set field="selectedMenuItem" value="receiveProduct"/> -->
<!--                 <set field="selectedSubMenuItem" value="Receipts"/> -->
<!--     		</actions> -->
<!--     		<widgets> -->
<!--     			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}"> -->
<!--                     <decorator-section name="body"> -->
<!--                     	<platform-specific> -->
<!-- 							<html> -->
<!-- 								<html-template location="component://delys/webapp/delys/logistics/delivery/listReceiveDelivery.ftl"/> -->
<!-- 							</html> -->
<!-- 						</platform-specific> -->
<!--     				</decorator-section> -->
<!--     			</decorator-screen> -->
<!--     		</widgets> -->
<!--    		</section> -->
<!--     </screen> -->
    <screen name="CreateNewDelivery">
    	<section>
    		<condition>
				<if-empty field="parameters.orderId"/>
    		</condition>
    		<widgets>
				<section>
					<condition>
						<not>
							<if-empty field="parameters.returnId"/>
						</not>
					</condition>
					<widgets>
						<include-screen name="CreateReturnDelivery" location="component://delys/widget/logistics/return/ReturnsScreens.xml"/>	
					</widgets>
					<fail-widgets>
						<!-- for other -->
					</fail-widgets>
				</section>
    		</widgets>
    		<fail-widgets>
    			<section>
    				<condition>
		   				<if-empty field="parameters.countryGeoId"/>
		    		</condition>
			    		<actions>
			    			<script location="component://delys/webapp/delys/WEB-INF/actions/logistics/getReceiveType.groovy"/>
			    		</actions>
		    		<widgets>
		    			<include-screen name="CreateImportDelivery"/>
		    		</widgets>
		    		<fail-widgets>
		    			<section>
		    				<actions>
		    					<script location="component://delys/webapp/delys/WEB-INF/actions/logistics/getReceiveType.groovy"/>
		    				</actions>
		    				<widgets>
								<include-screen name="CreateDomesticDelivery"/>		    				
		    				</widgets>
		    			</section>
		    		</fail-widgets>
    			</section>
    		</fail-widgets>
   		</section>
    </screen>
    
    <screen name="PrintReceiveDelivery">
    	<section>
    		<condition>
    			<if-empty field="parameters.deliveryId"/>
    		</condition>
    		<widgets>
    			<section>
    				<actions>
		                <property-map resource="EmployeeUiLabels" map-name="uiLabelMap" global="true"/>
		                <property-map resource="DelysUiLabels" map-name="uiLabelMap" global="true"/>
		                <property-map resource="DelysLogisticsUiLabels" map-name="uiLabelMap" global="true"/>
		                <property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
		                <set field="defaultFontFamily" value="Arial" />
		                <set field="pageLayoutName" value="main-page-landscape"/>
		                <script location="component://delys/webapp/delys/WEB-INF/actions/logistics/getReceiveType.groovy"/>
		            </actions>
		    		<widgets>
		   				<platform-specific>
		                 	<xsl-fo><html-template location="component://delys/webapp/delys/logistics/delivery/fo/purchaseDelivery.fo.ftl"/></xsl-fo>
		               	</platform-specific>
		    		</widgets>
    			</section>
    		</widgets>
    		<fail-widgets>
    			<section>
    				<actions>
		                <property-map resource="EmployeeUiLabels" map-name="uiLabelMap" global="true"/>
		                <property-map resource="DelysUiLabels" map-name="uiLabelMap" global="true"/>
		                <property-map resource="DelysLogisticsUiLabels" map-name="uiLabelMap" global="true"/>
		                <property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
		                <set field="defaultFontFamily" value="Arial" />
		                <set field="pageLayoutName" value="main-page-landscape"/>
		                <entity-condition list="listGoodItems" entity-name="DeliveryItemDetail">
		                	<condition-expr field-name="deliveryId" from-field="parameters.deliveryId"/>
		                </entity-condition>
		                <entity-one value-field="deliveryGood" entity-name="Delivery">
		                	<field-map field-name="deliveryId" from-field="parameters.deliveryId"/>
		                </entity-one>
		                <entity-condition list="listOtherItems" entity-name="DeliveryItemDetail">
		                	<condition-list>
			                	<condition-expr field-name="fromOrderId" from-field="deliveryGood.orderId"/>
			                	<condition-expr field-name="deliveryTypeId" from-field="deliveryGood.deliveryTypeId" operator="not-equals"/>
		                	</condition-list>
		                </entity-condition>
		                <script location="component://delys/webapp/delys/WEB-INF/actions/logistics/getReceiveType.groovy"/>
		            </actions>
		    		<widgets>
		   				<platform-specific>
		                 	<xsl-fo><html-template location="component://delys/webapp/delys/logistics/delivery/fo/purchaseDelivery.fo.ftl"/></xsl-fo>
		               	</platform-specific>
		    		</widgets>
    			</section>
    		</fail-widgets>
    	</section>
    </screen>
    
    <screen name="DetailPurchaseDelivery">
    	<section>
    		<condition>
    			<if-has-permission permission="DELIVERY" action="_UPDATE"/>
    		</condition>
	    	<actions>
	    		<set field="titleProperty" value="ListReceipt"/>
	    		<set field="selectedMenuItem" value="accPayable"/>
                <set field="selectedMenuItem" value="receiveProduct"/>
                <set field="selectedSubMenuItem" value="ImportProduct"/>
                <set field="tabButtonItem" value="ListPurchaseOrder"/>
            	<set field="tabBarName" value="ImportProductTabBar" global="true" />
			    <set field="tabBarLocation" value="component://delys/widget/DelysMenus.xml" global="true" />
			    <set field="printTabBar" value="true"/>
				<set field="titleProperty" value="DetailReceiveDelivery"/>
				<script location="component://delys/webapp/delys/WEB-INF/actions/logistics/getReceiveType.groovy"/>
    		</actions>
    		<widgets>
    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<platform-specific>
							<html>
								<html-template location="component://delys/webapp/delys/logistics/delivery/detailDelivery.ftl"/>
							</html>
						</platform-specific>
    				</decorator-section>
    			</decorator-screen>
    		</widgets>
    		<fail-widgets>
    			<section>
		   			<condition>
		   				<if-has-permission permission="DELIVERY" action="_VIEW"/>
		    		</condition>
			    	<actions>
			    		<set field="titleProperty" value="DetailReceiveDelivery"/>
						<script location="component://delys/webapp/delys/WEB-INF/actions/logistics/getReceiveType.groovy"/>
			    		<set field="selectedMenuItem" value="accPayable"/>
		                <set field="selectedSubMenuItem" value="accApPurchaseDeliveryList"/>
		    		</actions>
		    		<widgets>
		    			<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
		                    <decorator-section name="body">
		                    	<platform-specific>
									<html>
										<html-template location="component://delys/webapp/delys/logistics/delivery/detailDelivery.ftl"/>
									</html>
								</platform-specific>
		    				</decorator-section>
		    			</decorator-screen>
		    		</widgets>
	    		</section>
    		</fail-widgets>
   		</section>
    </screen>
    <screen name="SalesDeliveries">
    	<section>
    		<actions>
    			<set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="DeliveryNote"/>
				<set field="titleProperty" value="ListDelivery"/>
				<set field="deliveryTypeId" from-field="parameters.deliveryTypeId"/>
    		</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
	                <decorator-section name="body">
	                  	<platform-specific><html><html-template location="component://delys/webapp/delys/logistics/delivery/listSalesDelivery.ftl" /></html></platform-specific>
	  				</decorator-section>
  				</decorator-screen>
			</widgets>
		</section>
	</screen>	
    <screen name="TransferDeliveries">
    	<section>
    		<actions>
    			<set field="selectedMenuItem" value="delivery"/>
                <set field="selectedSubMenuItem" value="TransferNote"/>
				<set field="titleProperty" value="ListDelivery"/>
				<set field="deliveryTypeId" from-field="parameters.deliveryTypeId"/>
    		</actions>
			<widgets>
				<decorator-screen name="DelysCommonDecorator" location="${parameters.mainDecoratorLocation}">
	                <decorator-section name="body">
	                  	<platform-specific><html><html-template location="component://delys/webapp/delys/logistics/delivery/listTransferDelivery.ftl" /></html></platform-specific>
	  				</decorator-section>
  				</decorator-screen>
			</widgets>
		</section>
	</screen>
</screens>